!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=23)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NAMED_TAG="named",t.NAME_TAG="name",t.UNMANAGED_TAG="unmanaged",t.OPTIONAL_TAG="optional",t.INJECT_TAG="inject",t.MULTI_INJECT_TAG="multi_inject",t.TAGGED="inversify:tagged",t.TAGGED_PROP="inversify:tagged_props",t.PARAM_TYPES="inversify:paramtypes",t.DESIGN_PARAM_TYPES="design:paramtypes",t.POST_CONSTRUCT="post_construct"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",t.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",t.NULL_ARGUMENT="NULL argument",t.KEY_NOT_FOUND="Key Not Found",t.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",t.CANNOT_UNBIND="Could not unbind serviceIdentifier:",t.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",t.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",t.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:",t.UNDEFINED_INJECT_ANNOTATION=function(e){return"@inject called with undefined this could mean that the class "+e+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},t.CIRCULAR_DEPENDENCY="Circular dependency found:",t.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",t.INVALID_BINDING_TYPE="Invalid binding type:",t.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",t.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",t.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",t.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",t.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",t.ARGUMENTS_LENGTH_MISMATCH=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"The number of constructor arguments in the derived class "+e[0]+" must be >= than the number of constructor arguments of its base class."},t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",t.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class",t.POST_CONSTRUCT_ERROR=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"@postConstruct error in class "+e[0]+": "+e[1]},t.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"It looks like there is a circular dependency in one of the '"+e[0]+"' bindings. Please investigate bindings withservice identifier '"+e[1]+"'."},t.STACK_OVERFLOW="Maximum call stack size exceeded"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.toString=function(){return this.key===r.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},e}();t.Metadata=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BindingScopeEnum={Request:"Request",Singleton:"Singleton",Transient:"Transient"};t.BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};t.TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(0);function a(e,t,n,i,a){var o={},u="number"==typeof a,s=void 0!==a&&u?a.toString():n;if(u&&void 0!==n)throw new Error(r.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(e,t)&&(o=Reflect.getMetadata(e,t));var l=o[s];if(Array.isArray(l))for(var c=0,f=l;c<f.length;c++){var d=f[c];if(d.key===i.key)throw new Error(r.DUPLICATED_METADATA+" "+d.key.toString())}else l=[];l.push(i),o[s]=l,Reflect.defineMetadata(e,o,t)}function o(e,t){Reflect.decorate(e,t)}function u(e,t){return function(n,r){t(n,r,e)}}t.tagParameter=function(e,t,n,r){a(i.TAGGED,e,t,r,n)},t.tagProperty=function(e,t,n){a(i.TAGGED_PROP,e.constructor,t,n)},t.decorate=function(e,t,n){"number"==typeof n?o([u(n,e)],t):"string"==typeof n?Reflect.decorate([e],t,n):o([e],t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={GltfService:Symbol.for("GltfService"),SceneService:Symbol.for("SceneService"),SceneNodeService:Symbol.for("SceneNodeService"),RendererService:Symbol.for("RendererService"),CameraService:Symbol.for("CameraService"),MouseService:Symbol.for("MouseService")};t.SERVICE_IDENTIFIER=r;t.BRDFLUT_PATH="textures/brdfLUT.png";t.MIN_FILTER={9728:"nearest",9729:"linear",9984:"nearest mipmap nearest",9985:"linear mipmap nearest",9986:"nearest mipmap linear",9987:"linear mipmap linear"};t.MAG_FILTER={9728:"nearest",9729:"linear"};const i={33071:"clamp",33648:"mirror",10497:"repeat"};t.WRAP_S=i;const a=i;t.WRAP_T=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.METADATA_KEY=r;var i=n(27);t.Container=i.Container;var a=n(3);t.BindingScopeEnum=a.BindingScopeEnum,t.BindingTypeEnum=a.BindingTypeEnum,t.TargetTypeEnum=a.TargetTypeEnum;var o=n(43);t.AsyncContainerModule=o.AsyncContainerModule,t.ContainerModule=o.ContainerModule;var u=n(44);t.injectable=u.injectable;var s=n(45);t.tagged=s.tagged;var l=n(46);t.named=l.named;var c=n(17);t.inject=c.inject,t.LazyServiceIdentifer=c.LazyServiceIdentifer;var f=n(47);t.optional=f.optional;var d=n(48);t.unmanaged=d.unmanaged;var p=n(49);t.multiInject=p.multiInject;var h=n(50);t.targetName=h.targetName;var m=n(51);t.postConstruct=m.postConstruct;var v=n(15);t.MetadataReader=v.MetadataReader;var g=n(7);t.id=g.id;var y=n(4);t.decorate=y.decorate;var b=n(20);t.traverseAncerstors=b.traverseAncerstors,t.taggedConstraint=b.taggedConstraint,t.namedConstraint=b.namedConstraint,t.typeConstraint=b.typeConstraint;var _=n(8);t.getServiceIdentifierAsString=_.getServiceIdentifierAsString;var w=n(52);t.multiBindToService=w.multiBindToService},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=0;t.id=function(){return r++}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);function i(e){return"function"==typeof e?e.name:"symbol"==typeof e?e.toString():e}function a(e){if(e.name)return e.name;var t=e.toString(),n=t.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+t}t.getServiceIdentifierAsString=i,t.listRegisteredBindingsForServiceIdentifier=function(e,t,n){var r="",i=n(e,t);return 0!==i.length&&(r="\nRegistered bindings:",i.forEach(function(e){var t="Object";null!==e.implementationType&&(t=a(e.implementationType)),r=r+"\n "+t,e.constraint.metaData&&(r=r+" - "+e.constraint.metaData)})),r},t.circularDependencyToException=function e(t){t.childRequests.forEach(function(t){if(function e(t,n){return null!==t.parentRequest&&(t.parentRequest.serviceIdentifier===n||e(t.parentRequest,n))}(t,t.serviceIdentifier)){var n=function e(t,n){void 0===n&&(n=[]);var r=i(t.serviceIdentifier);return n.push(r),null!==t.parentRequest?e(t.parentRequest,n):n}(t).reverse().join(" --\x3e ");throw new Error(r.CIRCULAR_DEPENDENCY+" "+n)}e(t)})},t.listMetadataForTarget=function(e,t){if(t.isTagged()||t.isNamed()){var n="",r=t.getNamedTag(),i=t.getCustomTags();return null!==r&&(n+=r.toString()+"\n"),null!==i&&i.forEach(function(e){n+=e.toString()+"\n"})," "+e+"\n "+e+" - "+n}return" "+e},t.getFunctionName=a},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"EPSILON",function(){return p}),n.d(r,"ARRAY_TYPE",function(){return h}),n.d(r,"RANDOM",function(){return m}),n.d(r,"setMatrixArrayType",function(){return v}),n.d(r,"toRadian",function(){return y}),n.d(r,"equals",function(){return b});var i={};n.r(i),n.d(i,"create",function(){return _}),n.d(i,"clone",function(){return w}),n.d(i,"copy",function(){return x}),n.d(i,"identity",function(){return T}),n.d(i,"fromValues",function(){return E}),n.d(i,"set",function(){return S}),n.d(i,"transpose",function(){return M}),n.d(i,"invert",function(){return A}),n.d(i,"adjoint",function(){return C}),n.d(i,"determinant",function(){return k}),n.d(i,"multiply",function(){return O}),n.d(i,"rotate",function(){return N}),n.d(i,"scale",function(){return R}),n.d(i,"fromRotation",function(){return P}),n.d(i,"fromScaling",function(){return I}),n.d(i,"str",function(){return D}),n.d(i,"frob",function(){return j}),n.d(i,"LDU",function(){return L}),n.d(i,"add",function(){return F}),n.d(i,"subtract",function(){return B}),n.d(i,"exactEquals",function(){return U}),n.d(i,"equals",function(){return z}),n.d(i,"multiplyScalar",function(){return V}),n.d(i,"multiplyScalarAndAdd",function(){return H}),n.d(i,"mul",function(){return G}),n.d(i,"sub",function(){return q});var a={};n.r(a),n.d(a,"create",function(){return W}),n.d(a,"clone",function(){return Y}),n.d(a,"copy",function(){return X}),n.d(a,"identity",function(){return $}),n.d(a,"fromValues",function(){return Q}),n.d(a,"set",function(){return K}),n.d(a,"invert",function(){return J}),n.d(a,"determinant",function(){return Z}),n.d(a,"multiply",function(){return ee}),n.d(a,"rotate",function(){return te}),n.d(a,"scale",function(){return ne}),n.d(a,"translate",function(){return re}),n.d(a,"fromRotation",function(){return ie}),n.d(a,"fromScaling",function(){return ae}),n.d(a,"fromTranslation",function(){return oe}),n.d(a,"str",function(){return ue}),n.d(a,"frob",function(){return se}),n.d(a,"add",function(){return le}),n.d(a,"subtract",function(){return ce}),n.d(a,"multiplyScalar",function(){return fe}),n.d(a,"multiplyScalarAndAdd",function(){return de}),n.d(a,"exactEquals",function(){return pe}),n.d(a,"equals",function(){return he}),n.d(a,"mul",function(){return me}),n.d(a,"sub",function(){return ve});var o={};n.r(o),n.d(o,"create",function(){return ge}),n.d(o,"fromMat4",function(){return ye}),n.d(o,"clone",function(){return be}),n.d(o,"copy",function(){return _e}),n.d(o,"fromValues",function(){return we}),n.d(o,"set",function(){return xe}),n.d(o,"identity",function(){return Te}),n.d(o,"transpose",function(){return Ee}),n.d(o,"invert",function(){return Se}),n.d(o,"adjoint",function(){return Me}),n.d(o,"determinant",function(){return Ae}),n.d(o,"multiply",function(){return Ce}),n.d(o,"translate",function(){return ke}),n.d(o,"rotate",function(){return Oe}),n.d(o,"scale",function(){return Ne}),n.d(o,"fromTranslation",function(){return Re}),n.d(o,"fromRotation",function(){return Pe}),n.d(o,"fromScaling",function(){return Ie}),n.d(o,"fromMat2d",function(){return De}),n.d(o,"fromQuat",function(){return je}),n.d(o,"normalFromMat4",function(){return Le}),n.d(o,"projection",function(){return Fe}),n.d(o,"str",function(){return Be}),n.d(o,"frob",function(){return Ue}),n.d(o,"add",function(){return ze}),n.d(o,"subtract",function(){return Ve}),n.d(o,"multiplyScalar",function(){return He}),n.d(o,"multiplyScalarAndAdd",function(){return Ge}),n.d(o,"exactEquals",function(){return qe}),n.d(o,"equals",function(){return We}),n.d(o,"mul",function(){return Ye}),n.d(o,"sub",function(){return Xe});var u={};n.r(u),n.d(u,"create",function(){return $e}),n.d(u,"clone",function(){return Qe}),n.d(u,"copy",function(){return Ke}),n.d(u,"fromValues",function(){return Je}),n.d(u,"set",function(){return Ze}),n.d(u,"identity",function(){return et}),n.d(u,"transpose",function(){return tt}),n.d(u,"invert",function(){return nt}),n.d(u,"adjoint",function(){return rt}),n.d(u,"determinant",function(){return it}),n.d(u,"multiply",function(){return at}),n.d(u,"translate",function(){return ot}),n.d(u,"scale",function(){return ut}),n.d(u,"rotate",function(){return st}),n.d(u,"rotateX",function(){return lt}),n.d(u,"rotateY",function(){return ct}),n.d(u,"rotateZ",function(){return ft}),n.d(u,"fromTranslation",function(){return dt}),n.d(u,"fromScaling",function(){return pt}),n.d(u,"fromRotation",function(){return ht}),n.d(u,"fromXRotation",function(){return mt}),n.d(u,"fromYRotation",function(){return vt}),n.d(u,"fromZRotation",function(){return gt}),n.d(u,"fromRotationTranslation",function(){return yt}),n.d(u,"fromQuat2",function(){return bt}),n.d(u,"getTranslation",function(){return _t}),n.d(u,"getScaling",function(){return wt}),n.d(u,"getRotation",function(){return xt}),n.d(u,"fromRotationTranslationScale",function(){return Tt}),n.d(u,"fromRotationTranslationScaleOrigin",function(){return Et}),n.d(u,"fromQuat",function(){return St}),n.d(u,"frustum",function(){return Mt}),n.d(u,"perspective",function(){return At}),n.d(u,"perspectiveFromFieldOfView",function(){return Ct}),n.d(u,"ortho",function(){return kt}),n.d(u,"lookAt",function(){return Ot}),n.d(u,"targetTo",function(){return Nt}),n.d(u,"str",function(){return Rt}),n.d(u,"frob",function(){return Pt}),n.d(u,"add",function(){return It}),n.d(u,"subtract",function(){return Dt}),n.d(u,"multiplyScalar",function(){return jt}),n.d(u,"multiplyScalarAndAdd",function(){return Lt}),n.d(u,"exactEquals",function(){return Ft}),n.d(u,"equals",function(){return Bt}),n.d(u,"mul",function(){return Ut}),n.d(u,"sub",function(){return zt});var s={};n.r(s),n.d(s,"create",function(){return Vt}),n.d(s,"clone",function(){return Ht}),n.d(s,"length",function(){return Gt}),n.d(s,"fromValues",function(){return qt}),n.d(s,"copy",function(){return Wt}),n.d(s,"set",function(){return Yt}),n.d(s,"add",function(){return Xt}),n.d(s,"subtract",function(){return $t}),n.d(s,"multiply",function(){return Qt}),n.d(s,"divide",function(){return Kt}),n.d(s,"ceil",function(){return Jt}),n.d(s,"floor",function(){return Zt}),n.d(s,"min",function(){return en}),n.d(s,"max",function(){return tn}),n.d(s,"round",function(){return nn}),n.d(s,"scale",function(){return rn}),n.d(s,"scaleAndAdd",function(){return an}),n.d(s,"distance",function(){return on}),n.d(s,"squaredDistance",function(){return un}),n.d(s,"squaredLength",function(){return sn}),n.d(s,"negate",function(){return ln}),n.d(s,"inverse",function(){return cn}),n.d(s,"normalize",function(){return fn}),n.d(s,"dot",function(){return dn}),n.d(s,"cross",function(){return pn}),n.d(s,"lerp",function(){return hn}),n.d(s,"hermite",function(){return mn}),n.d(s,"bezier",function(){return vn}),n.d(s,"random",function(){return gn}),n.d(s,"transformMat4",function(){return yn}),n.d(s,"transformMat3",function(){return bn}),n.d(s,"transformQuat",function(){return _n}),n.d(s,"rotateX",function(){return wn}),n.d(s,"rotateY",function(){return xn}),n.d(s,"rotateZ",function(){return Tn}),n.d(s,"angle",function(){return En}),n.d(s,"zero",function(){return Sn}),n.d(s,"str",function(){return Mn}),n.d(s,"exactEquals",function(){return An}),n.d(s,"equals",function(){return Cn}),n.d(s,"sub",function(){return On}),n.d(s,"mul",function(){return Nn}),n.d(s,"div",function(){return Rn}),n.d(s,"dist",function(){return Pn}),n.d(s,"sqrDist",function(){return In}),n.d(s,"len",function(){return Dn}),n.d(s,"sqrLen",function(){return jn}),n.d(s,"forEach",function(){return Ln});var l={};n.r(l),n.d(l,"create",function(){return Fn}),n.d(l,"clone",function(){return Bn}),n.d(l,"fromValues",function(){return Un}),n.d(l,"copy",function(){return zn}),n.d(l,"set",function(){return Vn}),n.d(l,"add",function(){return Hn}),n.d(l,"subtract",function(){return Gn}),n.d(l,"multiply",function(){return qn}),n.d(l,"divide",function(){return Wn}),n.d(l,"ceil",function(){return Yn}),n.d(l,"floor",function(){return Xn}),n.d(l,"min",function(){return $n}),n.d(l,"max",function(){return Qn}),n.d(l,"round",function(){return Kn}),n.d(l,"scale",function(){return Jn}),n.d(l,"scaleAndAdd",function(){return Zn}),n.d(l,"distance",function(){return er}),n.d(l,"squaredDistance",function(){return tr}),n.d(l,"length",function(){return nr}),n.d(l,"squaredLength",function(){return rr}),n.d(l,"negate",function(){return ir}),n.d(l,"inverse",function(){return ar}),n.d(l,"normalize",function(){return or}),n.d(l,"dot",function(){return ur}),n.d(l,"cross",function(){return sr}),n.d(l,"lerp",function(){return lr}),n.d(l,"random",function(){return cr}),n.d(l,"transformMat4",function(){return fr}),n.d(l,"transformQuat",function(){return dr}),n.d(l,"zero",function(){return pr}),n.d(l,"str",function(){return hr}),n.d(l,"exactEquals",function(){return mr}),n.d(l,"equals",function(){return vr}),n.d(l,"sub",function(){return gr}),n.d(l,"mul",function(){return yr}),n.d(l,"div",function(){return br}),n.d(l,"dist",function(){return _r}),n.d(l,"sqrDist",function(){return wr}),n.d(l,"len",function(){return xr}),n.d(l,"sqrLen",function(){return Tr}),n.d(l,"forEach",function(){return Er});var c={};n.r(c),n.d(c,"create",function(){return Sr}),n.d(c,"identity",function(){return Mr}),n.d(c,"setAxisAngle",function(){return Ar}),n.d(c,"getAxisAngle",function(){return Cr}),n.d(c,"multiply",function(){return kr}),n.d(c,"rotateX",function(){return Or}),n.d(c,"rotateY",function(){return Nr}),n.d(c,"rotateZ",function(){return Rr}),n.d(c,"calculateW",function(){return Pr}),n.d(c,"slerp",function(){return Ir}),n.d(c,"random",function(){return Dr}),n.d(c,"invert",function(){return jr}),n.d(c,"conjugate",function(){return Lr}),n.d(c,"fromMat3",function(){return Fr}),n.d(c,"fromEuler",function(){return Br}),n.d(c,"str",function(){return Ur}),n.d(c,"clone",function(){return Yr}),n.d(c,"fromValues",function(){return Xr}),n.d(c,"copy",function(){return $r}),n.d(c,"set",function(){return Qr}),n.d(c,"add",function(){return Kr}),n.d(c,"mul",function(){return Jr}),n.d(c,"scale",function(){return Zr}),n.d(c,"dot",function(){return ei}),n.d(c,"lerp",function(){return ti}),n.d(c,"length",function(){return ni}),n.d(c,"len",function(){return ri}),n.d(c,"squaredLength",function(){return ii}),n.d(c,"sqrLen",function(){return ai}),n.d(c,"normalize",function(){return oi}),n.d(c,"exactEquals",function(){return ui}),n.d(c,"equals",function(){return si}),n.d(c,"rotationTo",function(){return li}),n.d(c,"sqlerp",function(){return ci}),n.d(c,"setAxes",function(){return fi});var f={};n.r(f),n.d(f,"create",function(){return di}),n.d(f,"clone",function(){return pi}),n.d(f,"fromValues",function(){return hi}),n.d(f,"fromRotationTranslationValues",function(){return mi}),n.d(f,"fromRotationTranslation",function(){return vi}),n.d(f,"fromTranslation",function(){return gi}),n.d(f,"fromRotation",function(){return yi}),n.d(f,"fromMat4",function(){return bi}),n.d(f,"copy",function(){return _i}),n.d(f,"identity",function(){return wi}),n.d(f,"set",function(){return xi}),n.d(f,"getReal",function(){return Ti}),n.d(f,"getDual",function(){return Ei}),n.d(f,"setReal",function(){return Si}),n.d(f,"setDual",function(){return Mi}),n.d(f,"getTranslation",function(){return Ai}),n.d(f,"translate",function(){return Ci}),n.d(f,"rotateX",function(){return ki}),n.d(f,"rotateY",function(){return Oi}),n.d(f,"rotateZ",function(){return Ni}),n.d(f,"rotateByQuatAppend",function(){return Ri}),n.d(f,"rotateByQuatPrepend",function(){return Pi}),n.d(f,"rotateAroundAxis",function(){return Ii}),n.d(f,"add",function(){return Di}),n.d(f,"multiply",function(){return ji}),n.d(f,"mul",function(){return Li}),n.d(f,"scale",function(){return Fi}),n.d(f,"dot",function(){return Bi}),n.d(f,"lerp",function(){return Ui}),n.d(f,"invert",function(){return zi}),n.d(f,"conjugate",function(){return Vi}),n.d(f,"length",function(){return Hi}),n.d(f,"len",function(){return Gi}),n.d(f,"squaredLength",function(){return qi}),n.d(f,"sqrLen",function(){return Wi}),n.d(f,"normalize",function(){return Yi}),n.d(f,"str",function(){return Xi}),n.d(f,"exactEquals",function(){return $i}),n.d(f,"equals",function(){return Qi});var d={};n.r(d),n.d(d,"create",function(){return Ki}),n.d(d,"clone",function(){return Ji}),n.d(d,"fromValues",function(){return Zi}),n.d(d,"copy",function(){return ea}),n.d(d,"set",function(){return ta}),n.d(d,"add",function(){return na}),n.d(d,"subtract",function(){return ra}),n.d(d,"multiply",function(){return ia}),n.d(d,"divide",function(){return aa}),n.d(d,"ceil",function(){return oa}),n.d(d,"floor",function(){return ua}),n.d(d,"min",function(){return sa}),n.d(d,"max",function(){return la}),n.d(d,"round",function(){return ca}),n.d(d,"scale",function(){return fa}),n.d(d,"scaleAndAdd",function(){return da}),n.d(d,"distance",function(){return pa}),n.d(d,"squaredDistance",function(){return ha}),n.d(d,"length",function(){return ma}),n.d(d,"squaredLength",function(){return va}),n.d(d,"negate",function(){return ga}),n.d(d,"inverse",function(){return ya}),n.d(d,"normalize",function(){return ba}),n.d(d,"dot",function(){return _a}),n.d(d,"cross",function(){return wa}),n.d(d,"lerp",function(){return xa}),n.d(d,"random",function(){return Ta}),n.d(d,"transformMat2",function(){return Ea}),n.d(d,"transformMat2d",function(){return Sa}),n.d(d,"transformMat3",function(){return Ma}),n.d(d,"transformMat4",function(){return Aa}),n.d(d,"rotate",function(){return Ca}),n.d(d,"angle",function(){return ka}),n.d(d,"zero",function(){return Oa}),n.d(d,"str",function(){return Na}),n.d(d,"exactEquals",function(){return Ra}),n.d(d,"equals",function(){return Pa}),n.d(d,"len",function(){return Ia}),n.d(d,"sub",function(){return Da}),n.d(d,"mul",function(){return ja}),n.d(d,"div",function(){return La}),n.d(d,"dist",function(){return Fa}),n.d(d,"sqrDist",function(){return Ba}),n.d(d,"sqrLen",function(){return Ua}),n.d(d,"forEach",function(){return za});var p=1e-6,h="undefined"!=typeof Float32Array?Float32Array:Array,m=Math.random;function v(e){h=e}var g=Math.PI/180;function y(e){return e*g}function b(e,t){return Math.abs(e-t)<=p*Math.max(1,Math.abs(e),Math.abs(t))}function _(){var e=new h(4);return h!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e}function w(e){var t=new h(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function x(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function T(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e}function E(e,t,n,r){var i=new h(4);return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i}function S(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function M(e,t){if(e===t){var n=t[1];e[1]=t[2],e[2]=n}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e}function A(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n*a-i*r;return o?(o=1/o,e[0]=a*o,e[1]=-r*o,e[2]=-i*o,e[3]=n*o,e):null}function C(e,t){var n=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=n,e}function k(e){return e[0]*e[3]-e[2]*e[1]}function O(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],u=n[0],s=n[1],l=n[2],c=n[3];return e[0]=r*u+a*s,e[1]=i*u+o*s,e[2]=r*l+a*c,e[3]=i*l+o*c,e}function N(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],u=Math.sin(n),s=Math.cos(n);return e[0]=r*s+a*u,e[1]=i*s+o*u,e[2]=r*-u+a*s,e[3]=i*-u+o*s,e}function R(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],u=n[0],s=n[1];return e[0]=r*u,e[1]=i*u,e[2]=a*s,e[3]=o*s,e}function P(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=-n,e[3]=r,e}function I(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e}function D(e){return"mat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function j(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2))}function L(e,t,n,r){return e[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-e[2]*n[1],[e,t,n]}function F(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function B(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}function U(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function z(e,t){var n=e[0],r=e[1],i=e[2],a=e[3],o=t[0],u=t[1],s=t[2],l=t[3];return Math.abs(n-o)<=p*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-u)<=p*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-s)<=p*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(a-l)<=p*Math.max(1,Math.abs(a),Math.abs(l))}function V(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function H(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e}var G=O,q=B;function W(){var e=new h(6);return h!=Float32Array&&(e[1]=0,e[2]=0,e[4]=0,e[5]=0),e[0]=1,e[3]=1,e}function Y(e){var t=new h(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function X(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function $(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function Q(e,t,n,r,i,a){var o=new h(6);return o[0]=e,o[1]=t,o[2]=n,o[3]=r,o[4]=i,o[5]=a,o}function K(e,t,n,r,i,a,o){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a,e[5]=o,e}function J(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],u=t[5],s=n*a-r*i;return s?(s=1/s,e[0]=a*s,e[1]=-r*s,e[2]=-i*s,e[3]=n*s,e[4]=(i*u-a*o)*s,e[5]=(r*o-n*u)*s,e):null}function Z(e){return e[0]*e[3]-e[1]*e[2]}function ee(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],u=t[4],s=t[5],l=n[0],c=n[1],f=n[2],d=n[3],p=n[4],h=n[5];return e[0]=r*l+a*c,e[1]=i*l+o*c,e[2]=r*f+a*d,e[3]=i*f+o*d,e[4]=r*p+a*h+u,e[5]=i*p+o*h+s,e}function te(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],u=t[4],s=t[5],l=Math.sin(n),c=Math.cos(n);return e[0]=r*c+a*l,e[1]=i*c+o*l,e[2]=r*-l+a*c,e[3]=i*-l+o*c,e[4]=u,e[5]=s,e}function ne(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],u=t[4],s=t[5],l=n[0],c=n[1];return e[0]=r*l,e[1]=i*l,e[2]=a*c,e[3]=o*c,e[4]=u,e[5]=s,e}function re(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],u=t[4],s=t[5],l=n[0],c=n[1];return e[0]=r,e[1]=i,e[2]=a,e[3]=o,e[4]=r*l+a*c+u,e[5]=i*l+o*c+s,e}function ie(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=-n,e[3]=r,e[4]=0,e[5]=0,e}function ae(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function oe(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function ue(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function se(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+1)}function le(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e}function ce(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e}function fe(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e}function de(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e}function pe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function he(e,t){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],u=e[5],s=t[0],l=t[1],c=t[2],f=t[3],d=t[4],h=t[5];return Math.abs(n-s)<=p*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(r-l)<=p*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(i-c)<=p*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(a-f)<=p*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(o-d)<=p*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(u-h)<=p*Math.max(1,Math.abs(u),Math.abs(h))}var me=ee,ve=ce;function ge(){var e=new h(9);return h!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function ye(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function be(e){var t=new h(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function _e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function we(e,t,n,r,i,a,o,u,s){var l=new h(9);return l[0]=e,l[1]=t,l[2]=n,l[3]=r,l[4]=i,l[5]=a,l[6]=o,l[7]=u,l[8]=s,l}function xe(e,t,n,r,i,a,o,u,s,l){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a,e[5]=o,e[6]=u,e[7]=s,e[8]=l,e}function Te(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Ee(e,t){if(e===t){var n=t[1],r=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function Se(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],u=t[5],s=t[6],l=t[7],c=t[8],f=c*o-u*l,d=-c*a+u*s,p=l*a-o*s,h=n*f+r*d+i*p;return h?(h=1/h,e[0]=f*h,e[1]=(-c*r+i*l)*h,e[2]=(u*r-i*o)*h,e[3]=d*h,e[4]=(c*n-i*s)*h,e[5]=(-u*n+i*a)*h,e[6]=p*h,e[7]=(-l*n+r*s)*h,e[8]=(o*n-r*a)*h,e):null}function Me(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],u=t[5],s=t[6],l=t[7],c=t[8];return e[0]=o*c-u*l,e[1]=i*l-r*c,e[2]=r*u-i*o,e[3]=u*s-a*c,e[4]=n*c-i*s,e[5]=i*a-n*u,e[6]=a*l-o*s,e[7]=r*s-n*l,e[8]=n*o-r*a,e}function Ae(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],u=e[6],s=e[7],l=e[8];return t*(l*a-o*s)+n*(-l*i+o*u)+r*(s*i-a*u)}function Ce(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],u=t[4],s=t[5],l=t[6],c=t[7],f=t[8],d=n[0],p=n[1],h=n[2],m=n[3],v=n[4],g=n[5],y=n[6],b=n[7],_=n[8];return e[0]=d*r+p*o+h*l,e[1]=d*i+p*u+h*c,e[2]=d*a+p*s+h*f,e[3]=m*r+v*o+g*l,e[4]=m*i+v*u+g*c,e[5]=m*a+v*s+g*f,e[6]=y*r+b*o+_*l,e[7]=y*i+b*u+_*c,e[8]=y*a+b*s+_*f,e}function ke(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],u=t[4],s=t[5],l=t[6],c=t[7],f=t[8],d=n[0],p=n[1];return e[0]=r,e[1]=i,e[2]=a,e[3]=o,e[4]=u,e[5]=s,e[6]=d*r+p*o+l,e[7]=d*i+p*u+c,e[8]=d*a+p*s+f,e}function Oe(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],u=t[4],s=t[5],l=t[6],c=t[7],f=t[8],d=Math.sin(n),p=Math.cos(n);return e[0]=p*r+d*o,e[1]=p*i+d*u,e[2]=p*a+d*s,e[3]=p*o-d*r,e[4]=p*u-d*i,e[5]=p*s-d*a,e[6]=l,e[7]=c,e[8]=f,e}function Ne(e,t,n){var r=n[0],i=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function Re(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function Pe(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Ie(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function De(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function je(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n+n,u=r+r,s=i+i,l=n*o,c=r*o,f=r*u,d=i*o,p=i*u,h=i*s,m=a*o,v=a*u,g=a*s;return e[0]=1-f-h,e[3]=c-g,e[6]=d+v,e[1]=c+g,e[4]=1-l-h,e[7]=p-m,e[2]=d-v,e[5]=p+m,e[8]=1-l-f,e}function Le(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],u=t[5],s=t[6],l=t[7],c=t[8],f=t[9],d=t[10],p=t[11],h=t[12],m=t[13],v=t[14],g=t[15],y=n*u-r*o,b=n*s-i*o,_=n*l-a*o,w=r*s-i*u,x=r*l-a*u,T=i*l-a*s,E=c*m-f*h,S=c*v-d*h,M=c*g-p*h,A=f*v-d*m,C=f*g-p*m,k=d*g-p*v,O=y*k-b*C+_*A+w*M-x*S+T*E;return O?(O=1/O,e[0]=(u*k-s*C+l*A)*O,e[1]=(s*M-o*k-l*S)*O,e[2]=(o*C-u*M+l*E)*O,e[3]=(i*C-r*k-a*A)*O,e[4]=(n*k-i*M+a*S)*O,e[5]=(r*M-n*C-a*E)*O,e[6]=(m*T-v*x+g*w)*O,e[7]=(v*_-h*T-g*b)*O,e[8]=(h*x-m*_+g*y)*O,e):null}function Fe(e,t,n){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function Be(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function Ue(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2))}function ze(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e}function Ve(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e}function He(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e}function Ge(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e}function qe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function We(e,t){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],u=e[5],s=e[6],l=e[7],c=e[8],f=t[0],d=t[1],h=t[2],m=t[3],v=t[4],g=t[5],y=t[6],b=t[7],_=t[8];return Math.abs(n-f)<=p*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(r-d)<=p*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(i-h)<=p*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(a-m)<=p*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(o-v)<=p*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(u-g)<=p*Math.max(1,Math.abs(u),Math.abs(g))&&Math.abs(s-y)<=p*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(l-b)<=p*Math.max(1,Math.abs(l),Math.abs(b))&&Math.abs(c-_)<=p*Math.max(1,Math.abs(c),Math.abs(_))}var Ye=Ce,Xe=Ve;function $e(){var e=new h(16);return h!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Qe(e){var t=new h(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Ke(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Je(e,t,n,r,i,a,o,u,s,l,c,f,d,p,m,v){var g=new h(16);return g[0]=e,g[1]=t,g[2]=n,g[3]=r,g[4]=i,g[5]=a,g[6]=o,g[7]=u,g[8]=s,g[9]=l,g[10]=c,g[11]=f,g[12]=d,g[13]=p,g[14]=m,g[15]=v,g}function Ze(e,t,n,r,i,a,o,u,s,l,c,f,d,p,h,m,v){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a,e[5]=o,e[6]=u,e[7]=s,e[8]=l,e[9]=c,e[10]=f,e[11]=d,e[12]=p,e[13]=h,e[14]=m,e[15]=v,e}function et(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function tt(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],a=t[6],o=t[7],u=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=a,e[11]=t[14],e[12]=i,e[13]=o,e[14]=u}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function nt(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],u=t[5],s=t[6],l=t[7],c=t[8],f=t[9],d=t[10],p=t[11],h=t[12],m=t[13],v=t[14],g=t[15],y=n*u-r*o,b=n*s-i*o,_=n*l-a*o,w=r*s-i*u,x=r*l-a*u,T=i*l-a*s,E=c*m-f*h,S=c*v-d*h,M=c*g-p*h,A=f*v-d*m,C=f*g-p*m,k=d*g-p*v,O=y*k-b*C+_*A+w*M-x*S+T*E;return O?(O=1/O,e[0]=(u*k-s*C+l*A)*O,e[1]=(i*C-r*k-a*A)*O,e[2]=(m*T-v*x+g*w)*O,e[3]=(d*x-f*T-p*w)*O,e[4]=(s*M-o*k-l*S)*O,e[5]=(n*k-i*M+a*S)*O,e[6]=(v*_-h*T-g*b)*O,e[7]=(c*T-d*_+p*b)*O,e[8]=(o*C-u*M+l*E)*O,e[9]=(r*M-n*C-a*E)*O,e[10]=(h*x-m*_+g*y)*O,e[11]=(f*_-c*x-p*y)*O,e[12]=(u*S-o*A-s*E)*O,e[13]=(n*A-r*S+i*E)*O,e[14]=(m*b-h*w-v*y)*O,e[15]=(c*w-f*b+d*y)*O,e):null}function rt(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],u=t[5],s=t[6],l=t[7],c=t[8],f=t[9],d=t[10],p=t[11],h=t[12],m=t[13],v=t[14],g=t[15];return e[0]=u*(d*g-p*v)-f*(s*g-l*v)+m*(s*p-l*d),e[1]=-(r*(d*g-p*v)-f*(i*g-a*v)+m*(i*p-a*d)),e[2]=r*(s*g-l*v)-u*(i*g-a*v)+m*(i*l-a*s),e[3]=-(r*(s*p-l*d)-u*(i*p-a*d)+f*(i*l-a*s)),e[4]=-(o*(d*g-p*v)-c*(s*g-l*v)+h*(s*p-l*d)),e[5]=n*(d*g-p*v)-c*(i*g-a*v)+h*(i*p-a*d),e[6]=-(n*(s*g-l*v)-o*(i*g-a*v)+h*(i*l-a*s)),e[7]=n*(s*p-l*d)-o*(i*p-a*d)+c*(i*l-a*s),e[8]=o*(f*g-p*m)-c*(u*g-l*m)+h*(u*p-l*f),e[9]=-(n*(f*g-p*m)-c*(r*g-a*m)+h*(r*p-a*f)),e[10]=n*(u*g-l*m)-o*(r*g-a*m)+h*(r*l-a*u),e[11]=-(n*(u*p-l*f)-o*(r*p-a*f)+c*(r*l-a*u)),e[12]=-(o*(f*v-d*m)-c*(u*v-s*m)+h*(u*d-s*f)),e[13]=n*(f*v-d*m)-c*(r*v-i*m)+h*(r*d-i*f),e[14]=-(n*(u*v-s*m)-o*(r*v-i*m)+h*(r*s-i*u)),e[15]=n*(u*d-s*f)-o*(r*d-i*f)+c*(r*s-i*u),e}function it(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],u=e[6],s=e[7],l=e[8],c=e[9],f=e[10],d=e[11],p=e[12],h=e[13],m=e[14],v=e[15];return(t*o-n*a)*(f*v-d*m)-(t*u-r*a)*(c*v-d*h)+(t*s-i*a)*(c*m-f*h)+(n*u-r*o)*(l*v-d*p)-(n*s-i*o)*(l*m-f*p)+(r*s-i*u)*(l*h-c*p)}function at(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],u=t[4],s=t[5],l=t[6],c=t[7],f=t[8],d=t[9],p=t[10],h=t[11],m=t[12],v=t[13],g=t[14],y=t[15],b=n[0],_=n[1],w=n[2],x=n[3];return e[0]=b*r+_*u+w*f+x*m,e[1]=b*i+_*s+w*d+x*v,e[2]=b*a+_*l+w*p+x*g,e[3]=b*o+_*c+w*h+x*y,b=n[4],_=n[5],w=n[6],x=n[7],e[4]=b*r+_*u+w*f+x*m,e[5]=b*i+_*s+w*d+x*v,e[6]=b*a+_*l+w*p+x*g,e[7]=b*o+_*c+w*h+x*y,b=n[8],_=n[9],w=n[10],x=n[11],e[8]=b*r+_*u+w*f+x*m,e[9]=b*i+_*s+w*d+x*v,e[10]=b*a+_*l+w*p+x*g,e[11]=b*o+_*c+w*h+x*y,b=n[12],_=n[13],w=n[14],x=n[15],e[12]=b*r+_*u+w*f+x*m,e[13]=b*i+_*s+w*d+x*v,e[14]=b*a+_*l+w*p+x*g,e[15]=b*o+_*c+w*h+x*y,e}function ot(e,t,n){var r,i,a,o,u,s,l,c,f,d,p,h,m=n[0],v=n[1],g=n[2];return t===e?(e[12]=t[0]*m+t[4]*v+t[8]*g+t[12],e[13]=t[1]*m+t[5]*v+t[9]*g+t[13],e[14]=t[2]*m+t[6]*v+t[10]*g+t[14],e[15]=t[3]*m+t[7]*v+t[11]*g+t[15]):(r=t[0],i=t[1],a=t[2],o=t[3],u=t[4],s=t[5],l=t[6],c=t[7],f=t[8],d=t[9],p=t[10],h=t[11],e[0]=r,e[1]=i,e[2]=a,e[3]=o,e[4]=u,e[5]=s,e[6]=l,e[7]=c,e[8]=f,e[9]=d,e[10]=p,e[11]=h,e[12]=r*m+u*v+f*g+t[12],e[13]=i*m+s*v+d*g+t[13],e[14]=a*m+l*v+p*g+t[14],e[15]=o*m+c*v+h*g+t[15]),e}function ut(e,t,n){var r=n[0],i=n[1],a=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function st(e,t,n,r){var i,a,o,u,s,l,c,f,d,h,m,v,g,y,b,_,w,x,T,E,S,M,A,C,k=r[0],O=r[1],N=r[2],R=Math.sqrt(k*k+O*O+N*N);return R<p?null:(k*=R=1/R,O*=R,N*=R,i=Math.sin(n),o=1-(a=Math.cos(n)),u=t[0],s=t[1],l=t[2],c=t[3],f=t[4],d=t[5],h=t[6],m=t[7],v=t[8],g=t[9],y=t[10],b=t[11],_=k*k*o+a,w=O*k*o+N*i,x=N*k*o-O*i,T=k*O*o-N*i,E=O*O*o+a,S=N*O*o+k*i,M=k*N*o+O*i,A=O*N*o-k*i,C=N*N*o+a,e[0]=u*_+f*w+v*x,e[1]=s*_+d*w+g*x,e[2]=l*_+h*w+y*x,e[3]=c*_+m*w+b*x,e[4]=u*T+f*E+v*S,e[5]=s*T+d*E+g*S,e[6]=l*T+h*E+y*S,e[7]=c*T+m*E+b*S,e[8]=u*M+f*A+v*C,e[9]=s*M+d*A+g*C,e[10]=l*M+h*A+y*C,e[11]=c*M+m*A+b*C,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function lt(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[4],o=t[5],u=t[6],s=t[7],l=t[8],c=t[9],f=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+l*r,e[5]=o*i+c*r,e[6]=u*i+f*r,e[7]=s*i+d*r,e[8]=l*i-a*r,e[9]=c*i-o*r,e[10]=f*i-u*r,e[11]=d*i-s*r,e}function ct(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],u=t[2],s=t[3],l=t[8],c=t[9],f=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i-l*r,e[1]=o*i-c*r,e[2]=u*i-f*r,e[3]=s*i-d*r,e[8]=a*r+l*i,e[9]=o*r+c*i,e[10]=u*r+f*i,e[11]=s*r+d*i,e}function ft(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],u=t[2],s=t[3],l=t[4],c=t[5],f=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+l*r,e[1]=o*i+c*r,e[2]=u*i+f*r,e[3]=s*i+d*r,e[4]=l*i-a*r,e[5]=c*i-o*r,e[6]=f*i-u*r,e[7]=d*i-s*r,e}function dt(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function pt(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function ht(e,t,n){var r,i,a,o=n[0],u=n[1],s=n[2],l=Math.sqrt(o*o+u*u+s*s);return l<p?null:(o*=l=1/l,u*=l,s*=l,r=Math.sin(t),a=1-(i=Math.cos(t)),e[0]=o*o*a+i,e[1]=u*o*a+s*r,e[2]=s*o*a-u*r,e[3]=0,e[4]=o*u*a-s*r,e[5]=u*u*a+i,e[6]=s*u*a+o*r,e[7]=0,e[8]=o*s*a+u*r,e[9]=u*s*a-o*r,e[10]=s*s*a+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function mt(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function vt(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function gt(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function yt(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],u=r+r,s=i+i,l=a+a,c=r*u,f=r*s,d=r*l,p=i*s,h=i*l,m=a*l,v=o*u,g=o*s,y=o*l;return e[0]=1-(p+m),e[1]=f+y,e[2]=d-g,e[3]=0,e[4]=f-y,e[5]=1-(c+m),e[6]=h+v,e[7]=0,e[8]=d+g,e[9]=h-v,e[10]=1-(c+p),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function bt(e,t){var n=new h(3),r=-t[0],i=-t[1],a=-t[2],o=t[3],u=t[4],s=t[5],l=t[6],c=t[7],f=r*r+i*i+a*a+o*o;return f>0?(n[0]=2*(u*o+c*r+s*a-l*i)/f,n[1]=2*(s*o+c*i+l*r-u*a)/f,n[2]=2*(l*o+c*a+u*i-s*r)/f):(n[0]=2*(u*o+c*r+s*a-l*i),n[1]=2*(s*o+c*i+l*r-u*a),n[2]=2*(l*o+c*a+u*i-s*r)),yt(e,t,n),e}function _t(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function wt(e,t){var n=t[0],r=t[1],i=t[2],a=t[4],o=t[5],u=t[6],s=t[8],l=t[9],c=t[10];return e[0]=Math.sqrt(n*n+r*r+i*i),e[1]=Math.sqrt(a*a+o*o+u*u),e[2]=Math.sqrt(s*s+l*l+c*c),e}function xt(e,t){var n=t[0]+t[5]+t[10],r=0;return n>0?(r=2*Math.sqrt(n+1),e[3]=.25*r,e[0]=(t[6]-t[9])/r,e[1]=(t[8]-t[2])/r,e[2]=(t[1]-t[4])/r):t[0]>t[5]&&t[0]>t[10]?(r=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/r,e[0]=.25*r,e[1]=(t[1]+t[4])/r,e[2]=(t[8]+t[2])/r):t[5]>t[10]?(r=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/r,e[0]=(t[1]+t[4])/r,e[1]=.25*r,e[2]=(t[6]+t[9])/r):(r=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/r,e[0]=(t[8]+t[2])/r,e[1]=(t[6]+t[9])/r,e[2]=.25*r),e}function Tt(e,t,n,r){var i=t[0],a=t[1],o=t[2],u=t[3],s=i+i,l=a+a,c=o+o,f=i*s,d=i*l,p=i*c,h=a*l,m=a*c,v=o*c,g=u*s,y=u*l,b=u*c,_=r[0],w=r[1],x=r[2];return e[0]=(1-(h+v))*_,e[1]=(d+b)*_,e[2]=(p-y)*_,e[3]=0,e[4]=(d-b)*w,e[5]=(1-(f+v))*w,e[6]=(m+g)*w,e[7]=0,e[8]=(p+y)*x,e[9]=(m-g)*x,e[10]=(1-(f+h))*x,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function Et(e,t,n,r,i){var a=t[0],o=t[1],u=t[2],s=t[3],l=a+a,c=o+o,f=u+u,d=a*l,p=a*c,h=a*f,m=o*c,v=o*f,g=u*f,y=s*l,b=s*c,_=s*f,w=r[0],x=r[1],T=r[2],E=i[0],S=i[1],M=i[2],A=(1-(m+g))*w,C=(p+_)*w,k=(h-b)*w,O=(p-_)*x,N=(1-(d+g))*x,R=(v+y)*x,P=(h+b)*T,I=(v-y)*T,D=(1-(d+m))*T;return e[0]=A,e[1]=C,e[2]=k,e[3]=0,e[4]=O,e[5]=N,e[6]=R,e[7]=0,e[8]=P,e[9]=I,e[10]=D,e[11]=0,e[12]=n[0]+E-(A*E+O*S+P*M),e[13]=n[1]+S-(C*E+N*S+I*M),e[14]=n[2]+M-(k*E+R*S+D*M),e[15]=1,e}function St(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n+n,u=r+r,s=i+i,l=n*o,c=r*o,f=r*u,d=i*o,p=i*u,h=i*s,m=a*o,v=a*u,g=a*s;return e[0]=1-f-h,e[1]=c+g,e[2]=d-v,e[3]=0,e[4]=c-g,e[5]=1-l-h,e[6]=p+m,e[7]=0,e[8]=d+v,e[9]=p-m,e[10]=1-l-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Mt(e,t,n,r,i,a,o){var u=1/(n-t),s=1/(i-r),l=1/(a-o);return e[0]=2*a*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*a*s,e[6]=0,e[7]=0,e[8]=(n+t)*u,e[9]=(i+r)*s,e[10]=(o+a)*l,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*a*2*l,e[15]=0,e}function At(e,t,n,r,i){var a,o=1/Math.tan(t/2);return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(a=1/(r-i),e[10]=(i+r)*a,e[14]=2*i*r*a):(e[10]=-1,e[14]=-2*r),e}function Ct(e,t,n,r){var i=Math.tan(t.upDegrees*Math.PI/180),a=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),u=Math.tan(t.rightDegrees*Math.PI/180),s=2/(o+u),l=2/(i+a);return e[0]=s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=l,e[6]=0,e[7]=0,e[8]=-(o-u)*s*.5,e[9]=(i-a)*l*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e}function kt(e,t,n,r,i,a,o){var u=1/(t-n),s=1/(r-i),l=1/(a-o);return e[0]=-2*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+n)*u,e[13]=(i+r)*s,e[14]=(o+a)*l,e[15]=1,e}function Ot(e,t,n,r){var i,a,o,u,s,l,c,f,d,h,m=t[0],v=t[1],g=t[2],y=r[0],b=r[1],_=r[2],w=n[0],x=n[1],T=n[2];return Math.abs(m-w)<p&&Math.abs(v-x)<p&&Math.abs(g-T)<p?et(e):(c=m-w,f=v-x,d=g-T,i=b*(d*=h=1/Math.sqrt(c*c+f*f+d*d))-_*(f*=h),a=_*(c*=h)-y*d,o=y*f-b*c,(h=Math.sqrt(i*i+a*a+o*o))?(i*=h=1/h,a*=h,o*=h):(i=0,a=0,o=0),u=f*o-d*a,s=d*i-c*o,l=c*a-f*i,(h=Math.sqrt(u*u+s*s+l*l))?(u*=h=1/h,s*=h,l*=h):(u=0,s=0,l=0),e[0]=i,e[1]=u,e[2]=c,e[3]=0,e[4]=a,e[5]=s,e[6]=f,e[7]=0,e[8]=o,e[9]=l,e[10]=d,e[11]=0,e[12]=-(i*m+a*v+o*g),e[13]=-(u*m+s*v+l*g),e[14]=-(c*m+f*v+d*g),e[15]=1,e)}function Nt(e,t,n,r){var i=t[0],a=t[1],o=t[2],u=r[0],s=r[1],l=r[2],c=i-n[0],f=a-n[1],d=o-n[2],p=c*c+f*f+d*d;p>0&&(c*=p=1/Math.sqrt(p),f*=p,d*=p);var h=s*d-l*f,m=l*c-u*d,v=u*f-s*c;return(p=h*h+m*m+v*v)>0&&(h*=p=1/Math.sqrt(p),m*=p,v*=p),e[0]=h,e[1]=m,e[2]=v,e[3]=0,e[4]=f*v-d*m,e[5]=d*h-c*v,e[6]=c*m-f*h,e[7]=0,e[8]=c,e[9]=f,e[10]=d,e[11]=0,e[12]=i,e[13]=a,e[14]=o,e[15]=1,e}function Rt(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function Pt(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2)+Math.pow(e[9],2)+Math.pow(e[10],2)+Math.pow(e[11],2)+Math.pow(e[12],2)+Math.pow(e[13],2)+Math.pow(e[14],2)+Math.pow(e[15],2))}function It(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e}function Dt(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function jt(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e}function Lt(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e[9]=t[9]+n[9]*r,e[10]=t[10]+n[10]*r,e[11]=t[11]+n[11]*r,e[12]=t[12]+n[12]*r,e[13]=t[13]+n[13]*r,e[14]=t[14]+n[14]*r,e[15]=t[15]+n[15]*r,e}function Ft(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function Bt(e,t){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],u=e[5],s=e[6],l=e[7],c=e[8],f=e[9],d=e[10],h=e[11],m=e[12],v=e[13],g=e[14],y=e[15],b=t[0],_=t[1],w=t[2],x=t[3],T=t[4],E=t[5],S=t[6],M=t[7],A=t[8],C=t[9],k=t[10],O=t[11],N=t[12],R=t[13],P=t[14],I=t[15];return Math.abs(n-b)<=p*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(r-_)<=p*Math.max(1,Math.abs(r),Math.abs(_))&&Math.abs(i-w)<=p*Math.max(1,Math.abs(i),Math.abs(w))&&Math.abs(a-x)<=p*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(o-T)<=p*Math.max(1,Math.abs(o),Math.abs(T))&&Math.abs(u-E)<=p*Math.max(1,Math.abs(u),Math.abs(E))&&Math.abs(s-S)<=p*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(l-M)<=p*Math.max(1,Math.abs(l),Math.abs(M))&&Math.abs(c-A)<=p*Math.max(1,Math.abs(c),Math.abs(A))&&Math.abs(f-C)<=p*Math.max(1,Math.abs(f),Math.abs(C))&&Math.abs(d-k)<=p*Math.max(1,Math.abs(d),Math.abs(k))&&Math.abs(h-O)<=p*Math.max(1,Math.abs(h),Math.abs(O))&&Math.abs(m-N)<=p*Math.max(1,Math.abs(m),Math.abs(N))&&Math.abs(v-R)<=p*Math.max(1,Math.abs(v),Math.abs(R))&&Math.abs(g-P)<=p*Math.max(1,Math.abs(g),Math.abs(P))&&Math.abs(y-I)<=p*Math.max(1,Math.abs(y),Math.abs(I))}var Ut=at,zt=Dt;function Vt(){var e=new h(3);return h!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function Ht(e){var t=new h(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Gt(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}function qt(e,t,n){var r=new h(3);return r[0]=e,r[1]=t,r[2]=n,r}function Wt(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Yt(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function Xt(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function $t(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function Qt(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function Kt(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function Jt(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function Zt(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function en(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function tn(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}function nn(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function rn(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function an(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}function on(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(n*n+r*r+i*i)}function un(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return n*n+r*r+i*i}function sn(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}function ln(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function cn(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function fn(e,t){var n=t[0],r=t[1],i=t[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a)),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a,e}function dn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function pn(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[0],u=n[1],s=n[2];return e[0]=i*s-a*u,e[1]=a*o-r*s,e[2]=r*u-i*o,e}function hn(e,t,n,r){var i=t[0],a=t[1],o=t[2];return e[0]=i+r*(n[0]-i),e[1]=a+r*(n[1]-a),e[2]=o+r*(n[2]-o),e}function mn(e,t,n,r,i,a){var o=a*a,u=o*(2*a-3)+1,s=o*(a-2)+a,l=o*(a-1),c=o*(3-2*a);return e[0]=t[0]*u+n[0]*s+r[0]*l+i[0]*c,e[1]=t[1]*u+n[1]*s+r[1]*l+i[1]*c,e[2]=t[2]*u+n[2]*s+r[2]*l+i[2]*c,e}function vn(e,t,n,r,i,a){var o=1-a,u=o*o,s=a*a,l=u*o,c=3*a*u,f=3*s*o,d=s*a;return e[0]=t[0]*l+n[0]*c+r[0]*f+i[0]*d,e[1]=t[1]*l+n[1]*c+r[1]*f+i[1]*d,e[2]=t[2]*l+n[2]*c+r[2]*f+i[2]*d,e}function gn(e,t){t=t||1;var n=2*m()*Math.PI,r=2*m()-1,i=Math.sqrt(1-r*r)*t;return e[0]=Math.cos(n)*i,e[1]=Math.sin(n)*i,e[2]=r*t,e}function yn(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[3]*r+n[7]*i+n[11]*a+n[15];return o=o||1,e[0]=(n[0]*r+n[4]*i+n[8]*a+n[12])/o,e[1]=(n[1]*r+n[5]*i+n[9]*a+n[13])/o,e[2]=(n[2]*r+n[6]*i+n[10]*a+n[14])/o,e}function bn(e,t,n){var r=t[0],i=t[1],a=t[2];return e[0]=r*n[0]+i*n[3]+a*n[6],e[1]=r*n[1]+i*n[4]+a*n[7],e[2]=r*n[2]+i*n[5]+a*n[8],e}function _n(e,t,n){var r=n[0],i=n[1],a=n[2],o=n[3],u=t[0],s=t[1],l=t[2],c=i*l-a*s,f=a*u-r*l,d=r*s-i*u,p=i*d-a*f,h=a*c-r*d,m=r*f-i*c,v=2*o;return c*=v,f*=v,d*=v,p*=2,h*=2,m*=2,e[0]=u+c+p,e[1]=s+f+h,e[2]=l+d+m,e}function wn(e,t,n,r){var i=[],a=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],a[0]=i[0],a[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),a[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),e[0]=a[0]+n[0],e[1]=a[1]+n[1],e[2]=a[2]+n[2],e}function xn(e,t,n,r){var i=[],a=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],a[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),a[1]=i[1],a[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),e[0]=a[0]+n[0],e[1]=a[1]+n[1],e[2]=a[2]+n[2],e}function Tn(e,t,n,r){var i=[],a=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],a[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),a[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),a[2]=i[2],e[0]=a[0]+n[0],e[1]=a[1]+n[1],e[2]=a[2]+n[2],e}function En(e,t){var n=qt(e[0],e[1],e[2]),r=qt(t[0],t[1],t[2]);fn(n,n),fn(r,r);var i=dn(n,r);return i>1?0:i<-1?Math.PI:Math.acos(i)}function Sn(e){return e[0]=0,e[1]=0,e[2]=0,e}function Mn(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function An(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function Cn(e,t){var n=e[0],r=e[1],i=e[2],a=t[0],o=t[1],u=t[2];return Math.abs(n-a)<=p*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-o)<=p*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(i-u)<=p*Math.max(1,Math.abs(i),Math.abs(u))}var kn,On=$t,Nn=Qt,Rn=Kt,Pn=on,In=un,Dn=Gt,jn=sn,Ln=(kn=Vt(),function(e,t,n,r,i,a){var o,u;for(t||(t=3),n||(n=0),u=r?Math.min(r*t+n,e.length):e.length,o=n;o<u;o+=t)kn[0]=e[o],kn[1]=e[o+1],kn[2]=e[o+2],i(kn,kn,a),e[o]=kn[0],e[o+1]=kn[1],e[o+2]=kn[2];return e});function Fn(){var e=new h(4);return h!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function Bn(e){var t=new h(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Un(e,t,n,r){var i=new h(4);return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i}function zn(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Vn(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function Hn(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function Gn(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}function qn(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}function Wn(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e}function Yn(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function Xn(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function $n(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e}function Qn(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e}function Kn(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function Jn(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function Zn(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e}function er(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],a=t[3]-e[3];return Math.sqrt(n*n+r*r+i*i+a*a)}function tr(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],a=t[3]-e[3];return n*n+r*r+i*i+a*a}function nr(e){var t=e[0],n=e[1],r=e[2],i=e[3];return Math.sqrt(t*t+n*n+r*r+i*i)}function rr(e){var t=e[0],n=e[1],r=e[2],i=e[3];return t*t+n*n+r*r+i*i}function ir(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function ar(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function or(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n*n+r*r+i*i+a*a;return o>0&&(o=1/Math.sqrt(o)),e[0]=n*o,e[1]=r*o,e[2]=i*o,e[3]=a*o,e}function ur(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function sr(e,t,n,r){var i=n[0]*r[1]-n[1]*r[0],a=n[0]*r[2]-n[2]*r[0],o=n[0]*r[3]-n[3]*r[0],u=n[1]*r[2]-n[2]*r[1],s=n[1]*r[3]-n[3]*r[1],l=n[2]*r[3]-n[3]*r[2],c=t[0],f=t[1],d=t[2],p=t[3];return e[0]=f*l-d*s+p*u,e[1]=-c*l+d*o-p*a,e[2]=c*s-f*o+p*i,e[3]=-c*u+f*a-d*i,e}function lr(e,t,n,r){var i=t[0],a=t[1],o=t[2],u=t[3];return e[0]=i+r*(n[0]-i),e[1]=a+r*(n[1]-a),e[2]=o+r*(n[2]-o),e[3]=u+r*(n[3]-u),e}function cr(e,t){var n,r,i,a,o,u;t=t||1;do{o=(n=2*m()-1)*n+(r=2*m()-1)*r}while(o>=1);do{u=(i=2*m()-1)*i+(a=2*m()-1)*a}while(u>=1);var s=Math.sqrt((1-o)/u);return e[0]=t*n,e[1]=t*r,e[2]=t*i*s,e[3]=t*a*s,e}function fr(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,e[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,e[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,e[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,e}function dr(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[0],u=n[1],s=n[2],l=n[3],c=l*r+u*a-s*i,f=l*i+s*r-o*a,d=l*a+o*i-u*r,p=-o*r-u*i-s*a;return e[0]=c*l+p*-o+f*-s-d*-u,e[1]=f*l+p*-u+d*-o-c*-s,e[2]=d*l+p*-s+c*-u-f*-o,e[3]=t[3],e}function pr(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e}function hr(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function mr(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function vr(e,t){var n=e[0],r=e[1],i=e[2],a=e[3],o=t[0],u=t[1],s=t[2],l=t[3];return Math.abs(n-o)<=p*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-u)<=p*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-s)<=p*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(a-l)<=p*Math.max(1,Math.abs(a),Math.abs(l))}var gr=Gn,yr=qn,br=Wn,_r=er,wr=tr,xr=nr,Tr=rr,Er=function(){var e=Fn();return function(t,n,r,i,a,o){var u,s;for(n||(n=4),r||(r=0),s=i?Math.min(i*n+r,t.length):t.length,u=r;u<s;u+=n)e[0]=t[u],e[1]=t[u+1],e[2]=t[u+2],e[3]=t[u+3],a(e,e,o),t[u]=e[0],t[u+1]=e[1],t[u+2]=e[2],t[u+3]=e[3];return t}}();function Sr(){var e=new h(4);return h!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function Mr(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function Ar(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function Cr(e,t){var n=2*Math.acos(t[3]),r=Math.sin(n/2);return r>p?(e[0]=t[0]/r,e[1]=t[1]/r,e[2]=t[2]/r):(e[0]=1,e[1]=0,e[2]=0),n}function kr(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],u=n[0],s=n[1],l=n[2],c=n[3];return e[0]=r*c+o*u+i*l-a*s,e[1]=i*c+o*s+a*u-r*l,e[2]=a*c+o*l+r*s-i*u,e[3]=o*c-r*u-i*s-a*l,e}function Or(e,t,n){n*=.5;var r=t[0],i=t[1],a=t[2],o=t[3],u=Math.sin(n),s=Math.cos(n);return e[0]=r*s+o*u,e[1]=i*s+a*u,e[2]=a*s-i*u,e[3]=o*s-r*u,e}function Nr(e,t,n){n*=.5;var r=t[0],i=t[1],a=t[2],o=t[3],u=Math.sin(n),s=Math.cos(n);return e[0]=r*s-a*u,e[1]=i*s+o*u,e[2]=a*s+r*u,e[3]=o*s-i*u,e}function Rr(e,t,n){n*=.5;var r=t[0],i=t[1],a=t[2],o=t[3],u=Math.sin(n),s=Math.cos(n);return e[0]=r*s+i*u,e[1]=i*s-r*u,e[2]=a*s+o*u,e[3]=o*s-a*u,e}function Pr(e,t){var n=t[0],r=t[1],i=t[2];return e[0]=n,e[1]=r,e[2]=i,e[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),e}function Ir(e,t,n,r){var i,a,o,u,s,l=t[0],c=t[1],f=t[2],d=t[3],h=n[0],m=n[1],v=n[2],g=n[3];return(a=l*h+c*m+f*v+d*g)<0&&(a=-a,h=-h,m=-m,v=-v,g=-g),1-a>p?(i=Math.acos(a),o=Math.sin(i),u=Math.sin((1-r)*i)/o,s=Math.sin(r*i)/o):(u=1-r,s=r),e[0]=u*l+s*h,e[1]=u*c+s*m,e[2]=u*f+s*v,e[3]=u*d+s*g,e}function Dr(e){var t=m(),n=m(),r=m(),i=Math.sqrt(1-t),a=Math.sqrt(t);return e[0]=i*Math.sin(2*Math.PI*n),e[1]=i*Math.cos(2*Math.PI*n),e[2]=a*Math.sin(2*Math.PI*r),e[3]=a*Math.cos(2*Math.PI*r),e}function jr(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n*n+r*r+i*i+a*a,u=o?1/o:0;return e[0]=-n*u,e[1]=-r*u,e[2]=-i*u,e[3]=a*u,e}function Lr(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function Fr(e,t){var n,r=t[0]+t[4]+t[8];if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[3*i+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;n=Math.sqrt(t[3*i+i]-t[3*a+a]-t[3*o+o]+1),e[i]=.5*n,n=.5/n,e[3]=(t[3*a+o]-t[3*o+a])*n,e[a]=(t[3*a+i]+t[3*i+a])*n,e[o]=(t[3*o+i]+t[3*i+o])*n}return e}function Br(e,t,n,r){var i=.5*Math.PI/180;t*=i,n*=i,r*=i;var a=Math.sin(t),o=Math.cos(t),u=Math.sin(n),s=Math.cos(n),l=Math.sin(r),c=Math.cos(r);return e[0]=a*s*c-o*u*l,e[1]=o*u*c+a*s*l,e[2]=o*s*l-a*u*c,e[3]=o*s*c+a*u*l,e}function Ur(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}var zr,Vr,Hr,Gr,qr,Wr,Yr=Bn,Xr=Un,$r=zn,Qr=Vn,Kr=Hn,Jr=kr,Zr=Jn,ei=ur,ti=lr,ni=nr,ri=ni,ii=rr,ai=ii,oi=or,ui=mr,si=vr,li=(zr=Vt(),Vr=qt(1,0,0),Hr=qt(0,1,0),function(e,t,n){var r=dn(t,n);return r<-.999999?(pn(zr,Vr,t),Dn(zr)<1e-6&&pn(zr,Hr,t),fn(zr,zr),Ar(e,zr,Math.PI),e):r>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(pn(zr,t,n),e[0]=zr[0],e[1]=zr[1],e[2]=zr[2],e[3]=1+r,oi(e,e))}),ci=(Gr=Sr(),qr=Sr(),function(e,t,n,r,i,a){return Ir(Gr,t,i,a),Ir(qr,n,r,a),Ir(e,Gr,qr,2*a*(1-a)),e}),fi=(Wr=ge(),function(e,t,n,r){return Wr[0]=n[0],Wr[3]=n[1],Wr[6]=n[2],Wr[1]=r[0],Wr[4]=r[1],Wr[7]=r[2],Wr[2]=-t[0],Wr[5]=-t[1],Wr[8]=-t[2],oi(e,Fr(e,Wr))});function di(){var e=new h(8);return h!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0),e[3]=1,e}function pi(e){var t=new h(8);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function hi(e,t,n,r,i,a,o,u){var s=new h(8);return s[0]=e,s[1]=t,s[2]=n,s[3]=r,s[4]=i,s[5]=a,s[6]=o,s[7]=u,s}function mi(e,t,n,r,i,a,o){var u=new h(8);u[0]=e,u[1]=t,u[2]=n,u[3]=r;var s=.5*i,l=.5*a,c=.5*o;return u[4]=s*r+l*n-c*t,u[5]=l*r+c*e-s*n,u[6]=c*r+s*t-l*e,u[7]=-s*e-l*t-c*n,u}function vi(e,t,n){var r=.5*n[0],i=.5*n[1],a=.5*n[2],o=t[0],u=t[1],s=t[2],l=t[3];return e[0]=o,e[1]=u,e[2]=s,e[3]=l,e[4]=r*l+i*s-a*u,e[5]=i*l+a*o-r*s,e[6]=a*l+r*u-i*o,e[7]=-r*o-i*u-a*s,e}function gi(e,t){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=.5*t[0],e[5]=.5*t[1],e[6]=.5*t[2],e[7]=0,e}function yi(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function bi(e,t){var n=Sr();xt(n,t);var r=new h(3);return _t(r,t),vi(e,n,r),e}function _i(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function wi(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function xi(e,t,n,r,i,a,o,u,s){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a,e[5]=o,e[6]=u,e[7]=s,e}var Ti=$r;function Ei(e,t){return e[0]=t[4],e[1]=t[5],e[2]=t[6],e[3]=t[7],e}var Si=$r;function Mi(e,t){return e[4]=t[0],e[5]=t[1],e[6]=t[2],e[7]=t[3],e}function Ai(e,t){var n=t[4],r=t[5],i=t[6],a=t[7],o=-t[0],u=-t[1],s=-t[2],l=t[3];return e[0]=2*(n*l+a*o+r*s-i*u),e[1]=2*(r*l+a*u+i*o-n*s),e[2]=2*(i*l+a*s+n*u-r*o),e}function Ci(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],u=.5*n[0],s=.5*n[1],l=.5*n[2],c=t[4],f=t[5],d=t[6],p=t[7];return e[0]=r,e[1]=i,e[2]=a,e[3]=o,e[4]=o*u+i*l-a*s+c,e[5]=o*s+a*u-r*l+f,e[6]=o*l+r*s-i*u+d,e[7]=-r*u-i*s-a*l+p,e}function ki(e,t,n){var r=-t[0],i=-t[1],a=-t[2],o=t[3],u=t[4],s=t[5],l=t[6],c=t[7],f=u*o+c*r+s*a-l*i,d=s*o+c*i+l*r-u*a,p=l*o+c*a+u*i-s*r,h=c*o-u*r-s*i-l*a;return Or(e,t,n),r=e[0],i=e[1],a=e[2],o=e[3],e[4]=f*o+h*r+d*a-p*i,e[5]=d*o+h*i+p*r-f*a,e[6]=p*o+h*a+f*i-d*r,e[7]=h*o-f*r-d*i-p*a,e}function Oi(e,t,n){var r=-t[0],i=-t[1],a=-t[2],o=t[3],u=t[4],s=t[5],l=t[6],c=t[7],f=u*o+c*r+s*a-l*i,d=s*o+c*i+l*r-u*a,p=l*o+c*a+u*i-s*r,h=c*o-u*r-s*i-l*a;return Nr(e,t,n),r=e[0],i=e[1],a=e[2],o=e[3],e[4]=f*o+h*r+d*a-p*i,e[5]=d*o+h*i+p*r-f*a,e[6]=p*o+h*a+f*i-d*r,e[7]=h*o-f*r-d*i-p*a,e}function Ni(e,t,n){var r=-t[0],i=-t[1],a=-t[2],o=t[3],u=t[4],s=t[5],l=t[6],c=t[7],f=u*o+c*r+s*a-l*i,d=s*o+c*i+l*r-u*a,p=l*o+c*a+u*i-s*r,h=c*o-u*r-s*i-l*a;return Rr(e,t,n),r=e[0],i=e[1],a=e[2],o=e[3],e[4]=f*o+h*r+d*a-p*i,e[5]=d*o+h*i+p*r-f*a,e[6]=p*o+h*a+f*i-d*r,e[7]=h*o-f*r-d*i-p*a,e}function Ri(e,t,n){var r=n[0],i=n[1],a=n[2],o=n[3],u=t[0],s=t[1],l=t[2],c=t[3];return e[0]=u*o+c*r+s*a-l*i,e[1]=s*o+c*i+l*r-u*a,e[2]=l*o+c*a+u*i-s*r,e[3]=c*o-u*r-s*i-l*a,u=t[4],s=t[5],l=t[6],c=t[7],e[4]=u*o+c*r+s*a-l*i,e[5]=s*o+c*i+l*r-u*a,e[6]=l*o+c*a+u*i-s*r,e[7]=c*o-u*r-s*i-l*a,e}function Pi(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],u=n[0],s=n[1],l=n[2],c=n[3];return e[0]=r*c+o*u+i*l-a*s,e[1]=i*c+o*s+a*u-r*l,e[2]=a*c+o*l+r*s-i*u,e[3]=o*c-r*u-i*s-a*l,u=n[4],s=n[5],l=n[6],c=n[7],e[4]=r*c+o*u+i*l-a*s,e[5]=i*c+o*s+a*u-r*l,e[6]=a*c+o*l+r*s-i*u,e[7]=o*c-r*u-i*s-a*l,e}function Ii(e,t,n,r){if(Math.abs(r)<p)return _i(e,t);var i=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);r*=.5;var a=Math.sin(r),o=a*n[0]/i,u=a*n[1]/i,s=a*n[2]/i,l=Math.cos(r),c=t[0],f=t[1],d=t[2],h=t[3];e[0]=c*l+h*o+f*s-d*u,e[1]=f*l+h*u+d*o-c*s,e[2]=d*l+h*s+c*u-f*o,e[3]=h*l-c*o-f*u-d*s;var m=t[4],v=t[5],g=t[6],y=t[7];return e[4]=m*l+y*o+v*s-g*u,e[5]=v*l+y*u+g*o-m*s,e[6]=g*l+y*s+m*u-v*o,e[7]=y*l-m*o-v*u-g*s,e}function Di(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e}function ji(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],u=n[4],s=n[5],l=n[6],c=n[7],f=t[4],d=t[5],p=t[6],h=t[7],m=n[0],v=n[1],g=n[2],y=n[3];return e[0]=r*y+o*m+i*g-a*v,e[1]=i*y+o*v+a*m-r*g,e[2]=a*y+o*g+r*v-i*m,e[3]=o*y-r*m-i*v-a*g,e[4]=r*c+o*u+i*l-a*s+f*y+h*m+d*g-p*v,e[5]=i*c+o*s+a*u-r*l+d*y+h*v+p*m-f*g,e[6]=a*c+o*l+r*s-i*u+p*y+h*g+f*v-d*m,e[7]=o*c-r*u-i*s-a*l+h*y-f*m-d*v-p*g,e}var Li=ji;function Fi(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e}var Bi=ei;function Ui(e,t,n,r){var i=1-r;return Bi(t,n)<0&&(r=-r),e[0]=t[0]*i+n[0]*r,e[1]=t[1]*i+n[1]*r,e[2]=t[2]*i+n[2]*r,e[3]=t[3]*i+n[3]*r,e[4]=t[4]*i+n[4]*r,e[5]=t[5]*i+n[5]*r,e[6]=t[6]*i+n[6]*r,e[7]=t[7]*i+n[7]*r,e}function zi(e,t){var n=qi(t);return e[0]=-t[0]/n,e[1]=-t[1]/n,e[2]=-t[2]/n,e[3]=t[3]/n,e[4]=-t[4]/n,e[5]=-t[5]/n,e[6]=-t[6]/n,e[7]=t[7]/n,e}function Vi(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e[4]=-t[4],e[5]=-t[5],e[6]=-t[6],e[7]=t[7],e}var Hi=ni,Gi=Hi,qi=ii,Wi=qi;function Yi(e,t){var n=qi(t);if(n>0){n=Math.sqrt(n);var r=t[0]/n,i=t[1]/n,a=t[2]/n,o=t[3]/n,u=t[4],s=t[5],l=t[6],c=t[7],f=r*u+i*s+a*l+o*c;e[0]=r,e[1]=i,e[2]=a,e[3]=o,e[4]=(u-r*f)/n,e[5]=(s-i*f)/n,e[6]=(l-a*f)/n,e[7]=(c-o*f)/n}return e}function Xi(e){return"quat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+")"}function $i(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]}function Qi(e,t){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],u=e[5],s=e[6],l=e[7],c=t[0],f=t[1],d=t[2],h=t[3],m=t[4],v=t[5],g=t[6],y=t[7];return Math.abs(n-c)<=p*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(r-f)<=p*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(i-d)<=p*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(a-h)<=p*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(o-m)<=p*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(u-v)<=p*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(s-g)<=p*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(l-y)<=p*Math.max(1,Math.abs(l),Math.abs(y))}function Ki(){var e=new h(2);return h!=Float32Array&&(e[0]=0,e[1]=0),e}function Ji(e){var t=new h(2);return t[0]=e[0],t[1]=e[1],t}function Zi(e,t){var n=new h(2);return n[0]=e,n[1]=t,n}function ea(e,t){return e[0]=t[0],e[1]=t[1],e}function ta(e,t,n){return e[0]=t,e[1]=n,e}function na(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function ra(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function ia(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}function aa(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}function oa(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function ua(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function sa(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function la(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}function ca(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function fa(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function da(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}function pa(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}function ha(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function ma(e){var t=e[0],n=e[1];return Math.sqrt(t*t+n*n)}function va(e){var t=e[0],n=e[1];return t*t+n*n}function ga(e,t){return e[0]=-t[0],e[1]=-t[1],e}function ya(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function ba(e,t){var n=t[0],r=t[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e}function _a(e,t){return e[0]*t[0]+e[1]*t[1]}function wa(e,t,n){var r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e}function xa(e,t,n,r){var i=t[0],a=t[1];return e[0]=i+r*(n[0]-i),e[1]=a+r*(n[1]-a),e}function Ta(e,t){t=t||1;var n=2*m()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e}function Ea(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i,e[1]=n[1]*r+n[3]*i,e}function Sa(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e}function Ma(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[3]*i+n[6],e[1]=n[1]*r+n[4]*i+n[7],e}function Aa(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e}function Ca(e,t,n,r){var i=t[0]-n[0],a=t[1]-n[1],o=Math.sin(r),u=Math.cos(r);return e[0]=i*u-a*o+n[0],e[1]=i*o+a*u+n[1],e}function ka(e,t){var n=e[0],r=e[1],i=t[0],a=t[1],o=n*n+r*r;o>0&&(o=1/Math.sqrt(o));var u=i*i+a*a;u>0&&(u=1/Math.sqrt(u));var s=(n*i+r*a)*o*u;return s>1?0:s<-1?Math.PI:Math.acos(s)}function Oa(e){return e[0]=0,e[1]=0,e}function Na(e){return"vec2("+e[0]+", "+e[1]+")"}function Ra(e,t){return e[0]===t[0]&&e[1]===t[1]}function Pa(e,t){var n=e[0],r=e[1],i=t[0],a=t[1];return Math.abs(n-i)<=p*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-a)<=p*Math.max(1,Math.abs(r),Math.abs(a))}var Ia=ma,Da=ra,ja=ia,La=aa,Fa=pa,Ba=ha,Ua=va,za=function(){var e=Ki();return function(t,n,r,i,a,o){var u,s;for(n||(n=2),r||(r=0),s=i?Math.min(i*n+r,t.length):t.length,u=r;u<s;u+=n)e[0]=t[u],e[1]=t[u+1],a(e,e,o),t[u]=e[0],t[u+1]=e[1];return t}}();n.d(t,"glMatrix",function(){return r}),n.d(t,"mat2",function(){return i}),n.d(t,"mat2d",function(){return a}),n.d(t,"mat3",function(){return o}),n.d(t,"mat4",function(){return u}),n.d(t,"quat",function(){return c}),n.d(t,"quat2",function(){return f}),n.d(t,"vec2",function(){return d}),n.d(t,"vec3",function(){return s}),n.d(t,"vec4",function(){return l})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),i=function(){function e(e){this._binding=e}return e.prototype.onActivation=function(e){return this._binding.onActivation=e,new r.BindingWhenSyntax(this._binding)},e}();t.BindingOnSyntax=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),i=n(20),a=function(){function e(e){this._binding=e}return e.prototype.when=function(e){return this._binding.constraint=e,new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetNamed=function(e){return this._binding.constraint=i.namedConstraint(e),new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){return null!==e.target&&!e.target.isNamed()&&!e.target.isTagged()},new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetTagged=function(e,t){return this._binding.constraint=i.taggedConstraint(e)(t),new r.BindingOnSyntax(this._binding)},e.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(t){return i.typeConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenParentNamed=function(e){return this._binding.constraint=function(t){return i.namedConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenParentTagged=function(e,t){return this._binding.constraint=function(n){return i.taggedConstraint(e)(t)(n.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._binding.constraint=function(n){return i.traverseAncerstors(n,i.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorTagged=function(e,t){return this._binding.constraint=function(n){return!i.traverseAncerstors(n,i.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e}();t.BindingWhenSyntax=a},function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const o=n(53),u=n(54),s=n(6),l=n(13),c=n(5),f=n(55),d=n(56),p=n(57);let h=r=class extends l.EventEmitter{constructor(){super(...arguments),this.defines={USE_IBL:1,MANUAL_SRGB:0,USE_TEX_LOD:0},this.sceneUniforms={},this.supportSRGB=!1,this.supportTextureLod=!1,this.supportDerivatives=!1,this.inited=!1}initStats(){this.stats=new u,this.stats.showPanel(0);const e=this.stats.dom;e.style.position="absolute",e.style.left="0px",e.style.top="0px",document.body.appendChild(e)}prefixDefines(e,t){const n={...this.defines,...t};return`\n        ${Object.keys(n).reduce((e,t)=>e+(n[t]?`#define ${t} ${n[t]} \n`:""),"")}\n        ${e}`}createDrawCommand({attributes:e,uniforms:t,defines:n,indices:r,cullFace:i}){return this._regl({vert:this.prefixDefines(f.default,n),frag:this.prefixDefines(d.default,n),attributes:e,uniforms:{u_LightDirection:[0,.5,.5],u_LightColor:[1,1,1],u_Camera:this._regl.prop("cameraPosition"),u_ModelMatrix:this._regl.prop("modelMatrix"),u_NormalMatrix:this._regl.prop("normalMatrix"),u_MVPMatrix:this._regl.prop("mvpMatrix"),u_ScaleDiffBaseMR:[0,0,0,0],u_ScaleFGDSpec:[0,0,0,0],u_ScaleIBLAmbient:[1,1,0,0],...t,...this.sceneUniforms},cull:{enable:i,face:"back"},depth:{enable:!0},elements:this._regl.elements({primitive:"triangles",data:r.data})})}async init(e){this.initStats();const t=document.getElementById(e);if(!t)throw new Error(`${e} container is not exist.`);this._regl=await new Promise((e,n)=>{o({container:t,extensions:["EXT_shader_texture_lod","OES_standard_derivatives","EXT_SRGB"],onDone:(i,a)=>{if(i||!a)return console.log(i),void n(i);a.hasExtension("EXT_SRGB")?this.supportSRGB=!0:this.defines.MANUAL_SRGB=1,a.hasExtension("EXT_shader_texture_lod")&&(this.supportTextureLod=!0,this.defines.USE_TEX_LOD=1),a.hasExtension("OES_standard_derivatives")&&(this.supportDerivatives=!0),e(a),this.canvas=t.getElementsByTagName("canvas")[0],this.emit(r.READY_EVENT)}})}),window.addEventListener("resize",()=>{this.emit(r.RESIZE_EVENT,[{width:this.canvas.width,height:this.canvas.height}])})}getCanvas(){return this.canvas}getRegl(){return this._regl}isSupportSRGB(){return this.supportSRGB}isSupportTextureLod(){return this.supportTextureLod}isSupportDerivatives(){return this.supportDerivatives}async loadBrdfLUT(){const e=await p.loadImage(c.BRDFLUT_PATH);this.sceneUniforms.u_brdfLUT=this._regl.texture({data:e,min:"linear",mag:"linear",wrapS:"clamp",wrapT:"clamp",format:this.isSupportSRGB()?"srgb":"rgba"})}async loadEnvironment(e,t,n,r){const i=`textures/${e}/${t}/${t}`,a=[],o=[],u=[],s=[],l=[],c=[];for(let e=0;e<r;e++)a.push(await p.loadImage(`${i}_right_${e}.jpg`)),o.push(await p.loadImage(`${i}_left_${e}.jpg`)),u.push(await p.loadImage(`${i}_top_${e}.jpg`)),s.push(await p.loadImage(`${i}_bottom_${e}.jpg`)),l.push(await p.loadImage(`${i}_front_${e}.jpg`)),c.push(await p.loadImage(`${i}_back_${e}.jpg`));const f=this._regl.cube({faces:1===r?[a[0],o[0],u[0],s[0],l[0],c[0]]:[{mipmap:a},{mipmap:o},{mipmap:u},{mipmap:s},{mipmap:l},{mipmap:c}],wrapS:"clamp",wrapT:"clamp",min:1===r?"linear":"linear mipmap linear",mag:"linear",format:this.isSupportSRGB()?"srgb":"rgba"});this.sceneUniforms[n]=f}async render(){this.inited||(await this.loadBrdfLUT(),await this.loadEnvironment("papermill","diffuse","u_DiffuseEnvSampler",1),await this.loadEnvironment("papermill","specular","u_SpecularEnvSampler",10)),await this._scene.init(),this.inited||(this._regl.frame(()=>{this._regl.clear({color:[0,0,0,1],stencil:0}),this.stats.update(),this._scene.draw(),this.emit(r.FRAME_EVENT)}),this.inited=!0);const e=this.getCanvas();this.emit(r.RESIZE_EVENT,[{width:e.width,height:e.height}])}};h.READY_EVENT="ready",h.FRAME_EVENT="frame",h.RESIZE_EVENT="resize",i([s.inject(c.SERVICE_IDENTIFIER.SceneService),a("design:type",Object)],h.prototype,"_scene",void 0),h=r=i([s.injectable()],h),t.Renderer=h},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function a(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function u(e,t,n,r,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var u=new o(n,r||e,a),s=i?i+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],u]:e._events[s].push(u):(e._events[s]=u,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new a:delete e._events[t]}function l(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(i=!1)),l.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},l.prototype.listeners=function(e){var t=i?i+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,a=n.length,o=new Array(a);r<a;r++)o[r]=n[r].fn;return o},l.prototype.listenerCount=function(e){var t=i?i+e:e,n=this._events[t];return n?n.fn?1:n.length:0},l.prototype.emit=function(e,t,n,r,a,o){var u=i?i+e:e;if(!this._events[u])return!1;var s,l,c=this._events[u],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,r),!0;case 5:return c.fn.call(c.context,t,n,r,a),!0;case 6:return c.fn.call(c.context,t,n,r,a,o),!0}for(l=1,s=new Array(f-1);l<f;l++)s[l-1]=arguments[l];c.fn.apply(c.context,s)}else{var d,p=c.length;for(l=0;l<p;l++)switch(c[l].once&&this.removeListener(e,c[l].fn,void 0,!0),f){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,t);break;case 3:c[l].fn.call(c[l].context,t,n);break;case 4:c[l].fn.call(c[l].context,t,n,r);break;default:if(!s)for(d=1,s=new Array(f-1);d<f;d++)s[d-1]=arguments[d];c[l].fn.apply(c[l].context,s)}}return!0},l.prototype.on=function(e,t,n){return u(this,e,t,n,!1)},l.prototype.once=function(e,t,n){return u(this,e,t,n,!0)},l.prototype.removeListener=function(e,t,n,r){var a=i?i+e:e;if(!this._events[a])return this;if(!t)return s(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||r&&!o.once||n&&o.context!==n||s(this,a);else{for(var u=0,l=[],c=o.length;u<c;u++)(o[u].fn!==t||r&&!o[u].once||n&&o[u].context!==n)&&l.push(o[u]);l.length?this._events[a]=1===l.length?l[0]:l:s(this,a)}return this},l.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&s(this,t)):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=i,l.EventEmitter=l,e.exports=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(25);const r=n(5),i=n(26),a=n(58),o=n(12),u=n(60),s=n(61),l=n(63),c=n(13),f=n(6),d=new f.Container;t.container=d,d.bind(r.SERVICE_IDENTIFIER.GltfService).to(a.GltfService).inSingletonScope(),d.bind(r.SERVICE_IDENTIFIER.SceneService).to(u.SceneService).inSingletonScope(),d.bind(r.SERVICE_IDENTIFIER.SceneNodeService).to(l.SceneNode),d.bind(r.SERVICE_IDENTIFIER.RendererService).to(o.Renderer).inSingletonScope(),d.bind(r.SERVICE_IDENTIFIER.CameraService).to(i.Camera).inSingletonScope(),d.bind(r.SERVICE_IDENTIFIER.MouseService).to(s.Mouse).inSingletonScope(),f.decorate(f.injectable(),c.EventEmitter)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(){}return e.prototype.getConstructorMetadata=function(e){return{compilerGeneratedMetadata:Reflect.getMetadata(r.PARAM_TYPES,e),userGeneratedMetadata:Reflect.getMetadata(r.TAGGED,e)||{}}},e.prototype.getPropertiesMetadata=function(e){return Reflect.getMetadata(r.TAGGED_PROP,e)||[]},e}();t.MetadataReader=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.isStackOverflowExeption=function(e){return e instanceof RangeError||e.message===r.STACK_OVERFLOW}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(0),a=n(2),o=n(4),u=function(){function e(e){this._cb=e}return e.prototype.unwrap=function(){return this._cb()},e}();t.LazyServiceIdentifer=u,t.inject=function(e){return function(t,n,u){if(void 0===e)throw new Error(r.UNDEFINED_INJECT_ANNOTATION(t.name));var s=new a.Metadata(i.INJECT_TAG,e);"number"==typeof u?o.tagParameter(t,n,u,s):o.tagProperty(t,n,s)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(7),a=n(2),o=n(34),u=function(){function e(e,t,n,u){this.id=i.id(),this.type=e,this.serviceIdentifier=n,this.name=new o.QueryableString(t||""),this.metadata=new Array;var s=null;"string"==typeof u?s=new a.Metadata(r.NAMED_TAG,u):u instanceof a.Metadata&&(s=u),null!==s&&this.metadata.push(s)}return e.prototype.hasTag=function(e){for(var t=0,n=this.metadata;t<n.length;t++){if(n[t].key===e)return!0}return!1},e.prototype.isArray=function(){return this.hasTag(r.MULTI_INJECT_TAG)},e.prototype.matchesArray=function(e){return this.matchesTag(r.MULTI_INJECT_TAG)(e)},e.prototype.isNamed=function(){return this.hasTag(r.NAMED_TAG)},e.prototype.isTagged=function(){return this.metadata.some(function(e){return e.key!==r.INJECT_TAG&&e.key!==r.MULTI_INJECT_TAG&&e.key!==r.NAME_TAG&&e.key!==r.UNMANAGED_TAG&&e.key!==r.NAMED_TAG})},e.prototype.isOptional=function(){return this.matchesTag(r.OPTIONAL_TAG)(!0)},e.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(e){return e.key===r.NAMED_TAG})[0]:null},e.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(e){return e.key!==r.INJECT_TAG&&e.key!==r.MULTI_INJECT_TAG&&e.key!==r.NAME_TAG&&e.key!==r.UNMANAGED_TAG&&e.key!==r.NAMED_TAG}):null},e.prototype.matchesNamedTag=function(e){return this.matchesTag(r.NAMED_TAG)(e)},e.prototype.matchesTag=function(e){var t=this;return function(n){for(var r=0,i=t.metadata;r<i.length;r++){var a=i[r];if(a.key===e&&a.value===n)return!0}return!1}},e}();t.Target=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),i=n(11),a=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new i.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new r.BindingOnSyntax(this._binding)}return e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingWhenOnSyntax=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(2),a=function(e,t){var n=e.parentRequest;return null!==n&&(!!t(n)||a(n,t))};t.traverseAncerstors=a;var o=function(e){return function(t){var n=function(n){return null!==n&&null!==n.target&&n.target.matchesTag(e)(t)};return n.metaData=new i.Metadata(e,t),n}};t.taggedConstraint=o;var u=o(r.NAMED_TAG);t.namedConstraint=u;t.typeConstraint=function(e){return function(t){var n=null;if(null!==t){if(n=t.bindings[0],"string"==typeof e)return n.serviceIdentifier===e;var r=t.bindings[0].implementationType;return e===r}return!1}}},function(e,t,n){"use strict";e.exports=n(64)},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,o,u=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),s=1;s<arguments.length;s++){for(var l in n=Object(arguments[s]))i.call(n,l)&&(u[l]=n[l]);if(r){o=r(n);for(var c=0;c<o.length;c++)a.call(n,o[c])&&(u[o[c]]=n[o[c]])}}return u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(24),i=n(21),a=n(65),o=n(69),u=n(70);n(71);a.render(i.createElement(class extends i.Component{constructor(){super(...arguments),this.state={loading:!1},this.loadModel=(async e=>{this.setState({loading:!0}),await this.viewer.load(`https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/${e}/glTF/${e}.gltf`),this.setState({loading:!1})})}componentDidMount(){this.viewer=new r.GltfViewer({container:"viewer-container"}),this.viewer.init();const e=(new o.GUI).addFolder("glTF viewer");e.add({Model:"DamagedHelmet"},"Model",["Triangle","Box","BoxTextured","DamagedHelmet","Corset","MetalRoughSpheres"]).onChange(this.loadModel),e.open(),this.loadModel("DamagedHelmet")}render(){const{loading:e}=this.state;return i.createElement(i.Fragment,null,e&&i.createElement("div",{style:{position:"fixed",left:"50%",top:"50%",transform:"translate(-32px, -32px)",zIndex:1}},i.createElement(u.default,{type:"balls",color:"blue",height:"64px",width:"64px"})),i.createElement("div",{id:"viewer-container"}))}},null),document.getElementById("app"))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(14),i=n(5),a=n(9),o=r.container.get(i.SERVICE_IDENTIFIER.GltfService),u=r.container.get(i.SERVICE_IDENTIFIER.RendererService),s=r.container.get(i.SERVICE_IDENTIFIER.CameraService);r.container.get(i.SERVICE_IDENTIFIER.MouseService);const l={eye:[0,2,2],center:[0,0,0],fovy:45,near:.01,far:100};t.GltfViewer=class{constructor({container:e,camera:t=l}){this.container="viewer-container";const{eye:n,center:r,fovy:i,near:o,far:u}=t;this.container=e,s.init(a.vec3.clone(n),a.vec3.clone(r),i,1,o,u)}async init(){await u.init(this.container)}async load(e){await o.load(e),await u.render()}}},function(e,t){
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var n;!function(e){!function(t){var n="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),r=i(e);function i(e,t){return function(n,r){"function"!=typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}void 0===n.Reflect?n.Reflect=e:r=i(n.Reflect,r),function(e){var t=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,r=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,o={__proto__:[]}instanceof Array,u=!a&&!o,s={create:a?function(){return R(Object.create(null))}:o?function(){return R({__proto__:null})}:function(){return R({})},has:u?function(e,n){return t.call(e,n)}:function(e,t){return t in e},get:u?function(e,n){return t.call(e,n)?e[n]:void 0}:function(e,t){return e[t]}},l=Object.getPrototypeOf(Function),c="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,f=c||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,a)},t.prototype.entries=function(){return new n(this._keys,this._values,o)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function a(e,t){return t}function o(e,t){return[e,t]}}():Map,d=c||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function e(){this._map=new f}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}():Set,p=new(c||"function"!=typeof WeakMap?function(){var e=16,n=s.create(),r=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=a(e,!1);return void 0!==t&&s.has(t,this._key)},e.prototype.get=function(e){var t=a(e,!1);return void 0!==t?s.get(t,this._key):void 0},e.prototype.set=function(e,t){var n=a(e,!0);return n[this._key]=t,this},e.prototype.delete=function(e){var t=a(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var e;do{e="@@WeakMap@@"+u()}while(s.has(n,e));return n[e]=!0,e}function a(e,n){if(!t.call(e,r)){if(!n)return;Object.defineProperty(e,r,{value:s.create()})}return e[r]}function o(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function u(){var t=function(e){if("function"==typeof Uint8Array)return"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):o(new Uint8Array(e),e);return o(new Array(e),e)}(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",r=0;r<e;++r){var i=t[r];4!==r&&6!==r&&8!==r||(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}}():WeakMap);function h(e,t,n){var r=p.get(e);if(_(r)){if(!n)return;r=new f,p.set(e,r)}var i=r.get(t);if(_(i)){if(!n)return;i=new f,r.set(t,i)}return i}function m(e,t,n){var r=h(t,n,!1);return!_(r)&&!!r.has(e)}function v(e,t,n){var r=h(t,n,!1);if(!_(r))return r.get(e)}function g(e,t,n,r){var i=h(n,r,!0);i.set(e,t)}function y(e,t){var n=[],r=h(e,t,!1);if(_(r))return n;for(var a=r.keys(),o=function(e){var t=C(e,i);if(!M(t))throw new TypeError;var n=t.call(e);if(!x(n))throw new TypeError;return n}(a),u=0;;){var s=k(o);if(!s)return n.length=u,n;var l=s.value;try{n[u]=l}catch(e){try{O(o)}finally{throw e}}u++}}function b(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function _(e){return void 0===e}function w(e){return null===e}function x(e){return"object"==typeof e?null!==e:"function"==typeof e}function T(e,t){switch(b(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",i=C(e,r);if(void 0!==i){var a=i.call(e,n);if(x(a))throw new TypeError;return a}return function(e,t){if("string"===t){var n=e.toString;if(M(n)){var r=n.call(e);if(!x(r))return r}var i=e.valueOf;if(M(i)){var r=i.call(e);if(!x(r))return r}}else{var i=e.valueOf;if(M(i)){var r=i.call(e);if(!x(r))return r}var a=e.toString;if(M(a)){var r=a.call(e);if(!x(r))return r}}throw new TypeError}(e,"default"===n?"number":n)}function E(e){var t=T(e,3);return"symbol"==typeof t?t:function(e){return""+e}(t)}function S(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function M(e){return"function"==typeof e}function A(e){return"function"==typeof e}function C(e,t){var n=e[t];if(null!=n){if(!M(n))throw new TypeError;return n}}function k(e){var t=e.next();return!t.done&&t}function O(e){var t=e.return;t&&t.call(e)}function N(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===l)return t;if(t!==l)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var i=r.constructor;return"function"!=typeof i?t:i===e?t:i}function R(e){return e.__=void 0,delete e.__,e}e("decorate",function(e,t,n,r){if(_(n)){if(!S(e))throw new TypeError;if(!A(t))throw new TypeError;return function(e,t){for(var n=e.length-1;n>=0;--n){var r=e[n],i=r(t);if(!_(i)&&!w(i)){if(!A(i))throw new TypeError;t=i}}return t}(e,t)}if(!S(e))throw new TypeError;if(!x(t))throw new TypeError;if(!x(r)&&!_(r)&&!w(r))throw new TypeError;return w(r)&&(r=void 0),n=E(n),function(e,t,n,r){for(var i=e.length-1;i>=0;--i){var a=e[i],o=a(t,n,r);if(!_(o)&&!w(o)){if(!x(o))throw new TypeError;r=o}}return r}(e,t,n,r)}),e("metadata",function(e,t){return function(n,r){if(!x(n))throw new TypeError;if(!_(r)&&!function(e){switch(b(e)){case 3:case 4:return!0;default:return!1}}(r))throw new TypeError;g(e,t,n,r)}}),e("defineMetadata",function(e,t,n,r){if(!x(n))throw new TypeError;_(r)||(r=E(r));return g(e,t,n,r)}),e("hasMetadata",function(e,t,n){if(!x(t))throw new TypeError;_(n)||(n=E(n));return function e(t,n,r){var i=m(t,n,r);if(i)return!0;var a=N(n);if(!w(a))return e(t,a,r);return!1}(e,t,n)}),e("hasOwnMetadata",function(e,t,n){if(!x(t))throw new TypeError;_(n)||(n=E(n));return m(e,t,n)}),e("getMetadata",function(e,t,n){if(!x(t))throw new TypeError;_(n)||(n=E(n));return function e(t,n,r){var i=m(t,n,r);if(i)return v(t,n,r);var a=N(n);if(!w(a))return e(t,a,r);return}(e,t,n)}),e("getOwnMetadata",function(e,t,n){if(!x(t))throw new TypeError;_(n)||(n=E(n));return v(e,t,n)}),e("getMetadataKeys",function(e,t){if(!x(e))throw new TypeError;_(t)||(t=E(t));return function e(t,n){var r=y(t,n);var i=N(t);if(null===i)return r;var a=e(i,n);if(a.length<=0)return r;if(r.length<=0)return a;var o=new d;var u=[];for(var s=0,l=r;s<l.length;s++){var c=l[s],f=o.has(c);f||(o.add(c),u.push(c))}for(var p=0,h=a;p<h.length;p++){var c=h[p],f=o.has(c);f||(o.add(c),u.push(c))}return u}(e,t)}),e("getOwnMetadataKeys",function(e,t){if(!x(e))throw new TypeError;_(t)||(t=E(t));return y(e,t)}),e("deleteMetadata",function(e,t,n){if(!x(t))throw new TypeError;_(n)||(n=E(n));var r=h(t,n,!1);if(_(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var i=p.get(t);return i.delete(n),i.size>0||(p.delete(t),!0)})}(r)}()}(n||(n={}))},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const a=n(6),o=n(9),u=n(12),s=n(5);let l=class{constructor(){this.projection=o.mat4.create(),this.view=o.mat4.create(),this.transform=o.mat4.create()}init(e,t,n,r,i,a){this.eye=e,this.center=t,this.up=o.vec3.clone([0,1,0]),this.fovy=n,this.aspect=r,this.znear=i,this.zfar=a,this.renderer.on(u.Renderer.READY_EVENT,()=>{this.updateProjection(),this.updateTransform()}),this.renderer.on(u.Renderer.RESIZE_EVENT,e=>{const{width:t,height:n}=e[0];this.aspect=t/n,this.updateProjection(),this.updateTransform()})}truck(e){const t=o.vec3.create();o.vec3.normalize(t,o.vec3.sub(t,this.eye,this.center));const n=o.vec3.create();o.vec3.cross(n,this.up,t),o.vec3.normalize(n,n),o.vec3.scale(n,n,e),o.vec3.add(this.eye,this.eye,n),o.vec3.add(this.center,this.center,n),this.updateTransform()}pedestal(e){const t=o.vec3.create();o.vec3.normalize(t,o.vec3.sub(t,this.eye,this.center));const n=o.vec3.create();o.vec3.cross(n,this.up,t),o.vec3.normalize(n,n);const r=o.vec3.create();o.vec3.cross(r,t,n),o.vec3.normalize(r,r),o.vec3.scale(r,r,e),o.vec3.add(this.eye,this.eye,r),o.vec3.add(this.center,this.center,r),this.updateTransform()}dolly(e){const t=o.vec3.create();o.vec3.normalize(t,o.vec3.sub(t,this.eye,this.center)),o.vec3.scale(t,t,e),o.vec3.add(this.eye,this.eye,t),this.updateTransform()}tilt(e){const t=o.vec3.create();o.vec3.normalize(t,o.vec3.sub(t,this.eye,this.center));const n=o.vec3.create();o.vec3.cross(n,this.up,t),o.vec3.normalize(n,n);let r=o.vec3.create();o.vec3.sub(r,this.center,this.eye);const i=o.mat4.create();o.mat4.fromRotation(i,e,n),o.vec3.transformMat4(r,r,i),o.vec3.add(this.center,r,this.eye),Math.abs(o.vec3.dot(t,this.up))>=.985&&o.vec3.transformMat4(this.up,this.up,i),this.updateTransform()}pan(e){const t=o.vec3.create();o.vec3.normalize(t,o.vec3.sub(t,this.eye,this.center));const n=o.vec3.create();o.vec3.cross(n,this.up,t),o.vec3.normalize(n,n);let r=o.vec3.create();o.vec3.cross(r,t,n),o.vec3.normalize(r,r);const i=o.mat4.create();o.mat4.fromRotation(i,e,r);let a=o.vec3.create();o.vec3.sub(a,this.center,this.eye),o.vec3.transformMat4(a,a,i),o.vec3.add(this.center,a,this.eye),Math.abs(o.vec3.dot(t,this.up))>=.985&&o.vec3.transformMat4(this.up,this.up,i),this.updateTransform()}cant(e){const t=o.vec3.create();o.vec3.normalize(t,o.vec3.sub(t,this.eye,this.center));let n=o.vec3.create();o.vec3.sub(n,this.center,this.eye);const r=o.mat4.create();o.mat4.fromRotation(r,e,t),o.vec3.transformMat4(n,n,r),o.vec3.add(this.center,n,this.eye),o.vec3.transformMat4(this.up,this.up,r),this.updateTransform()}pitch(e){const t=o.vec3.create();o.vec3.normalize(t,o.vec3.sub(t,this.eye,this.center));const n=o.vec3.create();o.vec3.cross(n,this.up,t),o.vec3.normalize(n,n);let r=o.vec3.create();o.vec3.sub(r,this.center,this.eye);const i=o.mat4.create();o.mat4.fromRotation(i,e,n),o.vec3.transformMat4(this.eye,this.eye,i),this.updateTransform()}roll(e){const t=o.vec3.create();o.vec3.normalize(t,o.vec3.sub(t,this.eye,this.center));const n=o.vec3.create();o.vec3.cross(n,this.up,t),o.vec3.normalize(n,n);let r=o.vec3.create();o.vec3.cross(r,t,n),o.vec3.normalize(r,r);const i=o.mat4.create();o.mat4.fromRotation(i,e,r),o.vec3.transformMat4(this.eye,this.eye,i),this.updateTransform()}updateTransform(){o.mat4.lookAt(this.view,this.eye,this.center,this.up),o.mat4.mul(this.transform,this.projection,this.view)}updateProjection(){o.mat4.perspective(this.projection,this.fovy,this.aspect,this.znear,this.zfar)}};r([a.inject(s.SERVICE_IDENTIFIER.RendererService),i("design:type",Object)],l.prototype,"renderer",void 0),l=r([a.injectable()],l),t.Camera=l},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function u(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(o,u)}s((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=r[2&a[0]?"return":a[0]?"throw":"next"])&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[0,i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(28),o=n(1),u=n(3),s=n(0),l=n(15),c=n(29),f=n(36),d=n(38),p=n(7),h=n(8),m=n(41),v=n(42),g=function(){function e(e){var t=e||{};if("object"!=typeof t)throw new Error(""+o.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===t.defaultScope)t.defaultScope=u.BindingScopeEnum.Transient;else if(t.defaultScope!==u.BindingScopeEnum.Singleton&&t.defaultScope!==u.BindingScopeEnum.Transient&&t.defaultScope!==u.BindingScopeEnum.Request)throw new Error(""+o.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===t.autoBindInjectable)t.autoBindInjectable=!1;else if("boolean"!=typeof t.autoBindInjectable)throw new Error(""+o.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===t.skipBaseClassChecks)t.skipBaseClassChecks=!1;else if("boolean"!=typeof t.skipBaseClassChecks)throw new Error(""+o.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:t.autoBindInjectable,defaultScope:t.defaultScope,skipBaseClassChecks:t.skipBaseClassChecks},this.id=p.id(),this._bindingDictionary=new v.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new l.MetadataReader}return e.merge=function(t,n){var r=new e,i=c.getBindingDictionary(r),a=c.getBindingDictionary(t),o=c.getBindingDictionary(n);function u(e,t){e.traverse(function(e,n){n.forEach(function(e){t.add(e.serviceIdentifier,e.clone())})})}return u(a,i),u(o,i),r},e.prototype.load=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=this._getContainerModuleHelpersFactory(),r=0,i=e;r<i.length;r++){var a=i[r],o=n(a.id);a.registry(o.bindFunction,o.unbindFunction,o.isboundFunction,o.rebindFunction)}},e.prototype.loadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(this,void 0,void 0,function(){var t,n,r,a,o;return i(this,function(i){switch(i.label){case 0:t=this._getContainerModuleHelpersFactory(),n=0,r=e,i.label=1;case 1:return n<r.length?(a=r[n],o=t(a.id),[4,a.registry(o.bindFunction,o.unbindFunction,o.isboundFunction,o.rebindFunction)]):[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},e.prototype.unload=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.forEach(function(t){var n,r=(n=t.id,function(e){return e.moduleId===n});e._bindingDictionary.removeByCondition(r)})},e.prototype.bind=function(e){var t=this.options.defaultScope||u.BindingScopeEnum.Transient,n=new a.Binding(e,t);return this._bindingDictionary.add(e,n),new d.BindingToSyntax(n)},e.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},e.prototype.unbind=function(e){try{this._bindingDictionary.remove(e)}catch(t){throw new Error(o.CANNOT_UNBIND+" "+h.getServiceIdentifierAsString(e))}},e.prototype.unbindAll=function(){this._bindingDictionary=new v.Lookup},e.prototype.isBound=function(e){var t=this._bindingDictionary.hasKey(e);return!t&&this.parent&&(t=this.parent.isBound(e)),t},e.prototype.isBoundNamed=function(e,t){return this.isBoundTagged(e,s.NAMED_TAG,t)},e.prototype.isBoundTagged=function(e,t,n){var r=!1;if(this._bindingDictionary.hasKey(e)){var i=this._bindingDictionary.get(e),a=c.createMockRequest(this,e,t,n);r=i.some(function(e){return e.constraint(a)})}return!r&&this.parent&&(r=this.parent.isBoundTagged(e,t,n)),r},e.prototype.snapshot=function(){this._snapshots.push(m.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},e.prototype.restore=function(){var e=this._snapshots.pop();if(void 0===e)throw new Error(o.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=e.bindings,this._middleware=e.middleware},e.prototype.createChild=function(t){var n=new e(t||this.options);return n.parent=this,n},e.prototype.applyMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce(function(e,t){return t(e)},n)},e.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},e.prototype.get=function(e){return this._get(!1,!1,u.TargetTypeEnum.Variable,e)},e.prototype.getTagged=function(e,t,n){return this._get(!1,!1,u.TargetTypeEnum.Variable,e,t,n)},e.prototype.getNamed=function(e,t){return this.getTagged(e,s.NAMED_TAG,t)},e.prototype.getAll=function(e){return this._get(!0,!0,u.TargetTypeEnum.Variable,e)},e.prototype.getAllTagged=function(e,t,n){return this._get(!1,!0,u.TargetTypeEnum.Variable,e,t,n)},e.prototype.getAllNamed=function(e,t){return this.getAllTagged(e,s.NAMED_TAG,t)},e.prototype.resolve=function(e){var t=this.createChild();return t.bind(e).toSelf(),t.get(e)},e.prototype._getContainerModuleHelpersFactory=function(){var e=this,t=function(e,t){e._binding.moduleId=t},n=function(n){return function(r){var i=e.rebind.bind(e)(r);return t(i,n),i}};return function(r){return{bindFunction:(i=r,function(n){var r=e.bind.bind(e)(n);return t(r,i),r}),isboundFunction:function(t){return e.isBound.bind(e)(t)},rebindFunction:n(r),unbindFunction:function(t){e.unbind.bind(e)(t)}};var i}},e.prototype._get=function(e,t,n,r,i,a){var u=null,s={avoidConstraints:e,contextInterceptor:function(e){return e},isMultiInject:t,key:i,serviceIdentifier:r,targetType:n,value:a};if(this._middleware){if(null==(u=this._middleware(s)))throw new Error(o.INVALID_MIDDLEWARE_RETURN)}else u=this._planAndResolve()(s);return u},e.prototype._planAndResolve=function(){var e=this;return function(t){var n=c.plan(e._metadataReader,e,t.isMultiInject,t.targetType,t.serviceIdentifier,t.key,t.value,t.avoidConstraints);return n=t.contextInterceptor(n),f.resolve(n)}},e}();t.Container=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(7),a=function(){function e(e,t){this.id=i.id(),this.activated=!1,this.serviceIdentifier=e,this.scope=t,this.type=r.BindingTypeEnum.Invalid,this.constraint=function(e){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return e.prototype.clone=function(){var t=new e(this.serviceIdentifier,this.scope);return t.activated=!1,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.cache=this.cache,t},e}();t.Binding=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(30),i=n(1),a=n(3),o=n(0),u=n(16),s=n(8),l=n(31),c=n(2),f=n(32),d=n(33),p=n(35),h=n(18);function m(e){return e._bindingDictionary}function v(e,t,n,a,o){var u=g(n.container,o.serviceIdentifier),l=[];return u.length===r.BindingCount.NoBindingsAvailable&&n.container.options.autoBindInjectable&&"function"==typeof o.serviceIdentifier&&e.getConstructorMetadata(o.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(o.serviceIdentifier).toSelf(),u=g(n.container,o.serviceIdentifier)),l=t?u:u.filter(function(e){var t=new p.Request(e.serviceIdentifier,n,a,e,o);return e.constraint(t)}),function(e,t,n,a){switch(t.length){case r.BindingCount.NoBindingsAvailable:if(n.isOptional())return t;var o=s.getServiceIdentifierAsString(e),u=i.NOT_REGISTERED;throw u+=s.listMetadataForTarget(o,n),u+=s.listRegisteredBindingsForServiceIdentifier(a,o,g),new Error(u);case r.BindingCount.OnlyOneBindingAvailable:if(!n.isArray())return t;case r.BindingCount.MultipleBindingsAvailable:default:if(n.isArray())return t;var o=s.getServiceIdentifierAsString(e),u=i.AMBIGUOUS_MATCH+" "+o;throw u+=s.listRegisteredBindingsForServiceIdentifier(a,o,g),new Error(u)}}(o.serviceIdentifier,l,o,n.container),l}function g(e,t){var n=[],r=m(e);return r.hasKey(t)?n=r.get(t):null!==e.parent&&(n=g(e.parent,t)),n}t.getBindingDictionary=m,t.plan=function(e,t,n,r,m,g,y,b){void 0===b&&(b=!1);var _=new l.Context(t),w=function(e,t,n,r,i,a){var u=e?o.MULTI_INJECT_TAG:o.INJECT_TAG,s=new c.Metadata(u,n),l=new h.Target(t,r,n,s);if(void 0!==i){var f=new c.Metadata(i,a);l.metadata.push(f)}return l}(n,r,m,"",g,y);try{return function e(t,n,r,o,u,s){var l,c;if(null===u){l=v(t,n,o,null,s),c=new p.Request(r,o,null,l,s);var h=new f.Plan(o,c);o.addPlan(h)}else l=v(t,n,o,u,s),c=u.addChildRequest(s.serviceIdentifier,l,s);l.forEach(function(n){var r=null;if(s.isArray())r=c.addChildRequest(n.serviceIdentifier,n,s);else{if(n.cache)return;r=c}if(n.type===a.BindingTypeEnum.Instance&&null!==n.implementationType){var u=d.getDependencies(t,n.implementationType);if(!o.container.options.skipBaseClassChecks){var l=d.getBaseClassDependencyCount(t,n.implementationType);if(u.length<l){var f=i.ARGUMENTS_LENGTH_MISMATCH(d.getFunctionName(n.implementationType));throw new Error(f)}}u.forEach(function(n){e(t,!1,n.serviceIdentifier,o,r,n)})}})}(e,b,m,_,null,w),_}catch(e){throw u.isStackOverflowExeption(e)&&_.plan&&s.circularDependencyToException(_.plan.rootRequest),e}},t.createMockRequest=function(e,t,n,r){var i=new h.Target(a.TargetTypeEnum.Variable,"",t,new c.Metadata(n,r)),o=new l.Context(e);return new p.Request(t,o,null,[],i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),i=function(){function e(e){this.id=r.id(),this.container=e}return e.prototype.addPlan=function(e){this.plan=e},e.prototype.setCurrentRequest=function(e){this.currentRequest=e},e}();t.Context=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){this.parentContext=e,this.rootRequest=t}}();t.Plan=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),i=n(1),a=n(3),o=n(0),u=n(8);t.getFunctionName=u.getFunctionName;var s=n(18);function l(e,t,n,r){var o=e.getConstructorMetadata(n),u=o.compilerGeneratedMetadata;if(void 0===u){var l=i.MISSING_INJECTABLE_ANNOTATION+" "+t+".";throw new Error(l)}var d=o.userGeneratedMetadata,p=Object.keys(d),h=function(e,t,n,r,i){for(var a=[],o=0;o<i;o++){var u=o,s=c(u,e,t,n,r);null!==s&&a.push(s)}return a}(r,t,u,d,0===n.length&&p.length>0?p.length:n.length),m=function e(t,n){var r=t.getPropertiesMetadata(n);var i=[];var o=Object.keys(r);for(var u=0,l=o;u<l.length;u++){var c=l[u],d=r[c],p=f(r[c]),h=p.targetName||c,m=p.inject||p.multiInject,v=new s.Target(a.TargetTypeEnum.ClassProperty,h,m);v.metadata=d,i.push(v)}var g=Object.getPrototypeOf(n.prototype).constructor;if(g!==Object){var y=e(t,g);i=i.concat(y)}return i}(e,n);return h.concat(m)}function c(e,t,n,o,u){var l=u[e.toString()]||[],c=f(l),d=!0!==c.unmanaged,p=o[e],h=c.inject||c.multiInject;if((p=h||p)instanceof r.LazyServiceIdentifer&&(p=p.unwrap()),d){var m=p===Object,v=p===Function;if(!t&&(m||v||void 0===p)){var g=i.MISSING_INJECT_ANNOTATION+" argument "+e+" in class "+n+".";throw new Error(g)}var y=new s.Target(a.TargetTypeEnum.ConstructorArgument,c.targetName,p);return y.metadata=l,y}return null}function f(e){var t={};return e.forEach(function(e){t[e.key.toString()]=e.value}),{inject:t[o.INJECT_TAG],multiInject:t[o.MULTI_INJECT_TAG],targetName:t[o.NAME_TAG],unmanaged:t[o.UNMANAGED_TAG]}}t.getDependencies=function(e,t){return l(e,u.getFunctionName(t),t,!1)},t.getBaseClassDependencyCount=function e(t,n){var r=Object.getPrototypeOf(n.prototype).constructor;if(r!==Object){var i=l(t,u.getFunctionName(r),r,!0),a=i.map(function(e){return e.metadata.filter(function(e){return e.key===o.UNMANAGED_TAG})}),s=[].concat.apply([],a).length,c=i.length-s;return c>0?c:e(t,r)}return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.str=e}return e.prototype.startsWith=function(e){return 0===this.str.indexOf(e)},e.prototype.endsWith=function(e){var t,n=e.split("").reverse().join("");return t=this.str.split("").reverse().join(""),this.startsWith.call({str:t},n)},e.prototype.contains=function(e){return-1!==this.str.indexOf(e)},e.prototype.equals=function(e){return this.str===e},e.prototype.value=function(){return this.str},e}();t.QueryableString=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),i=function(){function e(e,t,n,i,a){this.id=r.id(),this.serviceIdentifier=e,this.parentContext=t,this.parentRequest=n,this.target=a,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=null===n?new Map:null}return e.prototype.addChildRequest=function(t,n,r){var i=new e(t,this.parentContext,this,n,r);return this.childRequests.push(i),i},e}();t.Request=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(3),a=n(16),o=n(8),u=n(37),s=function(e,t,n){try{return n()}catch(n){throw a.isStackOverflowExeption(n)?new Error(r.CIRCULAR_DEPENDENCY_IN_FACTORY(e,t.toString())):n}},l=function(e){return function(t){t.parentContext.setCurrentRequest(t);var n=t.bindings,a=t.childRequests,c=t.target&&t.target.isArray(),f=!(t.parentRequest&&t.parentRequest.target&&t.target&&t.parentRequest.target.matchesArray(t.target.serviceIdentifier));if(c&&f)return a.map(function(t){return l(e)(t)});var d=null;if(!t.target.isOptional()||0!==n.length){var p=n[0],h=p.scope===i.BindingScopeEnum.Singleton,m=p.scope===i.BindingScopeEnum.Request;if(h&&p.activated)return p.cache;if(m&&null!==e&&e.has(p.id))return e.get(p.id);if(p.type===i.BindingTypeEnum.ConstantValue)d=p.cache;else if(p.type===i.BindingTypeEnum.Function)d=p.cache;else if(p.type===i.BindingTypeEnum.Constructor)d=p.implementationType;else if(p.type===i.BindingTypeEnum.DynamicValue&&null!==p.dynamicValue)d=s("toDynamicValue",p.serviceIdentifier,function(){return p.dynamicValue(t.parentContext)});else if(p.type===i.BindingTypeEnum.Factory&&null!==p.factory)d=s("toFactory",p.serviceIdentifier,function(){return p.factory(t.parentContext)});else if(p.type===i.BindingTypeEnum.Provider&&null!==p.provider)d=s("toProvider",p.serviceIdentifier,function(){return p.provider(t.parentContext)});else{if(p.type!==i.BindingTypeEnum.Instance||null===p.implementationType){var v=o.getServiceIdentifierAsString(t.serviceIdentifier);throw new Error(r.INVALID_BINDING_TYPE+" "+v)}d=u.resolveInstance(p.implementationType,a,l(e))}return"function"==typeof p.onActivation&&(d=p.onActivation(t.parentContext,d)),h&&(p.cache=d,p.activated=!0),m&&null!==e&&!e.has(p.id)&&e.set(p.id,d),d}}};t.resolve=function(e){return l(e.plan.rootRequest.requestScope)(e.plan.rootRequest)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(3),a=n(0);t.resolveInstance=function(e,t,n){var o,u,s=null;if(t.length>0){var l=t.filter(function(e){return null!==e.target&&e.target.type===i.TargetTypeEnum.ConstructorArgument}).map(n);u=l,s=function(e,t,n){var r=t.filter(function(e){return null!==e.target&&e.target.type===i.TargetTypeEnum.ClassProperty}),a=r.map(n);return r.forEach(function(t,n){var r;r=t.target.name.value();var i=a[n];e[r]=i}),e}(s=new((o=e).bind.apply(o,[void 0].concat(u))),t,n)}else s=new e;return function(e,t){if(Reflect.hasMetadata(a.POST_CONSTRUCT,e)){var n=Reflect.getMetadata(a.POST_CONSTRUCT,e);try{t[n.value]()}catch(t){throw new Error(r.POST_CONSTRUCT_ERROR(e.name,t.message))}}}(e,s),s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(3),a=n(39),o=n(19),u=function(){function e(e){this._binding=e}return e.prototype.to=function(e){return this._binding.type=i.BindingTypeEnum.Instance,this._binding.implementationType=e,new a.BindingInWhenOnSyntax(this._binding)},e.prototype.toSelf=function(){if("function"!=typeof this._binding.serviceIdentifier)throw new Error(""+r.INVALID_TO_SELF_VALUE);var e=this._binding.serviceIdentifier;return this.to(e)},e.prototype.toConstantValue=function(e){return this._binding.type=i.BindingTypeEnum.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,new o.BindingWhenOnSyntax(this._binding)},e.prototype.toDynamicValue=function(e){return this._binding.type=i.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new a.BindingInWhenOnSyntax(this._binding)},e.prototype.toConstructor=function(e){return this._binding.type=i.BindingTypeEnum.Constructor,this._binding.implementationType=e,new o.BindingWhenOnSyntax(this._binding)},e.prototype.toFactory=function(e){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=e,new o.BindingWhenOnSyntax(this._binding)},e.prototype.toFunction=function(e){if("function"!=typeof e)throw new Error(r.INVALID_FUNCTION_BINDING);var t=this.toConstantValue(e);return this._binding.type=i.BindingTypeEnum.Function,t},e.prototype.toAutoFactory=function(e){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=function(t){return function(){return t.container.get(e)}},new o.BindingWhenOnSyntax(this._binding)},e.prototype.toProvider=function(e){return this._binding.type=i.BindingTypeEnum.Provider,this._binding.provider=e,new o.BindingWhenOnSyntax(this._binding)},e.prototype.toService=function(e){this.toDynamicValue(function(t){return t.container.get(e)})},e}();t.BindingToSyntax=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(40),i=n(10),a=n(11),o=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new a.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new i.BindingOnSyntax(this._binding),this._bindingInSyntax=new r.BindingInSyntax(e)}return e.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},e.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},e.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingInWhenOnSyntax=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(19),a=function(){function e(e){this._binding=e}return e.prototype.inRequestScope=function(){return this._binding.scope=r.BindingScopeEnum.Request,new i.BindingWhenOnSyntax(this._binding)},e.prototype.inSingletonScope=function(){return this._binding.scope=r.BindingScopeEnum.Singleton,new i.BindingWhenOnSyntax(this._binding)},e.prototype.inTransientScope=function(){return this._binding.scope=r.BindingScopeEnum.Transient,new i.BindingWhenOnSyntax(this._binding)},e}();t.BindingInSyntax=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.of=function(t,n){var r=new e;return r.bindings=t,r.middleware=n,r},e}();t.ContainerSnapshot=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(){function e(){this._map=new Map}return e.prototype.getMap=function(){return this._map},e.prototype.add=function(e,t){if(null==e)throw new Error(r.NULL_ARGUMENT);if(null==t)throw new Error(r.NULL_ARGUMENT);var n=this._map.get(e);void 0!==n?(n.push(t),this._map.set(e,n)):this._map.set(e,[t])},e.prototype.get=function(e){if(null==e)throw new Error(r.NULL_ARGUMENT);var t=this._map.get(e);if(void 0!==t)return t;throw new Error(r.KEY_NOT_FOUND)},e.prototype.remove=function(e){if(null==e)throw new Error(r.NULL_ARGUMENT);if(!this._map.delete(e))throw new Error(r.KEY_NOT_FOUND)},e.prototype.removeByCondition=function(e){var t=this;this._map.forEach(function(n,r){var i=n.filter(function(t){return!e(t)});i.length>0?t._map.set(r,i):t._map.delete(r)})},e.prototype.hasKey=function(e){if(null==e)throw new Error(r.NULL_ARGUMENT);return this._map.has(e)},e.prototype.clone=function(){var t=new e;return this._map.forEach(function(e,n){e.forEach(function(e){return t.add(n,e.clone())})}),t},e.prototype.traverse=function(e){this._map.forEach(function(t,n){e(n,t)})},e}();t.Lookup=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),i=function(){return function(e){this.id=r.id(),this.registry=e}}();t.ContainerModule=i;var a=function(){return function(e){this.id=r.id(),this.registry=e}}();t.AsyncContainerModule=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(0);t.injectable=function(){return function(e){if(Reflect.hasOwnMetadata(i.PARAM_TYPES,e))throw new Error(r.DUPLICATED_INJECTABLE_DECORATOR);var t=Reflect.getMetadata(i.DESIGN_PARAM_TYPES,e)||[];return Reflect.defineMetadata(i.PARAM_TYPES,t,e),e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(4);t.tagged=function(e,t){return function(n,a,o){var u=new r.Metadata(e,t);"number"==typeof o?i.tagParameter(n,a,o,u):i.tagProperty(n,a,u)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(2),a=n(4);t.named=function(e){return function(t,n,o){var u=new i.Metadata(r.NAMED_TAG,e);"number"==typeof o?a.tagParameter(t,n,o,u):a.tagProperty(t,n,u)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(2),a=n(4);t.optional=function(){return function(e,t,n){var o=new i.Metadata(r.OPTIONAL_TAG,!0);"number"==typeof n?a.tagParameter(e,t,n,o):a.tagProperty(e,t,o)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(2),a=n(4);t.unmanaged=function(){return function(e,t,n){var o=new i.Metadata(r.UNMANAGED_TAG,!0);a.tagParameter(e,t,n,o)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(2),a=n(4);t.multiInject=function(e){return function(t,n,o){var u=new i.Metadata(r.MULTI_INJECT_TAG,e);"number"==typeof o?a.tagParameter(t,n,o,u):a.tagProperty(t,n,u)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(2),a=n(4);t.targetName=function(e){return function(t,n,o){var u=new i.Metadata(r.NAME_TAG,e);a.tagParameter(t,n,o,u)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(0),a=n(2);t.postConstruct=function(){return function(e,t,n){var o=new a.Metadata(i.POST_CONSTRUCT,t);if(Reflect.hasOwnMetadata(i.POST_CONSTRUCT,e.constructor))throw new Error(r.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(i.POST_CONSTRUCT,o,e.constructor)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiBindToService=function(e){return function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach(function(n){return e.bind(n).toService(t)})}}}},function(e,t,n){e.exports=function(){"use strict";var e=function(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array||e instanceof Uint8ClampedArray},t=function(e,t){for(var n=Object.keys(t),r=0;r<n.length;++r)e[n[r]]=t[n[r]];return e},n="\n";function r(e){var t=new Error("(regl) "+e);throw console.error(t),t}function i(e,t){e||r(t)}function a(e){return e?": "+e:""}function o(e,t,n){t.indexOf(e)<0&&r("invalid value"+a(n)+". must be one of: "+t)}var u=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function s(e,t){for(e+="";e.length<t;)e=" "+e;return e}function l(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function c(e,t){this.number=e,this.line=t,this.errors=[]}function f(e,t,n){this.file=e,this.line=t,this.message=n}function d(){var e=new Error,t=(e.stack||e).toString(),n=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(t);if(n)return n[1];var r=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(t);return r?r[1]:"unknown"}function p(){var e=new Error,t=(e.stack||e).toString(),n=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(t);if(n)return n[1];var r=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(t);return r?r[1]:"unknown"}function h(e,t){var n,r=e.split("\n"),i=1,a=0,o={unknown:new l,0:new l};o.unknown.name=o[0].name=t||d(),o.unknown.lines.push(new c(0,""));for(var u=0;u<r.length;++u){var s=r[u],f=/^\s*\#\s*(\w+)\s+(.+)\s*$/.exec(s);if(f)switch(f[1]){case"line":var p=/(\d+)(\s+\d+)?/.exec(f[2]);p&&(i=0|p[1],p[2]&&((a=0|p[2])in o||(o[a]=new l)));break;case"define":var h=/SHADER_NAME(_B64)?\s+(.*)$/.exec(f[2]);h&&(o[a].name=h[1]?(n=h[2],"undefined"!=typeof atob?atob(n):"base64:"+n):h[2])}o[a].lines.push(new c(i++,s))}return Object.keys(o).forEach(function(e){var t=o[e];t.lines.forEach(function(e){t.index[e.number]=e})}),o}function m(e){e._commandRef=d()}function v(e,t){var n=p();r(e+" in command "+(t||d())+("unknown"===n?"":" called from "+n))}function g(e,t,n,r){typeof e!==t&&v("invalid parameter type"+a(n)+". expected "+t+", got "+typeof e,r||d())}var y=33071,b=9728,_=9984,w=9985,x=9986,T=9987,E=5126,S=32819,M=32820,A=33635,C=34042,k={};function O(e,t){return e===M||e===S||e===A?2:e===C?4:k[e]*t}function N(e){return!(e&e-1||!e)}k[5120]=k[5121]=1,k[5122]=k[5123]=k[36193]=k[A]=k[S]=k[M]=2,k[5124]=k[5125]=k[E]=k[C]=4;var R=t(i,{optional:function(e){e()},raise:r,commandRaise:v,command:function(e,t,n){e||v(t,n||d())},parameter:function(e,t,n){e in t||r("unknown parameter ("+e+")"+a(n)+". possible values: "+Object.keys(t).join())},commandParameter:function(e,t,n,r){e in t||v("unknown parameter ("+e+")"+a(n)+". possible values: "+Object.keys(t).join(),r||d())},constructor:function(e){Object.keys(e).forEach(function(e){u.indexOf(e)<0&&r('invalid regl constructor argument "'+e+'". must be one of '+u)})},type:function(e,t,n){typeof e!==t&&r("invalid parameter type"+a(n)+". expected "+t+", got "+typeof e)},commandType:g,isTypedArray:function(t,n){e(t)||r("invalid parameter type"+a(n)+". must be a typed array")},nni:function(e,t){e>=0&&(0|e)===e||r("invalid parameter type, ("+e+")"+a(t)+". must be a nonnegative integer")},oneOf:o,shaderError:function(e,t,r,a,o){if(!e.getShaderParameter(t,e.COMPILE_STATUS)){var u=e.getShaderInfoLog(t),l=a===e.FRAGMENT_SHADER?"fragment":"vertex";g(r,"string",l+" shader source must be a string",o);var c=h(r,o),d=function(e){var t=[];return e.split("\n").forEach(function(e){if(!(e.length<5)){var n=/^ERROR\:\s+(\d+)\:(\d+)\:\s*(.*)$/.exec(e);n?t.push(new f(0|n[1],0|n[2],n[3].trim())):e.length>0&&t.push(new f("unknown",0,e))}}),t}(u);!function(e,t){t.forEach(function(t){var n=e[t.file];if(n){var r=n.index[t.line];if(r)return r.errors.push(t),void(n.hasErrors=!0)}e.unknown.hasErrors=!0,e.unknown.lines[0].errors.push(t)})}(c,d),Object.keys(c).forEach(function(e){var t=c[e];if(t.hasErrors){var r=[""],i=[""];a("file number "+e+": "+t.name+"\n","color:red;text-decoration:underline;font-weight:bold"),t.lines.forEach(function(e){if(e.errors.length>0){a(s(e.number,4)+"|  ","background-color:yellow; font-weight:bold"),a(e.line+n,"color:red; background-color:yellow; font-weight:bold");var t=0;e.errors.forEach(function(r){var i=r.message,o=/^\s*\'(.*)\'\s*\:\s*(.*)$/.exec(i);if(o){var u=o[1];switch(i=o[2],u){case"assign":u="="}t=Math.max(e.line.indexOf(u,t),0)}else t=0;a(s("| ",6)),a(s("^^^",t+3)+n,"font-weight:bold"),a(s("| ",6)),a(i+n,"font-weight:bold")}),a(s("| ",6)+n)}else a(s(e.number,4)+"|  "),a(e.line+n,"color:red")}),"undefined"==typeof document||window.chrome?console.log(r.join("")):(i[0]=r.join("%c"),console.log.apply(console,i))}function a(e,t){r.push(e),i.push(t||"")}}),i.raise("Error compiling "+l+" shader, "+c[0].name)}},linkError:function(e,t,r,a,o){if(!e.getProgramParameter(t,e.LINK_STATUS)){var u=e.getProgramInfoLog(t),s=h(r,o),l=h(a,o),c='Error linking program with vertex shader, "'+l[0].name+'", and fragment shader "'+s[0].name+'"';"undefined"!=typeof document?console.log("%c"+c+n+"%c"+u,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(c+n+u),i.raise(c)}},callSite:p,saveCommandRef:m,saveDrawInfo:function(e,t,n,r){function i(e){return e?r.id(e):0}function a(e,t){Object.keys(t).forEach(function(t){e[r.id(t)]=!0})}m(e),e._fragId=i(e.static.frag),e._vertId=i(e.static.vert);var o=e._uniformSet={};a(o,t.static),a(o,t.dynamic);var u=e._attributeSet={};a(u,n.static),a(u,n.dynamic),e._hasCount="count"in e.static||"count"in e.dynamic||"elements"in e.static||"elements"in e.dynamic},framebufferFormat:function(e,t,n){e.texture?o(e.texture._texture.internalformat,t,"unsupported texture format for attachment"):o(e.renderbuffer._renderbuffer.format,n,"unsupported renderbuffer format for attachment")},guessCommand:d,texture2D:function(e,t,n){var r,a=t.width,o=t.height,u=t.channels;i(a>0&&a<=n.maxTextureSize&&o>0&&o<=n.maxTextureSize,"invalid texture shape"),(e.wrapS!==y||e.wrapT!==y)&&i(N(a)&&N(o),"incompatible wrap mode for texture, both width and height must be power of 2"),1===t.mipmask?1!==a&&1!==o&&i(e.minFilter!==_&&e.minFilter!==x&&e.minFilter!==w&&e.minFilter!==T,"min filter requires mipmap"):(i(N(a)&&N(o),"texture must be a square power of 2 to support mipmapping"),i(t.mipmask===(a<<1)-1,"missing or incomplete mipmap data")),t.type===E&&(n.extensions.indexOf("oes_texture_float_linear")<0&&i(e.minFilter===b&&e.magFilter===b,"filter not supported, must enable oes_texture_float_linear"),i(!e.genMipmaps,"mipmap generation not supported with float textures"));var s=t.images;for(r=0;r<16;++r)if(s[r]){var l=a>>r,c=o>>r;i(t.mipmask&1<<r,"missing mipmap data");var f=s[r];if(i(f.width===l&&f.height===c,"invalid shape for mip images"),i(f.format===t.format&&f.internalformat===t.internalformat&&f.type===t.type,"incompatible type for mip image"),f.compressed);else if(f.data){var d=Math.ceil(O(f.type,u)*l/f.unpackAlignment)*f.unpackAlignment;i(f.data.byteLength===d*c,"invalid data for image, buffer size is inconsistent with image format")}else f.element||f.copy}else e.genMipmaps||i(0==(t.mipmask&1<<r),"extra mipmap data");t.compressed&&i(!e.genMipmaps,"mipmap generation for compressed images not supported")},textureCube:function(e,t,n,r){var a=e.width,o=e.height,u=e.channels;i(a>0&&a<=r.maxTextureSize&&o>0&&o<=r.maxTextureSize,"invalid texture shape"),i(a===o,"cube map must be square"),i(t.wrapS===y&&t.wrapT===y,"wrap mode not supported by cube map");for(var s=0;s<n.length;++s){var l=n[s];i(l.width===a&&l.height===o,"inconsistent cube map face shape"),t.genMipmaps&&(i(!l.compressed,"can not generate mipmap for compressed textures"),i(1===l.mipmask,"can not specify mipmaps and generate mipmaps"));for(var c=l.images,f=0;f<16;++f){var d=c[f];if(d){var p=a>>f,h=o>>f;i(l.mipmask&1<<f,"missing mipmap data"),i(d.width===p&&d.height===h,"invalid shape for mip images"),i(d.format===e.format&&d.internalformat===e.internalformat&&d.type===e.type,"incompatible type for mip image"),d.compressed||(d.data?i(d.data.byteLength===p*h*Math.max(O(d.type,u),d.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):d.element||d.copy)}}}}}),P=0,I=0;function D(e,t){this.id=P++,this.type=e,this.data=t}function j(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function L(e){return"["+function e(t){if(0===t.length)return[];var n=t.charAt(0),r=t.charAt(t.length-1);if(t.length>1&&n===r&&('"'===n||"'"===n))return['"'+j(t.substr(1,t.length-2))+'"'];var i=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(t);if(i)return e(t.substr(0,i.index)).concat(e(i[1])).concat(e(t.substr(i.index+i[0].length)));var a=t.split(".");if(1===a.length)return['"'+j(t)+'"'];for(var o=[],u=0;u<a.length;++u)o=o.concat(e(a[u]));return o}(e).join("][")+"]"}var F={DynamicVariable:D,define:function(e,t){return new D(e,L(t+""))},isDynamic:function(e){return"function"==typeof e&&!e._reglType||e instanceof D},unbox:function(e,t){return"function"==typeof e?new D(I,e):e},accessor:L},B={next:"function"==typeof requestAnimationFrame?function(e){return requestAnimationFrame(e)}:function(e){return setTimeout(e,16)},cancel:"function"==typeof cancelAnimationFrame?function(e){return cancelAnimationFrame(e)}:clearTimeout},U="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date};function z(e){return"string"==typeof e?e.split():(R(Array.isArray(e),"invalid extension array"),e)}function V(e){return"string"==typeof e?(R("undefined"!=typeof document,"not supported outside of DOM"),document.querySelector(e)):e}function H(e){var n,r,i,a,o,u=e||{},s={},l=[],c=[],f="undefined"==typeof window?1:window.devicePixelRatio,d=!1,p=function(e){e&&R.raise(e)},h=function(){};if("string"==typeof u?(R("undefined"!=typeof document,"selector queries only supported in DOM enviroments"),n=document.querySelector(u),R(n,"invalid query string for element")):"object"==typeof u?"string"==typeof(o=u).nodeName&&"function"==typeof o.appendChild&&"function"==typeof o.getBoundingClientRect?n=u:function(e){return"function"==typeof e.drawArrays||"function"==typeof e.drawElements}(u)?i=(a=u).canvas:(R.constructor(u),"gl"in u?a=u.gl:"canvas"in u?i=V(u.canvas):"container"in u&&(r=V(u.container)),"attributes"in u&&(s=u.attributes,R.type(s,"object","invalid context attributes")),"extensions"in u&&(l=z(u.extensions)),"optionalExtensions"in u&&(c=z(u.optionalExtensions)),"onDone"in u&&(R.type(u.onDone,"function","invalid or missing onDone callback"),p=u.onDone),"profile"in u&&(d=!!u.profile),"pixelRatio"in u&&(f=+u.pixelRatio,R(f>0,"invalid pixel ratio"))):R.raise("invalid arguments to regl"),n&&("canvas"===n.nodeName.toLowerCase()?i=n:r=n),!a){if(!i){R("undefined"!=typeof document,"must manually specify webgl context outside of DOM environments");var m=function(e,n,r){var i=document.createElement("canvas");function a(){var n=window.innerWidth,a=window.innerHeight;if(e!==document.body){var o=e.getBoundingClientRect();n=o.right-o.left,a=o.bottom-o.top}i.width=r*n,i.height=r*a,t(i.style,{width:n+"px",height:a+"px"})}return t(i.style,{border:0,margin:0,padding:0,top:0,left:0}),e.appendChild(i),e===document.body&&(i.style.position="absolute",t(e.style,{margin:0,padding:0})),window.addEventListener("resize",a,!1),a(),{canvas:i,onDestroy:function(){window.removeEventListener("resize",a),e.removeChild(i)}}}(r||document.body,0,f);if(!m)return null;i=m.canvas,h=m.onDestroy}a=function(e,t){function n(n){try{return e.getContext(n,t)}catch(e){return null}}return n("webgl")||n("experimental-webgl")||n("webgl-experimental")}(i,s)}return a?{gl:a,canvas:i,container:r,extensions:l,optionalExtensions:c,pixelRatio:f,profile:d,onDone:p,onDestroy:h}:(h(),p("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function G(e,t){for(var n=Array(e),r=0;r<e;++r)n[r]=t(r);return n}var q=5120,W=5121,Y=5122,X=5123,$=5124,Q=5125,K=5126;function J(e){var t,n;return t=(e>65535)<<4,t|=n=((e>>>=t)>255)<<3,t|=n=((e>>>=n)>15)<<2,(t|=n=((e>>>=n)>3)<<1)|(e>>>=n)>>1}function Z(){var e=G(8,function(){return[]});function t(t){var n=function(e){for(var t=16;t<=1<<28;t*=16)if(e<=t)return t;return 0}(t),r=e[J(n)>>2];return r.length>0?r.pop():new ArrayBuffer(n)}function n(t){e[J(t.byteLength)>>2].push(t)}return{alloc:t,free:n,allocType:function(e,n){var r=null;switch(e){case q:r=new Int8Array(t(n),0,n);break;case W:r=new Uint8Array(t(n),0,n);break;case Y:r=new Int16Array(t(2*n),0,n);break;case X:r=new Uint16Array(t(2*n),0,n);break;case $:r=new Int32Array(t(4*n),0,n);break;case Q:r=new Uint32Array(t(4*n),0,n);break;case K:r=new Float32Array(t(4*n),0,n);break;default:return null}return r.length!==n?r.subarray(0,n):r},freeType:function(e){n(e.buffer)}}}var ee=Z();ee.zero=Z();var te=function(e,t){var n=1;t.ext_texture_filter_anisotropic&&(n=e.getParameter(34047));var r=1,i=1;t.webgl_draw_buffers&&(r=e.getParameter(34852),i=e.getParameter(36063));var a=!!t.oes_texture_float;if(a){var o=e.createTexture();e.bindTexture(3553,o),e.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var u=e.createFramebuffer();if(e.bindFramebuffer(36160,u),e.framebufferTexture2D(36160,36064,3553,o,0),e.bindTexture(3553,null),36053!==e.checkFramebufferStatus(36160))a=!1;else{e.viewport(0,0,1,1),e.clearColor(1,0,0,1),e.clear(16384);var s=ee.allocType(5126,4);e.readPixels(0,0,1,1,6408,5126,s),e.getError()?a=!1:(e.deleteFramebuffer(u),e.deleteTexture(o),a=1===s[0]),ee.freeType(s)}}var l="undefined"!=typeof navigator&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),c=!0;if(!l){var f=e.createTexture(),d=ee.allocType(5121,36);e.activeTexture(33984),e.bindTexture(34067,f),e.texImage2D(34069,0,6408,3,3,0,6408,5121,d),ee.freeType(d),e.bindTexture(34067,null),e.deleteTexture(f),c=!e.getError()}return{colorBits:[e.getParameter(3410),e.getParameter(3411),e.getParameter(3412),e.getParameter(3413)],depthBits:e.getParameter(3414),stencilBits:e.getParameter(3415),subpixelBits:e.getParameter(3408),extensions:Object.keys(t).filter(function(e){return!!t[e]}),maxAnisotropic:n,maxDrawbuffers:r,maxColorAttachments:i,pointSizeDims:e.getParameter(33901),lineWidthDims:e.getParameter(33902),maxViewportDims:e.getParameter(3386),maxCombinedTextureUnits:e.getParameter(35661),maxCubeMapSize:e.getParameter(34076),maxRenderbufferSize:e.getParameter(34024),maxTextureUnits:e.getParameter(34930),maxTextureSize:e.getParameter(3379),maxAttributes:e.getParameter(34921),maxVertexUniforms:e.getParameter(36347),maxVertexTextureUnits:e.getParameter(35660),maxVaryingVectors:e.getParameter(36348),maxFragmentUniforms:e.getParameter(36349),glsl:e.getParameter(35724),renderer:e.getParameter(7937),vendor:e.getParameter(7936),version:e.getParameter(7938),readFloat:a,npotTextureCube:c}};function ne(t){return!!t&&"object"==typeof t&&Array.isArray(t.shape)&&Array.isArray(t.stride)&&"number"==typeof t.offset&&t.shape.length===t.stride.length&&(Array.isArray(t.data)||e(t.data))}var re=function(e){return Object.keys(e).map(function(t){return e[t]})},ie={shape:function(e){for(var t=[],n=e;n.length;n=n[0])t.push(n.length);return t},flatten:function(e,t,n,r){var i=1;if(t.length)for(var a=0;a<t.length;++a)i*=t[a];else i=0;var o=r||ee.allocType(n,i);switch(t.length){case 0:break;case 1:!function(e,t,n){for(var r=0;r<t;++r)n[r]=e[r]}(e,t[0],o);break;case 2:!function(e,t,n,r){for(var i=0,a=0;a<t;++a)for(var o=e[a],u=0;u<n;++u)r[i++]=o[u]}(e,t[0],t[1],o);break;case 3:ae(e,t[0],t[1],t[2],o,0);break;default:!function e(t,n,r,i,a){for(var o=1,u=r+1;u<n.length;++u)o*=n[u];var s=n[r];if(n.length-r==4){var l=n[r+1],c=n[r+2],f=n[r+3];for(u=0;u<s;++u)ae(t[u],l,c,f,i,a),a+=o}else for(u=0;u<s;++u)e(t[u],n,r+1,i,a),a+=o}(e,t,0,o,0)}return o}};function ae(e,t,n,r,i,a){for(var o=a,u=0;u<t;++u)for(var s=e[u],l=0;l<n;++l)for(var c=s[l],f=0;f<r;++f)i[o++]=c[f]}var oe={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},ue={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},se={dynamic:35048,stream:35040,static:35044},le=ie.flatten,ce=ie.shape,fe=35044,de=35040,pe=5121,he=5126,me=[];function ve(e){return 0|oe[Object.prototype.toString.call(e)]}function ge(e,t){for(var n=0;n<t.length;++n)e[n]=t[n]}function ye(e,t,n,r,i,a,o){for(var u=0,s=0;s<n;++s)for(var l=0;l<r;++l)e[u++]=t[i*s+a*l+o]}me[5120]=1,me[5122]=2,me[5124]=4,me[5121]=1,me[5123]=2,me[5125]=4,me[5126]=4;var be={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},_e=0,we=1,xe=4,Te=5120,Ee=5121,Se=5122,Me=5123,Ae=5124,Ce=5125,ke=34963,Oe=35040,Ne=35044,Re=new Float32Array(1),Pe=new Uint32Array(Re.buffer),Ie=5123;function De(e){for(var t=ee.allocType(Ie,e.length),n=0;n<e.length;++n)if(isNaN(e[n]))t[n]=65535;else if(e[n]===1/0)t[n]=31744;else if(e[n]===-1/0)t[n]=64512;else{Re[0]=e[n];var r=Pe[0],i=r>>>31<<15,a=(r<<1>>>24)-127,o=r>>13&1023;if(a<-24)t[n]=i;else if(a<-14){var u=-14-a;t[n]=i+(o+1024>>u)}else t[n]=a>15?i+31744:i+(a+15<<10)+o}return t}function je(t){return Array.isArray(t)||e(t)}var Le=function(e){return!(e&e-1||!e)},Fe=34467,Be=3553,Ue=34067,ze=34069,Ve=6408,He=6406,Ge=6407,qe=6409,We=6410,Ye=32854,Xe=32855,$e=36194,Qe=32819,Ke=32820,Je=33635,Ze=34042,et=6402,tt=34041,nt=35904,rt=35906,it=36193,at=33776,ot=33777,ut=33778,st=33779,lt=35986,ct=35987,ft=34798,dt=35840,pt=35841,ht=35842,mt=35843,vt=36196,gt=5121,yt=5123,bt=5125,_t=5126,wt=10242,xt=10243,Tt=10497,Et=33071,St=33648,Mt=10240,At=10241,Ct=9728,kt=9729,Ot=9984,Nt=9985,Rt=9986,Pt=9987,It=33170,Dt=4352,jt=4353,Lt=4354,Ft=34046,Bt=3317,Ut=37440,zt=37441,Vt=37443,Ht=37444,Gt=33984,qt=[Ot,Rt,Nt,Pt],Wt=[0,qe,We,Ge,Ve],Yt={};function Xt(e){return"[object "+e+"]"}Yt[qe]=Yt[He]=Yt[et]=1,Yt[tt]=Yt[We]=2,Yt[Ge]=Yt[nt]=3,Yt[Ve]=Yt[rt]=4;var $t=Xt("HTMLCanvasElement"),Qt=Xt("CanvasRenderingContext2D"),Kt=Xt("ImageBitmap"),Jt=Xt("HTMLImageElement"),Zt=Xt("HTMLVideoElement"),en=Object.keys(oe).concat([$t,Qt,Kt,Jt,Zt]),tn=[];tn[gt]=1,tn[_t]=4,tn[it]=2,tn[yt]=2,tn[bt]=4;var nn=[];function rn(e){return Array.isArray(e)&&(0===e.length||"number"==typeof e[0])}function an(e){if(!Array.isArray(e))return!1;var t=e.length;return!(0===t||!je(e[0]))}function on(e){return Object.prototype.toString.call(e)}function un(e){return on(e)===$t}function sn(e){if(!e)return!1;var t=on(e);return en.indexOf(t)>=0||rn(e)||an(e)||ne(e)}function ln(e){return 0|oe[Object.prototype.toString.call(e)]}function cn(e,t){return ee.allocType(e.type===it?_t:e.type,t)}function fn(e,t){e.type===it?(e.data=De(t),ee.freeType(t)):e.data=t}function dn(e,t,n,r,i,a){var o;if(o=void 0!==nn[e]?nn[e]:Yt[e]*tn[t],a&&(o*=6),i){for(var u=0,s=n;s>=1;)u+=o*s*s,s/=2;return u}return o*n*r}function pn(n,r,i,a,o,u,s){var l={"don't care":Dt,"dont care":Dt,nice:Lt,fast:jt},c={repeat:Tt,clamp:Et,mirror:St},f={nearest:Ct,linear:kt},d=t({mipmap:Pt,"nearest mipmap nearest":Ot,"linear mipmap nearest":Nt,"nearest mipmap linear":Rt,"linear mipmap linear":Pt},f),p={none:0,browser:Ht},h={uint8:gt,rgba4:Qe,rgb565:Je,"rgb5 a1":Ke},m={alpha:He,luminance:qe,"luminance alpha":We,rgb:Ge,rgba:Ve,rgba4:Ye,"rgb5 a1":Xe,rgb565:$e},v={};r.ext_srgb&&(m.srgb=nt,m.srgba=rt),r.oes_texture_float&&(h.float32=h.float=_t),r.oes_texture_half_float&&(h.float16=h["half float"]=it),r.webgl_depth_texture&&(t(m,{depth:et,"depth stencil":tt}),t(h,{uint16:yt,uint32:bt,"depth stencil":Ze})),r.webgl_compressed_texture_s3tc&&t(v,{"rgb s3tc dxt1":at,"rgba s3tc dxt1":ot,"rgba s3tc dxt3":ut,"rgba s3tc dxt5":st}),r.webgl_compressed_texture_atc&&t(v,{"rgb atc":lt,"rgba atc explicit alpha":ct,"rgba atc interpolated alpha":ft}),r.webgl_compressed_texture_pvrtc&&t(v,{"rgb pvrtc 4bppv1":dt,"rgb pvrtc 2bppv1":pt,"rgba pvrtc 4bppv1":ht,"rgba pvrtc 2bppv1":mt}),r.webgl_compressed_texture_etc1&&(v["rgb etc1"]=vt);var g=Array.prototype.slice.call(n.getParameter(Fe));Object.keys(v).forEach(function(e){var t=v[e];g.indexOf(t)>=0&&(m[e]=t)});var y=Object.keys(m);i.textureFormats=y;var b=[];Object.keys(m).forEach(function(e){var t=m[e];b[t]=e});var _=[];Object.keys(h).forEach(function(e){var t=h[e];_[t]=e});var w=[];Object.keys(f).forEach(function(e){var t=f[e];w[t]=e});var x=[];Object.keys(d).forEach(function(e){var t=d[e];x[t]=e});var T=[];Object.keys(c).forEach(function(e){var t=c[e];T[t]=e});var E=y.reduce(function(e,t){var n=m[t];return n===qe||n===He||n===qe||n===We||n===et||n===tt?e[n]=n:n===Xe||t.indexOf("rgba")>=0?e[n]=Ve:e[n]=Ge,e},{});function S(){this.internalformat=Ve,this.format=Ve,this.type=gt,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=Ht,this.width=0,this.height=0,this.channels=0}function M(e,t){e.internalformat=t.internalformat,e.format=t.format,e.type=t.type,e.compressed=t.compressed,e.premultiplyAlpha=t.premultiplyAlpha,e.flipY=t.flipY,e.unpackAlignment=t.unpackAlignment,e.colorSpace=t.colorSpace,e.width=t.width,e.height=t.height,e.channels=t.channels}function A(e,t){if("object"==typeof t&&t){if("premultiplyAlpha"in t&&(R.type(t.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),e.premultiplyAlpha=t.premultiplyAlpha),"flipY"in t&&(R.type(t.flipY,"boolean","invalid texture flip"),e.flipY=t.flipY),"alignment"in t&&(R.oneOf(t.alignment,[1,2,4,8],"invalid texture unpack alignment"),e.unpackAlignment=t.alignment),"colorSpace"in t&&(R.parameter(t.colorSpace,p,"invalid colorSpace"),e.colorSpace=p[t.colorSpace]),"type"in t){var n=t.type;R(r.oes_texture_float||!("float"===n||"float32"===n),"you must enable the OES_texture_float extension in order to use floating point textures."),R(r.oes_texture_half_float||!("half float"===n||"float16"===n),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),R(r.webgl_depth_texture||!("uint16"===n||"uint32"===n||"depth stencil"===n),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),R.parameter(n,h,"invalid texture type"),e.type=h[n]}var a=e.width,o=e.height,u=e.channels,s=!1;"shape"in t?(R(Array.isArray(t.shape)&&t.shape.length>=2,"shape must be an array"),a=t.shape[0],o=t.shape[1],3===t.shape.length&&(u=t.shape[2],R(u>0&&u<=4,"invalid number of channels"),s=!0),R(a>=0&&a<=i.maxTextureSize,"invalid width"),R(o>=0&&o<=i.maxTextureSize,"invalid height")):("radius"in t&&(a=o=t.radius,R(a>=0&&a<=i.maxTextureSize,"invalid radius")),"width"in t&&(a=t.width,R(a>=0&&a<=i.maxTextureSize,"invalid width")),"height"in t&&(o=t.height,R(o>=0&&o<=i.maxTextureSize,"invalid height")),"channels"in t&&(u=t.channels,R(u>0&&u<=4,"invalid number of channels"),s=!0)),e.width=0|a,e.height=0|o,e.channels=0|u;var l=!1;if("format"in t){var c=t.format;R(r.webgl_depth_texture||!("depth"===c||"depth stencil"===c),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),R.parameter(c,m,"invalid texture format");var f=e.internalformat=m[c];e.format=E[f],c in h&&("type"in t||(e.type=h[c])),c in v&&(e.compressed=!0),l=!0}!s&&l?e.channels=Yt[e.format]:s&&!l?e.channels!==Wt[e.format]&&(e.format=e.internalformat=Wt[e.channels]):l&&s&&R(e.channels===Yt[e.format],"number of channels inconsistent with specified format")}}function C(e){n.pixelStorei(Ut,e.flipY),n.pixelStorei(zt,e.premultiplyAlpha),n.pixelStorei(Vt,e.colorSpace),n.pixelStorei(Bt,e.unpackAlignment)}function k(){S.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function O(t,n){var r=null;if(sn(n)?r=n:n&&(R.type(n,"object","invalid pixel data type"),A(t,n),"x"in n&&(t.xOffset=0|n.x),"y"in n&&(t.yOffset=0|n.y),sn(n.data)&&(r=n.data)),R(!t.compressed||r instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),n.copy){R(!r,"can not specify copy and data field for the same texture");var a=o.viewportWidth,u=o.viewportHeight;t.width=t.width||a-t.xOffset,t.height=t.height||u-t.yOffset,t.needsCopy=!0,R(t.xOffset>=0&&t.xOffset<a&&t.yOffset>=0&&t.yOffset<u&&t.width>0&&t.width<=a&&t.height>0&&t.height<=u,"copy texture read out of bounds")}else if(r){if(e(r))t.channels=t.channels||4,t.data=r,"type"in n||t.type!==gt||(t.type=ln(r));else if(rn(r))t.channels=t.channels||4,function(e,t){var n=t.length;switch(e.type){case gt:case yt:case bt:case _t:var r=ee.allocType(e.type,n);r.set(t),e.data=r;break;case it:e.data=De(t);break;default:R.raise("unsupported texture type, must specify a typed array")}}(t,r),t.alignment=1,t.needsFree=!0;else if(ne(r)){var s=r.data;Array.isArray(s)||t.type!==gt||(t.type=ln(s));var l,c,f,d,p,h,m=r.shape,v=r.stride;3===m.length?(f=m[2],h=v[2]):(R(2===m.length,"invalid ndarray pixel data, must be 2 or 3D"),f=1,h=1),l=m[0],c=m[1],d=v[0],p=v[1],t.alignment=1,t.width=l,t.height=c,t.channels=f,t.format=t.internalformat=Wt[f],t.needsFree=!0,function(e,t,n,r,i,a){for(var o=e.width,u=e.height,s=e.channels,l=cn(e,o*u*s),c=0,f=0;f<u;++f)for(var d=0;d<o;++d)for(var p=0;p<s;++p)l[c++]=t[n*d+r*f+i*p+a];fn(e,l)}(t,s,d,p,h,r.offset)}else if(un(r)||on(r)===Qt)un(r)?t.element=r:t.element=r.canvas,t.width=t.element.width,t.height=t.element.height,t.channels=4;else if(function(e){return on(e)===Kt}(r))t.element=r,t.width=r.width,t.height=r.height,t.channels=4;else if(function(e){return on(e)===Jt}(r))t.element=r,t.width=r.naturalWidth,t.height=r.naturalHeight,t.channels=4;else if(function(e){return on(e)===Zt}(r))t.element=r,t.width=r.videoWidth,t.height=r.videoHeight,t.channels=4;else if(an(r)){var g=t.width||r[0].length,y=t.height||r.length,b=t.channels;b=je(r[0][0])?b||r[0][0].length:b||1;for(var _=ie.shape(r),w=1,x=0;x<_.length;++x)w*=_[x];var T=cn(t,w);ie.flatten(r,_,"",T),fn(t,T),t.alignment=1,t.width=g,t.height=y,t.channels=b,t.format=t.internalformat=Wt[b],t.needsFree=!0}}else t.width=t.width||1,t.height=t.height||1,t.channels=t.channels||4;t.type===_t?R(i.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):t.type===it&&R(i.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function N(e,t,r){var i=e.element,o=e.data,u=e.internalformat,s=e.format,l=e.type,c=e.width,f=e.height,d=e.channels;if(C(e),i)n.texImage2D(t,r,s,s,l,i);else if(e.compressed)n.compressedTexImage2D(t,r,u,c,f,0,o);else if(e.needsCopy)a(),n.copyTexImage2D(t,r,s,e.xOffset,e.yOffset,c,f,0);else{var p=!o;p&&(o=ee.zero.allocType(l,c*f*d)),n.texImage2D(t,r,s,c,f,0,s,l,o),p&&o&&ee.zero.freeType(o)}}function P(e,t,r,i,o){var u=e.element,s=e.data,l=e.internalformat,c=e.format,f=e.type,d=e.width,p=e.height;C(e),u?n.texSubImage2D(t,o,r,i,c,f,u):e.compressed?n.compressedTexSubImage2D(t,o,r,i,l,d,p,s):e.needsCopy?(a(),n.copyTexSubImage2D(t,o,r,i,e.xOffset,e.yOffset,d,p)):n.texSubImage2D(t,o,r,i,d,p,c,f,s)}var I=[];function D(){return I.pop()||new k}function j(e){e.needsFree&&ee.freeType(e.data),k.call(e),I.push(e)}function L(){S.call(this),this.genMipmaps=!1,this.mipmapHint=Dt,this.mipmask=0,this.images=Array(16)}function F(e,t,n){var r=e.images[0]=D();e.mipmask=1,r.width=e.width=t,r.height=e.height=n,r.channels=e.channels=4}function B(e,t){var n=null;if(sn(t))M(n=e.images[0]=D(),e),O(n,t),e.mipmask=1;else if(A(e,t),Array.isArray(t.mipmap))for(var r=t.mipmap,i=0;i<r.length;++i)M(n=e.images[i]=D(),e),n.width>>=i,n.height>>=i,O(n,r[i]),e.mipmask|=1<<i;else M(n=e.images[0]=D(),e),O(n,t),e.mipmask=1;M(e,e.images[0]),(e.compressed&&e.internalformat===at||e.internalformat===ot||e.internalformat===ut||e.internalformat===st)&&R(e.width%4==0&&e.height%4==0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function U(e,t){for(var n=e.images,r=0;r<n.length;++r){if(!n[r])return;N(n[r],t,r)}}var z=[];function V(){var e=z.pop()||new L;S.call(e),e.mipmask=0;for(var t=0;t<16;++t)e.images[t]=null;return e}function H(e){for(var t=e.images,n=0;n<t.length;++n)t[n]&&j(t[n]),t[n]=null;z.push(e)}function G(){this.minFilter=Ct,this.magFilter=Ct,this.wrapS=Et,this.wrapT=Et,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=Dt}function q(e,t){if("min"in t){var n=t.min;R.parameter(n,d),e.minFilter=d[n],qt.indexOf(e.minFilter)>=0&&!("faces"in t)&&(e.genMipmaps=!0)}if("mag"in t){var r=t.mag;R.parameter(r,f),e.magFilter=f[r]}var a=e.wrapS,o=e.wrapT;if("wrap"in t){var u=t.wrap;"string"==typeof u?(R.parameter(u,c),a=o=c[u]):Array.isArray(u)&&(R.parameter(u[0],c),R.parameter(u[1],c),a=c[u[0]],o=c[u[1]])}else{if("wrapS"in t){var s=t.wrapS;R.parameter(s,c),a=c[s]}if("wrapT"in t){var p=t.wrapT;R.parameter(p,c),o=c[p]}}if(e.wrapS=a,e.wrapT=o,"anisotropic"in t){var h=t.anisotropic;R("number"==typeof h&&h>=1&&h<=i.maxAnisotropic,"aniso samples must be between 1 and "),e.anisotropic=t.anisotropic}if("mipmap"in t){var m=!1;switch(typeof t.mipmap){case"string":R.parameter(t.mipmap,l,"invalid mipmap hint"),e.mipmapHint=l[t.mipmap],e.genMipmaps=!0,m=!0;break;case"boolean":m=e.genMipmaps=t.mipmap;break;case"object":R(Array.isArray(t.mipmap),"invalid mipmap type"),e.genMipmaps=!1,m=!0;break;default:R.raise("invalid mipmap type")}!m||"min"in t||(e.minFilter=Ot)}}function W(e,t){n.texParameteri(t,At,e.minFilter),n.texParameteri(t,Mt,e.magFilter),n.texParameteri(t,wt,e.wrapS),n.texParameteri(t,xt,e.wrapT),r.ext_texture_filter_anisotropic&&n.texParameteri(t,Ft,e.anisotropic),e.genMipmaps&&(n.hint(It,e.mipmapHint),n.generateMipmap(t))}var Y=0,X={},$=i.maxTextureUnits,Q=Array($).map(function(){return null});function K(e){S.call(this),this.mipmask=0,this.internalformat=Ve,this.id=Y++,this.refCount=1,this.target=e,this.texture=n.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new G,s.profile&&(this.stats={size:0})}function J(e){n.activeTexture(Gt),n.bindTexture(e.target,e.texture)}function Z(){var e=Q[0];e?n.bindTexture(e.target,e.texture):n.bindTexture(Be,null)}function te(e){var t=e.texture;R(t,"must not double destroy texture");var r=e.unit,i=e.target;r>=0&&(n.activeTexture(Gt+r),n.bindTexture(i,null),Q[r]=null),n.deleteTexture(t),e.texture=null,e.params=null,e.pixels=null,e.refCount=0,delete X[e.id],u.textureCount--}return t(K.prototype,{bind:function(){this.bindCount+=1;var e=this.unit;if(e<0){for(var t=0;t<$;++t){var r=Q[t];if(r){if(r.bindCount>0)continue;r.unit=-1}Q[t]=this,e=t;break}e>=$&&R.raise("insufficient number of texture units"),s.profile&&u.maxTextureUnits<e+1&&(u.maxTextureUnits=e+1),this.unit=e,n.activeTexture(Gt+e),n.bindTexture(this.target,this.texture)}return e},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&te(this)}}),s.profile&&(u.getTotalTextureSize=function(){var e=0;return Object.keys(X).forEach(function(t){e+=X[t].stats.size}),e}),{create2D:function(e,t){var r=new K(Be);function a(e,t){var n=r.texInfo;G.call(n);var o=V();return"number"==typeof e?F(o,0|e,"number"==typeof t?0|t:0|e):e?(R.type(e,"object","invalid arguments to regl.texture"),q(n,e),B(o,e)):F(o,1,1),n.genMipmaps&&(o.mipmask=(o.width<<1)-1),r.mipmask=o.mipmask,M(r,o),R.texture2D(n,o,i),r.internalformat=o.internalformat,a.width=o.width,a.height=o.height,J(r),U(o,Be),W(n,Be),Z(),H(o),s.profile&&(r.stats.size=dn(r.internalformat,r.type,o.width,o.height,n.genMipmaps,!1)),a.format=b[r.internalformat],a.type=_[r.type],a.mag=w[n.magFilter],a.min=x[n.minFilter],a.wrapS=T[n.wrapS],a.wrapT=T[n.wrapT],a}return X[r.id]=r,u.textureCount++,a(e,t),a.subimage=function(e,t,n,i){R(!!e,"must specify image data");var o=0|t,u=0|n,s=0|i,l=D();return M(l,r),l.width=0,l.height=0,O(l,e),l.width=l.width||(r.width>>s)-o,l.height=l.height||(r.height>>s)-u,R(r.type===l.type&&r.format===l.format&&r.internalformat===l.internalformat,"incompatible format for texture.subimage"),R(o>=0&&u>=0&&o+l.width<=r.width&&u+l.height<=r.height,"texture.subimage write out of bounds"),R(r.mipmask&1<<s,"missing mipmap data"),R(l.data||l.element||l.needsCopy,"missing image data"),J(r),P(l,Be,o,u,s),Z(),j(l),a},a.resize=function(e,t){var i,o=0|e,u=0|t||o;if(o===r.width&&u===r.height)return a;a.width=r.width=o,a.height=r.height=u,J(r);for(var l=r.channels,c=r.type,f=0;r.mipmask>>f;++f){var d=o>>f,p=u>>f;if(!d||!p)break;i=ee.zero.allocType(c,d*p*l),n.texImage2D(Be,f,r.format,d,p,0,r.format,r.type,i),i&&ee.zero.freeType(i)}return Z(),s.profile&&(r.stats.size=dn(r.internalformat,r.type,o,u,!1,!1)),a},a._reglType="texture2d",a._texture=r,s.profile&&(a.stats=r.stats),a.destroy=function(){r.decRef()},a},createCube:function(e,t,r,a,o,l){var c=new K(Ue);X[c.id]=c,u.cubeCount++;var f=new Array(6);function d(e,t,n,r,a,o){var u,l=c.texInfo;for(G.call(l),u=0;u<6;++u)f[u]=V();if("number"!=typeof e&&e)if("object"==typeof e)if(t)B(f[0],e),B(f[1],t),B(f[2],n),B(f[3],r),B(f[4],a),B(f[5],o);else if(q(l,e),A(c,e),"faces"in e){var p=e.faces;for(R(Array.isArray(p)&&6===p.length,"cube faces must be a length 6 array"),u=0;u<6;++u)R("object"==typeof p[u]&&!!p[u],"invalid input for cube map face"),M(f[u],c),B(f[u],p[u])}else for(u=0;u<6;++u)B(f[u],e);else R.raise("invalid arguments to cube map");else{var h=0|e||1;for(u=0;u<6;++u)F(f[u],h,h)}for(M(c,f[0]),i.npotTextureCube||R(Le(c.width)&&Le(c.height),"your browser does not support non power or two texture dimensions"),l.genMipmaps?c.mipmask=(f[0].width<<1)-1:c.mipmask=f[0].mipmask,R.textureCube(c,l,f,i),c.internalformat=f[0].internalformat,d.width=f[0].width,d.height=f[0].height,J(c),u=0;u<6;++u)U(f[u],ze+u);for(W(l,Ue),Z(),s.profile&&(c.stats.size=dn(c.internalformat,c.type,d.width,d.height,l.genMipmaps,!0)),d.format=b[c.internalformat],d.type=_[c.type],d.mag=w[l.magFilter],d.min=x[l.minFilter],d.wrapS=T[l.wrapS],d.wrapT=T[l.wrapT],u=0;u<6;++u)H(f[u]);return d}return d(e,t,r,a,o,l),d.subimage=function(e,t,n,r,i){R(!!t,"must specify image data"),R("number"==typeof e&&e===(0|e)&&e>=0&&e<6,"invalid face");var a=0|n,o=0|r,u=0|i,s=D();return M(s,c),s.width=0,s.height=0,O(s,t),s.width=s.width||(c.width>>u)-a,s.height=s.height||(c.height>>u)-o,R(c.type===s.type&&c.format===s.format&&c.internalformat===s.internalformat,"incompatible format for texture.subimage"),R(a>=0&&o>=0&&a+s.width<=c.width&&o+s.height<=c.height,"texture.subimage write out of bounds"),R(c.mipmask&1<<u,"missing mipmap data"),R(s.data||s.element||s.needsCopy,"missing image data"),J(c),P(s,ze+e,a,o,u),Z(),j(s),d},d.resize=function(e){var t=0|e;if(t!==c.width){d.width=c.width=t,d.height=c.height=t,J(c);for(var r=0;r<6;++r)for(var i=0;c.mipmask>>i;++i)n.texImage2D(ze+r,i,c.format,t>>i,t>>i,0,c.format,c.type,null);return Z(),s.profile&&(c.stats.size=dn(c.internalformat,c.type,d.width,d.height,!1,!0)),d}},d._reglType="textureCube",d._texture=c,s.profile&&(d.stats=c.stats),d.destroy=function(){c.decRef()},d},clear:function(){for(var e=0;e<$;++e)n.activeTexture(Gt+e),n.bindTexture(Be,null),Q[e]=null;re(X).forEach(te),u.cubeCount=0,u.textureCount=0},getTexture:function(e){return null},restore:function(){for(var e=0;e<$;++e){var t=Q[e];t&&(t.bindCount=0,t.unit=-1,Q[e]=null)}re(X).forEach(function(e){e.texture=n.createTexture(),n.bindTexture(e.target,e.texture);for(var t=0;t<32;++t)if(0!=(e.mipmask&1<<t))if(e.target===Be)n.texImage2D(Be,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);else for(var r=0;r<6;++r)n.texImage2D(ze+r,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);W(e.texInfo,e.target)})}}}nn[Ye]=2,nn[Xe]=2,nn[$e]=2,nn[tt]=4,nn[at]=.5,nn[ot]=.5,nn[ut]=1,nn[st]=1,nn[lt]=.5,nn[ct]=1,nn[ft]=1,nn[dt]=.5,nn[pt]=.25,nn[ht]=.5,nn[mt]=.25,nn[vt]=.5;var hn=36161,mn=32854,vn=[];function gn(e,t,n){return vn[e]*t*n}vn[mn]=2,vn[32855]=2,vn[36194]=2,vn[33189]=2,vn[36168]=1,vn[34041]=4,vn[35907]=4,vn[34836]=16,vn[34842]=8,vn[34843]=6;var yn=function(e,t,n,r,i){var a={rgba4:mn,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};t.ext_srgb&&(a.srgba=35907),t.ext_color_buffer_half_float&&(a.rgba16f=34842,a.rgb16f=34843),t.webgl_color_buffer_float&&(a.rgba32f=34836);var o=[];Object.keys(a).forEach(function(e){var t=a[e];o[t]=e});var u=0,s={};function l(e){this.id=u++,this.refCount=1,this.renderbuffer=e,this.format=mn,this.width=0,this.height=0,i.profile&&(this.stats={size:0})}function c(t){var n=t.renderbuffer;R(n,"must not double destroy renderbuffer"),e.bindRenderbuffer(hn,null),e.deleteRenderbuffer(n),t.renderbuffer=null,t.refCount=0,delete s[t.id],r.renderbufferCount--}return l.prototype.decRef=function(){--this.refCount<=0&&c(this)},i.profile&&(r.getTotalRenderbufferSize=function(){var e=0;return Object.keys(s).forEach(function(t){e+=s[t].stats.size}),e}),{create:function(t,u){var c=new l(e.createRenderbuffer());function f(t,r){var u=0,s=0,l=mn;if("object"==typeof t&&t){var d=t;if("shape"in d){var p=d.shape;R(Array.isArray(p)&&p.length>=2,"invalid renderbuffer shape"),u=0|p[0],s=0|p[1]}else"radius"in d&&(u=s=0|d.radius),"width"in d&&(u=0|d.width),"height"in d&&(s=0|d.height);"format"in d&&(R.parameter(d.format,a,"invalid renderbuffer format"),l=a[d.format])}else"number"==typeof t?(u=0|t,s="number"==typeof r?0|r:u):t?R.raise("invalid arguments to renderbuffer constructor"):u=s=1;if(R(u>0&&s>0&&u<=n.maxRenderbufferSize&&s<=n.maxRenderbufferSize,"invalid renderbuffer size"),u!==c.width||s!==c.height||l!==c.format)return f.width=c.width=u,f.height=c.height=s,c.format=l,e.bindRenderbuffer(hn,c.renderbuffer),e.renderbufferStorage(hn,l,u,s),R(0===e.getError(),"invalid render buffer format"),i.profile&&(c.stats.size=gn(c.format,c.width,c.height)),f.format=o[c.format],f}return s[c.id]=c,r.renderbufferCount++,f(t,u),f.resize=function(t,r){var a=0|t,o=0|r||a;return a===c.width&&o===c.height?f:(R(a>0&&o>0&&a<=n.maxRenderbufferSize&&o<=n.maxRenderbufferSize,"invalid renderbuffer size"),f.width=c.width=a,f.height=c.height=o,e.bindRenderbuffer(hn,c.renderbuffer),e.renderbufferStorage(hn,c.format,a,o),R(0===e.getError(),"invalid render buffer format"),i.profile&&(c.stats.size=gn(c.format,c.width,c.height)),f)},f._reglType="renderbuffer",f._renderbuffer=c,i.profile&&(f.stats=c.stats),f.destroy=function(){c.decRef()},f},clear:function(){re(s).forEach(c)},restore:function(){re(s).forEach(function(t){t.renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(hn,t.renderbuffer),e.renderbufferStorage(hn,t.format,t.width,t.height)}),e.bindRenderbuffer(hn,null)}}},bn=36160,_n=36161,wn=3553,xn=34069,Tn=36064,En=36096,Sn=36128,Mn=33306,An=36053,Cn=6402,kn=[6407,6408],On=[];On[6408]=4,On[6407]=3;var Nn=[];Nn[5121]=1,Nn[5126]=4,Nn[36193]=2;var Rn=33189,Pn=36168,In=34041,Dn=[32854,32855,36194,35907,34842,34843,34836],jn={};jn[An]="complete",jn[36054]="incomplete attachment",jn[36057]="incomplete dimensions",jn[36055]="incomplete, missing attachment",jn[36061]="unsupported";var Ln=5126;function Fn(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=Ln,this.offset=0,this.stride=0,this.divisor=0}var Bn=35632,Un=35633,zn=35718,Vn=35721,Hn=6408,Gn=5121,qn=3333,Wn=5126;function Yn(t,n,r,i,a,o,u){function s(s){var l;null===n.next?(R(a.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),l=Gn):(R(null!==n.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),l=n.next.colorAttachments[0].texture._texture.type,o.oes_texture_float?(R(l===Gn||l===Wn,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),l===Wn&&R(u.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):R(l===Gn,"Reading from a framebuffer is only allowed for the type 'uint8'"));var c=0,f=0,d=i.framebufferWidth,p=i.framebufferHeight,h=null;e(s)?h=s:s&&(R.type(s,"object","invalid arguments to regl.read()"),c=0|s.x,f=0|s.y,R(c>=0&&c<i.framebufferWidth,"invalid x offset for regl.read"),R(f>=0&&f<i.framebufferHeight,"invalid y offset for regl.read"),d=0|(s.width||i.framebufferWidth-c),p=0|(s.height||i.framebufferHeight-f),h=s.data||null),h&&(l===Gn?R(h instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):l===Wn&&R(h instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),R(d>0&&d+c<=i.framebufferWidth,"invalid width for read pixels"),R(p>0&&p+f<=i.framebufferHeight,"invalid height for read pixels"),r();var m=d*p*4;return h||(l===Gn?h=new Uint8Array(m):l===Wn&&(h=h||new Float32Array(m))),R.isTypedArray(h,"data buffer for regl.read() must be a typedarray"),R(h.byteLength>=m,"data buffer for regl.read() too small"),t.pixelStorei(qn,4),t.readPixels(c,f,d,p,Hn,l,h),h}return function(e){return e&&"framebuffer"in e?function(e){var t;return n.setFBO({framebuffer:e.framebuffer},function(){t=s(e)}),t}(e):s(e)}}function Xn(e){return Array.prototype.slice.call(e)}function $n(e){return Xn(e).join("")}var Qn="xyzw".split(""),Kn=5121,Jn=1,Zn=2,er=0,tr=1,nr=2,rr=3,ir=4,ar="dither",or="blend.enable",ur="blend.color",sr="blend.equation",lr="blend.func",cr="depth.enable",fr="depth.func",dr="depth.range",pr="depth.mask",hr="colorMask",mr="cull.enable",vr="cull.face",gr="frontFace",yr="lineWidth",br="polygonOffset.enable",_r="polygonOffset.offset",wr="sample.alpha",xr="sample.enable",Tr="sample.coverage",Er="stencil.enable",Sr="stencil.mask",Mr="stencil.func",Ar="stencil.opFront",Cr="stencil.opBack",kr="scissor.enable",Or="scissor.box",Nr="viewport",Rr="profile",Pr="framebuffer",Ir="vert",Dr="frag",jr="elements",Lr="primitive",Fr="count",Br="offset",Ur="instances",zr=Pr+"Width",Vr=Pr+"Height",Hr=Nr+"Width",Gr=Nr+"Height",qr="drawingBufferWidth",Wr="drawingBufferHeight",Yr=[lr,sr,Mr,Ar,Cr,Tr,Nr,Or,_r],Xr=34962,$r=34963,Qr=3553,Kr=34067,Jr=2884,Zr=3042,ei=3024,ti=2960,ni=2929,ri=3089,ii=32823,ai=32926,oi=32928,ui=5126,si=35664,li=35665,ci=35666,fi=5124,di=35667,pi=35668,hi=35669,mi=35670,vi=35671,gi=35672,yi=35673,bi=35674,_i=35675,wi=35676,xi=35678,Ti=35680,Ei=4,Si=1028,Mi=1029,Ai=2304,Ci=2305,ki=32775,Oi=32776,Ni=519,Ri=7680,Pi=0,Ii=1,Di=32774,ji=513,Li=36160,Fi=36064,Bi={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Ui=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],zi={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Vi={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Hi={frag:35632,vert:35633},Gi={cw:Ai,ccw:Ci};function qi(t){return Array.isArray(t)||e(t)||ne(t)}function Wi(e){return e.sort(function(e,t){return e===Nr?-1:t===Nr?1:e<t?-1:1})}function Yi(e,t,n,r){this.thisDep=e,this.contextDep=t,this.propDep=n,this.append=r}function Xi(e){return e&&!(e.thisDep||e.contextDep||e.propDep)}function $i(e){return new Yi(!1,!1,!1,e)}function Qi(e,t){var n=e.type;if(n===er){var r=e.data.length;return new Yi(!0,r>=1,r>=2,t)}if(n===ir){var i=e.data;return new Yi(i.thisDep,i.contextDep,i.propDep,t)}return new Yi(n===rr,n===nr,n===tr,t)}var Ki=new Yi(!1,!1,!1,function(){});function Ji(e,n,r,i,a,o,u,s,l,c,f,d,p,h,m){var v=c.Record,g={add:32774,subtract:32778,"reverse subtract":32779};r.ext_blend_minmax&&(g.min=ki,g.max=Oi);var y=r.angle_instanced_arrays,b=r.webgl_draw_buffers,_={dirty:!0,profile:m.profile},w={},x=[],T={},E={};function S(e){return e.replace(".","_")}function M(e,t,n){var r=S(e);x.push(e),w[r]=_[r]=!!n,T[r]=t}function A(e,t,n){var r=S(e);x.push(e),Array.isArray(n)?(_[r]=n.slice(),w[r]=n.slice()):_[r]=w[r]=n,E[r]=t}M(ar,ei),M(or,Zr),A(ur,"blendColor",[0,0,0,0]),A(sr,"blendEquationSeparate",[Di,Di]),A(lr,"blendFuncSeparate",[Ii,Pi,Ii,Pi]),M(cr,ni,!0),A(fr,"depthFunc",ji),A(dr,"depthRange",[0,1]),A(pr,"depthMask",!0),A(hr,hr,[!0,!0,!0,!0]),M(mr,Jr),A(vr,"cullFace",Mi),A(gr,gr,Ci),A(yr,yr,1),M(br,ii),A(_r,"polygonOffset",[0,0]),M(wr,ai),M(xr,oi),A(Tr,"sampleCoverage",[1,!1]),M(Er,ti),A(Sr,"stencilMask",-1),A(Mr,"stencilFunc",[Ni,0,-1]),A(Ar,"stencilOpSeparate",[Si,Ri,Ri,Ri]),A(Cr,"stencilOpSeparate",[Mi,Ri,Ri,Ri]),M(kr,ri),A(Or,"scissor",[0,0,e.drawingBufferWidth,e.drawingBufferHeight]),A(Nr,Nr,[0,0,e.drawingBufferWidth,e.drawingBufferHeight]);var C={gl:e,context:p,strings:n,next:w,current:_,draw:d,elements:o,buffer:a,shader:f,attributes:c.state,uniforms:l,framebuffer:s,extensions:r,timer:h,isBufferArgs:qi},k={primTypes:be,compareFuncs:zi,blendFuncs:Bi,blendEquations:g,stencilOps:Vi,glTypes:ue,orientationType:Gi};R.optional(function(){C.isArrayLike=je}),b&&(k.backBuffer=[Mi],k.drawBuffer=G(i.maxDrawbuffers,function(e){return 0===e?[0]:G(e,function(e){return Fi+e})}));var O=0;function N(){var e=function(){var e=0,n=[],r=[];function i(){var n=[],r=[];return t(function(){n.push.apply(n,Xn(arguments))},{def:function(){var t="v"+e++;return r.push(t),arguments.length>0&&(n.push(t,"="),n.push.apply(n,Xn(arguments)),n.push(";")),t},toString:function(){return $n([r.length>0?"var "+r+";":"",$n(n)])}})}function a(){var e=i(),n=i(),r=e.toString,a=n.toString;function o(t,r){n(t,r,"=",e.def(t,r),";")}return t(function(){e.apply(e,Xn(arguments))},{def:e.def,entry:e,exit:n,save:o,set:function(t,n,r){o(t,n),e(t,n,"=",r,";")},toString:function(){return r()+a()}})}var o=i(),u={};return{global:o,link:function(t){for(var i=0;i<r.length;++i)if(r[i]===t)return n[i];var a="g"+e++;return n.push(a),r.push(t),a},block:i,proc:function(e,n){var r=[];function i(){var e="a"+r.length;return r.push(e),e}n=n||0;for(var o=0;o<n;++o)i();var s=a(),l=s.toString;return u[e]=t(s,{arg:i,toString:function(){return $n(["function(",r.join(),"){",l(),"}"])}})},scope:a,cond:function(){var e=$n(arguments),n=a(),r=a(),i=n.toString,o=r.toString;return t(n,{then:function(){return n.apply(n,Xn(arguments)),this},else:function(){return r.apply(r,Xn(arguments)),this},toString:function(){var t=o();return t&&(t="else{"+t+"}"),$n(["if(",e,"){",i(),"}",t])}})},compile:function(){var e=['"use strict";',o,"return {"];Object.keys(u).forEach(function(t){e.push('"',t,'":',u[t].toString(),",")}),e.push("}");var t=$n(e).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,n.concat(t)).apply(null,r)}}}(),r=e.link,i=e.global;e.id=O++,e.batchId="0";var a=r(C),o=e.shared={props:"a0"};Object.keys(C).forEach(function(e){o[e]=i.def(a,".",e)}),R.optional(function(){e.CHECK=r(R),e.commandStr=R.guessCommand(),e.command=r(e.commandStr),e.assert=function(e,t,n){e("if(!(",t,"))",this.CHECK,".commandRaise(",r(n),",",this.command,");")},k.invalidBlendCombinations=Ui});var u=e.next={},s=e.current={};Object.keys(E).forEach(function(e){Array.isArray(_[e])&&(u[e]=i.def(o.next,".",e),s[e]=i.def(o.current,".",e))});var l=e.constants={};Object.keys(k).forEach(function(e){l[e]=i.def(JSON.stringify(k[e]))}),e.invoke=function(t,n){switch(n.type){case er:var i=["this",o.context,o.props,e.batchId];return t.def(r(n.data),".call(",i.slice(0,Math.max(n.data.length+1,4)),")");case tr:return t.def(o.props,n.data);case nr:return t.def(o.context,n.data);case rr:return t.def("this",n.data);case ir:return n.data.append(e,t),n.data.ref}},e.attribCache={};var f={};return e.scopeAttrib=function(e){var t=n.id(e);if(t in f)return f[t];var i=c.scope[t];i||(i=c.scope[t]=new v);var a=f[t]=r(i);return a},e}function P(e,t,r,u,l){var c=e.static,d=e.dynamic;R.optional(function(){var e=[Pr,Ir,Dr,jr,Lr,Br,Fr,Ur,Rr].concat(x);function t(t){Object.keys(t).forEach(function(t){R.command(e.indexOf(t)>=0,'unknown parameter "'+t+'"',l.commandStr)})}t(c),t(d)});var p=function(e,t){var n=e.static,r=e.dynamic;if(Pr in n){var i=n[Pr];return i?(i=s.getFramebuffer(i),R.command(i,"invalid framebuffer object"),$i(function(e,t){var n=e.link(i),r=e.shared;t.set(r.framebuffer,".next",n);var a=r.context;return t.set(a,"."+zr,n+".width"),t.set(a,"."+Vr,n+".height"),n})):$i(function(e,t){var n=e.shared;t.set(n.framebuffer,".next","null");var r=n.context;return t.set(r,"."+zr,r+"."+qr),t.set(r,"."+Vr,r+"."+Wr),"null"})}if(Pr in r){var a=r[Pr];return Qi(a,function(e,t){var n=e.invoke(t,a),r=e.shared,i=r.framebuffer,o=t.def(i,".getFramebuffer(",n,")");R.optional(function(){e.assert(t,"!"+n+"||"+o,"invalid framebuffer object")}),t.set(i,".next",o);var u=r.context;return t.set(u,"."+zr,o+"?"+o+".width:"+u+"."+qr),t.set(u,"."+Vr,o+"?"+o+".height:"+u+"."+Wr),o})}return null}(e),h=function(e,t,n){var r=e.static,i=e.dynamic;function a(e){if(e in r){var a=r[e];R.commandType(a,"object","invalid "+e,n.commandStr);var o,u,s=!0,l=0|a.x,c=0|a.y;return"width"in a?(o=0|a.width,R.command(o>=0,"invalid "+e,n.commandStr)):s=!1,"height"in a?(u=0|a.height,R.command(u>=0,"invalid "+e,n.commandStr)):s=!1,new Yi(!s&&t&&t.thisDep,!s&&t&&t.contextDep,!s&&t&&t.propDep,function(e,t){var n=e.shared.context,r=o;"width"in a||(r=t.def(n,".",zr,"-",l));var i=u;return"height"in a||(i=t.def(n,".",Vr,"-",c)),[l,c,r,i]})}if(e in i){var f=i[e],d=Qi(f,function(t,n){var r=t.invoke(n,f);R.optional(function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)});var i=t.shared.context,a=n.def(r,".x|0"),o=n.def(r,".y|0"),u=n.def('"width" in ',r,"?",r,".width|0:","(",i,".",zr,"-",a,")"),s=n.def('"height" in ',r,"?",r,".height|0:","(",i,".",Vr,"-",o,")");return R.optional(function(){t.assert(n,u+">=0&&"+s+">=0","invalid "+e)}),[a,o,u,s]});return t&&(d.thisDep=d.thisDep||t.thisDep,d.contextDep=d.contextDep||t.contextDep,d.propDep=d.propDep||t.propDep),d}return t?new Yi(t.thisDep,t.contextDep,t.propDep,function(e,t){var n=e.shared.context;return[0,0,t.def(n,".",zr),t.def(n,".",Vr)]}):null}var o=a(Nr);if(o){var u=o;o=new Yi(o.thisDep,o.contextDep,o.propDep,function(e,t){var n=u.append(e,t),r=e.shared.context;return t.set(r,"."+Hr,n[2]),t.set(r,"."+Gr,n[3]),n})}return{viewport:o,scissor_box:a(Or)}}(e,p,l),m=function(e,t){var n=e.static,r=e.dynamic,i=function(){if(jr in n){var e=n[jr];qi(e)?e=o.getElements(o.create(e,!0)):e&&(e=o.getElements(e),R.command(e,"invalid elements",t.commandStr));var i=$i(function(t,n){if(e){var r=t.link(e);return t.ELEMENTS=r,r}return t.ELEMENTS=null,null});return i.value=e,i}if(jr in r){var a=r[jr];return Qi(a,function(e,t){var n=e.shared,r=n.isBufferArgs,i=n.elements,o=e.invoke(t,a),u=t.def("null"),s=t.def(r,"(",o,")"),l=e.cond(s).then(u,"=",i,".createStream(",o,");").else(u,"=",i,".getElements(",o,");");return R.optional(function(){e.assert(l.else,"!"+o+"||"+u,"invalid elements")}),t.entry(l),t.exit(e.cond(s).then(i,".destroyStream(",u,");")),e.ELEMENTS=u,u})}return null}();function a(e,a){if(e in n){var o=0|n[e];return R.command(!a||o>=0,"invalid "+e,t.commandStr),$i(function(e,t){return a&&(e.OFFSET=o),o})}if(e in r){var u=r[e];return Qi(u,function(t,n){var r=t.invoke(n,u);return a&&(t.OFFSET=r,R.optional(function(){t.assert(n,r+">=0","invalid "+e)})),r})}return a&&i?$i(function(e,t){return e.OFFSET="0",0}):null}var u=a(Br,!0);return{elements:i,primitive:function(){if(Lr in n){var e=n[Lr];return R.commandParameter(e,be,"invalid primitve",t.commandStr),$i(function(t,n){return be[e]})}if(Lr in r){var a=r[Lr];return Qi(a,function(e,t){var n=e.constants.primTypes,r=e.invoke(t,a);return R.optional(function(){e.assert(t,r+" in "+n,"invalid primitive, must be one of "+Object.keys(be))}),t.def(n,"[",r,"]")})}return i?Xi(i)?i.value?$i(function(e,t){return t.def(e.ELEMENTS,".primType")}):$i(function(){return Ei}):new Yi(i.thisDep,i.contextDep,i.propDep,function(e,t){var n=e.ELEMENTS;return t.def(n,"?",n,".primType:",Ei)}):null}(),count:function(){if(Fr in n){var e=0|n[Fr];return R.command("number"==typeof e&&e>=0,"invalid vertex count",t.commandStr),$i(function(){return e})}if(Fr in r){var a=r[Fr];return Qi(a,function(e,t){var n=e.invoke(t,a);return R.optional(function(){e.assert(t,"typeof "+n+'==="number"&&'+n+">=0&&"+n+"===("+n+"|0)","invalid vertex count")}),n})}if(i){if(Xi(i)){if(i)return u?new Yi(u.thisDep,u.contextDep,u.propDep,function(e,t){var n=t.def(e.ELEMENTS,".vertCount-",e.OFFSET);return R.optional(function(){e.assert(t,n+">=0","invalid vertex offset/element buffer too small")}),n}):$i(function(e,t){return t.def(e.ELEMENTS,".vertCount")});var o=$i(function(){return-1});return R.optional(function(){o.MISSING=!0}),o}var s=new Yi(i.thisDep||u.thisDep,i.contextDep||u.contextDep,i.propDep||u.propDep,function(e,t){var n=e.ELEMENTS;return e.OFFSET?t.def(n,"?",n,".vertCount-",e.OFFSET,":-1"):t.def(n,"?",n,".vertCount:-1")});return R.optional(function(){s.DYNAMIC=!0}),s}return null}(),instances:a(Ur,!1),offset:u}}(e,l),b=function(e,t){var n=e.static,r=e.dynamic,a={};return x.forEach(function(e){var o=S(e);function u(t,i){if(e in n){var u=t(n[e]);a[o]=$i(function(){return u})}else if(e in r){var s=r[e];a[o]=Qi(s,function(e,t){return i(e,t,e.invoke(t,s))})}}switch(e){case mr:case or:case ar:case Er:case cr:case kr:case br:case wr:case xr:case pr:return u(function(n){return R.commandType(n,"boolean",e,t.commandStr),n},function(t,n,r){return R.optional(function(){t.assert(n,"typeof "+r+'==="boolean"',"invalid flag "+e,t.commandStr)}),r});case fr:return u(function(n){return R.commandParameter(n,zi,"invalid "+e,t.commandStr),zi[n]},function(t,n,r){var i=t.constants.compareFuncs;return R.optional(function(){t.assert(n,r+" in "+i,"invalid "+e+", must be one of "+Object.keys(zi))}),n.def(i,"[",r,"]")});case dr:return u(function(e){return R.command(je(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]&&e[0]<=e[1],"depth range is 2d array",t.commandStr),e},function(e,t,n){return R.optional(function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===2&&typeof "+n+'[0]==="number"&&typeof '+n+'[1]==="number"&&'+n+"[0]<="+n+"[1]","depth range must be a 2d array")}),[t.def("+",n,"[0]"),t.def("+",n,"[1]")]});case lr:return u(function(e){R.commandType(e,"object","blend.func",t.commandStr);var n="srcRGB"in e?e.srcRGB:e.src,r="srcAlpha"in e?e.srcAlpha:e.src,i="dstRGB"in e?e.dstRGB:e.dst,a="dstAlpha"in e?e.dstAlpha:e.dst;return R.commandParameter(n,Bi,o+".srcRGB",t.commandStr),R.commandParameter(r,Bi,o+".srcAlpha",t.commandStr),R.commandParameter(i,Bi,o+".dstRGB",t.commandStr),R.commandParameter(a,Bi,o+".dstAlpha",t.commandStr),R.command(-1===Ui.indexOf(n+", "+i),"unallowed blending combination (srcRGB, dstRGB) = ("+n+", "+i+")",t.commandStr),[Bi[n],Bi[i],Bi[r],Bi[a]]},function(t,n,r){var i=t.constants.blendFuncs;function a(a,o){var u=n.def('"',a,o,'" in ',r,"?",r,".",a,o,":",r,".",a);return R.optional(function(){t.assert(n,u+" in "+i,"invalid "+e+"."+a+o+", must be one of "+Object.keys(Bi))}),u}R.optional(function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid blend func, must be an object")});var o=a("src","RGB"),u=a("dst","RGB");R.optional(function(){var e=t.constants.invalidBlendCombinations;t.assert(n,e+".indexOf("+o+'+", "+'+u+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var s=n.def(i,"[",o,"]"),l=n.def(i,"[",a("src","Alpha"),"]");return[s,n.def(i,"[",u,"]"),l,n.def(i,"[",a("dst","Alpha"),"]")]});case sr:return u(function(n){return"string"==typeof n?(R.commandParameter(n,g,"invalid "+e,t.commandStr),[g[n],g[n]]):"object"==typeof n?(R.commandParameter(n.rgb,g,e+".rgb",t.commandStr),R.commandParameter(n.alpha,g,e+".alpha",t.commandStr),[g[n.rgb],g[n.alpha]]):void R.commandRaise("invalid blend.equation",t.commandStr)},function(t,n,r){var i=t.constants.blendEquations,a=n.def(),o=n.def(),u=t.cond("typeof ",r,'==="string"');return R.optional(function(){function n(e,n,r){t.assert(e,r+" in "+i,"invalid "+n+", must be one of "+Object.keys(g))}n(u.then,e,r),t.assert(u.else,r+"&&typeof "+r+'==="object"',"invalid "+e),n(u.else,e+".rgb",r+".rgb"),n(u.else,e+".alpha",r+".alpha")}),u.then(a,"=",o,"=",i,"[",r,"];"),u.else(a,"=",i,"[",r,".rgb];",o,"=",i,"[",r,".alpha];"),n(u),[a,o]});case ur:return u(function(e){return R.command(je(e)&&4===e.length,"blend.color must be a 4d array",t.commandStr),G(4,function(t){return+e[t]})},function(e,t,n){return R.optional(function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===4","blend.color must be a 4d array")}),G(4,function(e){return t.def("+",n,"[",e,"]")})});case Sr:return u(function(e){return R.commandType(e,"number",o,t.commandStr),0|e},function(e,t,n){return R.optional(function(){e.assert(t,"typeof "+n+'==="number"',"invalid stencil.mask")}),t.def(n,"|0")});case Mr:return u(function(n){R.commandType(n,"object",o,t.commandStr);var r=n.cmp||"keep",i=n.ref||0,a="mask"in n?n.mask:-1;return R.commandParameter(r,zi,e+".cmp",t.commandStr),R.commandType(i,"number",e+".ref",t.commandStr),R.commandType(a,"number",e+".mask",t.commandStr),[zi[r],i,a]},function(e,t,n){var r=e.constants.compareFuncs;return R.optional(function(){function i(){e.assert(t,Array.prototype.join.call(arguments,""),"invalid stencil.func")}i(n+"&&typeof ",n,'==="object"'),i('!("cmp" in ',n,")||(",n,".cmp in ",r,")")}),[t.def('"cmp" in ',n,"?",r,"[",n,".cmp]",":",Ri),t.def(n,".ref|0"),t.def('"mask" in ',n,"?",n,".mask|0:-1")]});case Ar:case Cr:return u(function(n){R.commandType(n,"object",o,t.commandStr);var r=n.fail||"keep",i=n.zfail||"keep",a=n.zpass||"keep";return R.commandParameter(r,Vi,e+".fail",t.commandStr),R.commandParameter(i,Vi,e+".zfail",t.commandStr),R.commandParameter(a,Vi,e+".zpass",t.commandStr),[e===Cr?Mi:Si,Vi[r],Vi[i],Vi[a]]},function(t,n,r){var i=t.constants.stencilOps;function a(a){return R.optional(function(){t.assert(n,'!("'+a+'" in '+r+")||("+r+"."+a+" in "+i+")","invalid "+e+"."+a+", must be one of "+Object.keys(Vi))}),n.def('"',a,'" in ',r,"?",i,"[",r,".",a,"]:",Ri)}return R.optional(function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)}),[e===Cr?Mi:Si,a("fail"),a("zfail"),a("zpass")]});case _r:return u(function(e){R.commandType(e,"object",o,t.commandStr);var n=0|e.factor,r=0|e.units;return R.commandType(n,"number",o+".factor",t.commandStr),R.commandType(r,"number",o+".units",t.commandStr),[n,r]},function(t,n,r){return R.optional(function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)}),[n.def(r,".factor|0"),n.def(r,".units|0")]});case vr:return u(function(e){var n=0;return"front"===e?n=Si:"back"===e&&(n=Mi),R.command(!!n,o,t.commandStr),n},function(e,t,n){return R.optional(function(){e.assert(t,n+'==="front"||'+n+'==="back"',"invalid cull.face")}),t.def(n,'==="front"?',Si,":",Mi)});case yr:return u(function(e){return R.command("number"==typeof e&&e>=i.lineWidthDims[0]&&e<=i.lineWidthDims[1],"invalid line width, must be a positive number between "+i.lineWidthDims[0]+" and "+i.lineWidthDims[1],t.commandStr),e},function(e,t,n){return R.optional(function(){e.assert(t,"typeof "+n+'==="number"&&'+n+">="+i.lineWidthDims[0]+"&&"+n+"<="+i.lineWidthDims[1],"invalid line width")}),n});case gr:return u(function(e){return R.commandParameter(e,Gi,o,t.commandStr),Gi[e]},function(e,t,n){return R.optional(function(){e.assert(t,n+'==="cw"||'+n+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),t.def(n+'==="cw"?'+Ai+":"+Ci)});case hr:return u(function(e){return R.command(je(e)&&4===e.length,"color.mask must be length 4 array",t.commandStr),e.map(function(e){return!!e})},function(e,t,n){return R.optional(function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===4","invalid color.mask")}),G(4,function(e){return"!!"+n+"["+e+"]"})});case Tr:return u(function(e){R.command("object"==typeof e&&e,o,t.commandStr);var n="value"in e?e.value:1,r=!!e.invert;return R.command("number"==typeof n&&n>=0&&n<=1,"sample.coverage.value must be a number between 0 and 1",t.commandStr),[n,r]},function(e,t,n){return R.optional(function(){e.assert(t,n+"&&typeof "+n+'==="object"',"invalid sample.coverage")}),[t.def('"value" in ',n,"?+",n,".value:1"),t.def("!!",n,".invert")]})}}),a}(e,l),_=function(e){var t=e.static,r=e.dynamic;function i(e){if(e in t){var i=n.id(t[e]);R.optional(function(){f.shader(Hi[e],i,R.guessCommand())});var a=$i(function(){return i});return a.id=i,a}if(e in r){var o=r[e];return Qi(o,function(t,n){var r=t.invoke(n,o),i=n.def(t.shared.strings,".id(",r,")");return R.optional(function(){n(t.shared.shader,".shader(",Hi[e],",",i,",",t.command,");")}),i})}return null}var a,o=i(Dr),u=i(Ir),s=null;return Xi(o)&&Xi(u)?(s=f.program(u.id,o.id),a=$i(function(e,t){return e.link(s)})):a=new Yi(o&&o.thisDep||u&&u.thisDep,o&&o.contextDep||u&&u.contextDep,o&&o.propDep||u&&u.propDep,function(e,t){var n,r,i=e.shared.shader;n=o?o.append(e,t):t.def(i,".",Dr),r=u?u.append(e,t):t.def(i,".",Ir);var a=i+".program("+r+","+n;return R.optional(function(){a+=","+e.command}),t.def(a+")")}),{frag:o,vert:u,progVar:a,program:s}}(e);function w(e){var t=h[e];t&&(b[e]=t)}w(Nr),w(S(Or));var T=Object.keys(b).length>0,E={framebuffer:p,draw:m,shader:_,state:b,dirty:T};return E.profile=function(e){var t,n=e.static,r=e.dynamic;if(Rr in n){var i=!!n[Rr];(t=$i(function(e,t){return i})).enable=i}else if(Rr in r){var a=r[Rr];t=Qi(a,function(e,t){return e.invoke(t,a)})}return t}(e),E.uniforms=function(e,t){var n=e.static,r=e.dynamic,i={};return Object.keys(n).forEach(function(e){var r,a=n[e];if("number"==typeof a||"boolean"==typeof a)r=$i(function(){return a});else if("function"==typeof a){var o=a._reglType;"texture2d"===o||"textureCube"===o?r=$i(function(e){return e.link(a)}):"framebuffer"===o||"framebufferCube"===o?(R.command(a.color.length>0,'missing color attachment for framebuffer sent to uniform "'+e+'"',t.commandStr),r=$i(function(e){return e.link(a.color[0])})):R.commandRaise('invalid data for uniform "'+e+'"',t.commandStr)}else je(a)?r=$i(function(t){return t.global.def("[",G(a.length,function(n){return R.command("number"==typeof a[n]||"boolean"==typeof a[n],"invalid uniform "+e,t.commandStr),a[n]}),"]")}):R.commandRaise('invalid or missing data for uniform "'+e+'"',t.commandStr);r.value=a,i[e]=r}),Object.keys(r).forEach(function(e){var t=r[e];i[e]=Qi(t,function(e,n){return e.invoke(n,t)})}),i}(r,l),E.attributes=function(e,t){var r=e.static,i=e.dynamic,o={};return Object.keys(r).forEach(function(e){var i=r[e],u=n.id(e),s=new v;if(qi(i))s.state=Jn,s.buffer=a.getBuffer(a.create(i,Xr,!1,!0)),s.type=0;else{var l=a.getBuffer(i);if(l)s.state=Jn,s.buffer=l,s.type=0;else if(R.command("object"==typeof i&&i,"invalid data for attribute "+e,t.commandStr),"constant"in i){var c=i.constant;s.buffer="null",s.state=Zn,"number"==typeof c?s.x=c:(R.command(je(c)&&c.length>0&&c.length<=4,"invalid constant for attribute "+e,t.commandStr),Qn.forEach(function(e,t){t<c.length&&(s[e]=c[t])}))}else{l=qi(i.buffer)?a.getBuffer(a.create(i.buffer,Xr,!1,!0)):a.getBuffer(i.buffer),R.command(!!l,'missing buffer for attribute "'+e+'"',t.commandStr);var f=0|i.offset;R.command(f>=0,'invalid offset for attribute "'+e+'"',t.commandStr);var d=0|i.stride;R.command(d>=0&&d<256,'invalid stride for attribute "'+e+'", must be integer betweeen [0, 255]',t.commandStr);var p=0|i.size;R.command(!("size"in i)||p>0&&p<=4,'invalid size for attribute "'+e+'", must be 1,2,3,4',t.commandStr);var h=!!i.normalized,m=0;"type"in i&&(R.commandParameter(i.type,ue,"invalid type for attribute "+e,t.commandStr),m=ue[i.type]);var g=0|i.divisor;"divisor"in i&&(R.command(0===g||y,'cannot specify divisor for attribute "'+e+'", instancing not supported',t.commandStr),R.command(g>=0,'invalid divisor for attribute "'+e+'"',t.commandStr)),R.optional(function(){var n=t.commandStr,r=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(i).forEach(function(t){R.command(r.indexOf(t)>=0,'unknown parameter "'+t+'" for attribute pointer "'+e+'" (valid parameters are '+r+")",n)})}),s.buffer=l,s.state=Jn,s.size=p,s.normalized=h,s.type=m||l.dtype,s.offset=f,s.stride=d,s.divisor=g}}o[e]=$i(function(e,t){var n=e.attribCache;if(u in n)return n[u];var r={isStream:!1};return Object.keys(s).forEach(function(e){r[e]=s[e]}),s.buffer&&(r.buffer=e.link(s.buffer),r.type=r.type||r.buffer+".dtype"),n[u]=r,r})}),Object.keys(i).forEach(function(e){var t=i[e];o[e]=Qi(t,function(n,r){var i=n.invoke(r,t),a=n.shared,o=a.isBufferArgs,u=a.buffer;R.optional(function(){n.assert(r,i+"&&(typeof "+i+'==="object"||typeof '+i+'==="function")&&('+o+"("+i+")||"+u+".getBuffer("+i+")||"+u+".getBuffer("+i+".buffer)||"+o+"("+i+'.buffer)||("constant" in '+i+"&&(typeof "+i+'.constant==="number"||'+a.isArrayLike+"("+i+".constant))))",'invalid dynamic attribute "'+e+'"')});var s={isStream:r.def(!1)},l=new v;l.state=Jn,Object.keys(l).forEach(function(e){s[e]=r.def(""+l[e])});var c=s.buffer,f=s.type;function d(e){r(s[e],"=",i,".",e,"|0;")}return r("if(",o,"(",i,")){",s.isStream,"=true;",c,"=",u,".createStream(",Xr,",",i,");",f,"=",c,".dtype;","}else{",c,"=",u,".getBuffer(",i,");","if(",c,"){",f,"=",c,".dtype;",'}else if("constant" in ',i,"){",s.state,"=",Zn,";","if(typeof "+i+'.constant === "number"){',s[Qn[0]],"=",i,".constant;",Qn.slice(1).map(function(e){return s[e]}).join("="),"=0;","}else{",Qn.map(function(e,t){return s[e]+"="+i+".constant.length>"+t+"?"+i+".constant["+t+"]:0;"}).join(""),"}}else{","if(",o,"(",i,".buffer)){",c,"=",u,".createStream(",Xr,",",i,".buffer);","}else{",c,"=",u,".getBuffer(",i,".buffer);","}",f,'="type" in ',i,"?",a.glTypes,"[",i,".type]:",c,".dtype;",s.normalized,"=!!",i,".normalized;"),d("size"),d("offset"),d("stride"),d("divisor"),r("}}"),r.exit("if(",s.isStream,"){",u,".destroyStream(",c,");","}"),s})}),o}(t,l),E.context=function(e){var t=e.static,n=e.dynamic,r={};return Object.keys(t).forEach(function(e){var n=t[e];r[e]=$i(function(e,t){return"number"==typeof n||"boolean"==typeof n?""+n:e.link(n)})}),Object.keys(n).forEach(function(e){var t=n[e];r[e]=Qi(t,function(e,n){return e.invoke(n,t)})}),r}(u),E}function I(e,t,n){var r=e.shared,i=r.context,a=e.scope();Object.keys(n).forEach(function(r){t.save(i,"."+r);var o=n[r];a(i,".",r,"=",o.append(e,t),";")}),t(a)}function D(e,t,n,r){var i,a=e.shared,o=a.gl,u=a.framebuffer;b&&(i=t.def(a.extensions,".webgl_draw_buffers"));var s,l=e.constants,c=l.drawBuffer,f=l.backBuffer;s=n?n.append(e,t):t.def(u,".next"),r||t("if(",s,"!==",u,".cur){"),t("if(",s,"){",o,".bindFramebuffer(",Li,",",s,".framebuffer);"),b&&t(i,".drawBuffersWEBGL(",c,"[",s,".colorAttachments.length]);"),t("}else{",o,".bindFramebuffer(",Li,",null);"),b&&t(i,".drawBuffersWEBGL(",f,");"),t("}",u,".cur=",s,";"),r||t("}")}function j(e,t,n){var r=e.shared,i=r.gl,a=e.current,o=e.next,u=r.current,s=r.next,l=e.cond(u,".dirty");x.forEach(function(t){var r,c,f=S(t);if(!(f in n.state))if(f in o){r=o[f],c=a[f];var d=G(_[f].length,function(e){return l.def(r,"[",e,"]")});l(e.cond(d.map(function(e,t){return e+"!=="+c+"["+t+"]"}).join("||")).then(i,".",E[f],"(",d,");",d.map(function(e,t){return c+"["+t+"]="+e}).join(";"),";"))}else{r=l.def(s,".",f);var p=e.cond(r,"!==",u,".",f);l(p),f in T?p(e.cond(r).then(i,".enable(",T[f],");").else(i,".disable(",T[f],");"),u,".",f,"=",r,";"):p(i,".",E[f],"(",r,");",u,".",f,"=",r,";")}}),0===Object.keys(n.state).length&&l(u,".dirty=false;"),t(l)}function L(e,t,n,r){var i=e.shared,a=e.current,o=i.current,u=i.gl;Wi(Object.keys(n)).forEach(function(i){var s=n[i];if(!r||r(s)){var l=s.append(e,t);if(T[i]){var c=T[i];Xi(s)?t(u,l?".enable(":".disable(",c,");"):t(e.cond(l).then(u,".enable(",c,");").else(u,".disable(",c,");")),t(o,".",i,"=",l,";")}else if(je(l)){var f=a[i];t(u,".",E[i],"(",l,");",l.map(function(e,t){return f+"["+t+"]="+e}).join(";"),";")}else t(u,".",E[i],"(",l,");",o,".",i,"=",l,";")}})}function B(e,t){y&&(e.instancing=t.def(e.shared.extensions,".angle_instanced_arrays"))}function U(e,t,n,r,i){var a,o,u,s=e.shared,l=e.stats,c=s.current,f=s.timer,d=n.profile;function p(){return"undefined"==typeof performance?"Date.now()":"performance.now()"}function m(e){a=t.def(),e(a,"=",p(),";"),"string"==typeof i?e(l,".count+=",i,";"):e(l,".count++;"),h&&(r?(o=t.def(),e(o,"=",f,".getNumPendingQueries();")):e(f,".beginQuery(",l,");"))}function v(e){e(l,".cpuTime+=",p(),"-",a,";"),h&&(r?e(f,".pushScopeStats(",o,",",f,".getNumPendingQueries(),",l,");"):e(f,".endQuery();"))}function g(e){var n=t.def(c,".profile");t(c,".profile=",e,";"),t.exit(c,".profile=",n,";")}if(d){if(Xi(d))return void(d.enable?(m(t),v(t.exit),g("true")):g("false"));g(u=d.append(e,t))}else u=t.def(c,".profile");var y=e.block();m(y),t("if(",u,"){",y,"}");var b=e.block();v(b),t.exit("if(",u,"){",b,"}")}function z(e,t,n,r,i){var a=e.shared;r.forEach(function(r){var o,u=r.name,s=n.attributes[u];if(s){if(!i(s))return;o=s.append(e,t)}else{if(!i(Ki))return;var l=e.scopeAttrib(u);R.optional(function(){e.assert(t,l+".state","missing attribute "+u)}),o={},Object.keys(new v).forEach(function(e){o[e]=t.def(l,".",e)})}!function(n,r,i){var o=a.gl,u=t.def(n,".location"),s=t.def(a.attributes,"[",u,"]"),l=i.state,c=i.buffer,f=[i.x,i.y,i.z,i.w],d=["buffer","normalized","offset","stride"];function p(){t("if(!",s,".buffer){",o,".enableVertexAttribArray(",u,");}");var n,a=i.type;if(n=i.size?t.def(i.size,"||",r):r,t("if(",s,".type!==",a,"||",s,".size!==",n,"||",d.map(function(e){return s+"."+e+"!=="+i[e]}).join("||"),"){",o,".bindBuffer(",Xr,",",c,".buffer);",o,".vertexAttribPointer(",[u,n,a,i.normalized,i.stride,i.offset],");",s,".type=",a,";",s,".size=",n,";",d.map(function(e){return s+"."+e+"="+i[e]+";"}).join(""),"}"),y){var l=i.divisor;t("if(",s,".divisor!==",l,"){",e.instancing,".vertexAttribDivisorANGLE(",[u,l],");",s,".divisor=",l,";}")}}function h(){t("if(",s,".buffer){",o,".disableVertexAttribArray(",u,");","}if(",Qn.map(function(e,t){return s+"."+e+"!=="+f[t]}).join("||"),"){",o,".vertexAttrib4f(",u,",",f,");",Qn.map(function(e,t){return s+"."+e+"="+f[t]+";"}).join(""),"}")}l===Jn?p():l===Zn?h():(t("if(",l,"===",Jn,"){"),p(),t("}else{"),h(),t("}"))}(e.link(r),function(e){switch(e){case si:case di:case vi:return 2;case li:case pi:case gi:return 3;case ci:case hi:case yi:return 4;default:return 1}}(r.info.type),o)})}function V(e,t,r,i,a){for(var o,u=e.shared,s=u.gl,l=0;l<i.length;++l){var c,f=i[l],d=f.name,p=f.info.type,h=r.uniforms[d],m=e.link(f),v=m+".location";if(h){if(!a(h))continue;if(Xi(h)){var g=h.value;if(R.command(null!=g,'missing uniform "'+d+'"',e.commandStr),p===xi||p===Ti){R.command("function"==typeof g&&(p===xi&&("texture2d"===g._reglType||"framebuffer"===g._reglType)||p===Ti&&("textureCube"===g._reglType||"framebufferCube"===g._reglType)),"invalid texture for uniform "+d,e.commandStr);var y=e.link(g._texture||g.color[0]._texture);t(s,".uniform1i(",v,",",y+".bind());"),t.exit(y,".unbind();")}else if(p===bi||p===_i||p===wi){R.optional(function(){R.command(je(g),"invalid matrix for uniform "+d,e.commandStr),R.command(p===bi&&4===g.length||p===_i&&9===g.length||p===wi&&16===g.length,"invalid length for matrix uniform "+d,e.commandStr)});var b=e.global.def("new Float32Array(["+Array.prototype.slice.call(g)+"])"),_=2;p===_i?_=3:p===wi&&(_=4),t(s,".uniformMatrix",_,"fv(",v,",false,",b,");")}else{switch(p){case ui:R.commandType(g,"number","uniform "+d,e.commandStr),o="1f";break;case si:R.command(je(g)&&2===g.length,"uniform "+d,e.commandStr),o="2f";break;case li:R.command(je(g)&&3===g.length,"uniform "+d,e.commandStr),o="3f";break;case ci:R.command(je(g)&&4===g.length,"uniform "+d,e.commandStr),o="4f";break;case mi:R.commandType(g,"boolean","uniform "+d,e.commandStr),o="1i";break;case fi:R.commandType(g,"number","uniform "+d,e.commandStr),o="1i";break;case vi:case di:R.command(je(g)&&2===g.length,"uniform "+d,e.commandStr),o="2i";break;case gi:case pi:R.command(je(g)&&3===g.length,"uniform "+d,e.commandStr),o="3i";break;case yi:case hi:R.command(je(g)&&4===g.length,"uniform "+d,e.commandStr),o="4i"}t(s,".uniform",o,"(",v,",",je(g)?Array.prototype.slice.call(g):g,");")}continue}c=h.append(e,t)}else{if(!a(Ki))continue;c=t.def(u.uniforms,"[",n.id(d),"]")}p===xi?t("if(",c,"&&",c,'._reglType==="framebuffer"){',c,"=",c,".color[0];","}"):p===Ti&&t("if(",c,"&&",c,'._reglType==="framebufferCube"){',c,"=",c,".color[0];","}"),R.optional(function(){function n(n,r){e.assert(t,n,'bad data or missing for uniform "'+d+'".  '+r)}function r(e){n("typeof "+c+'==="'+e+'"',"invalid type, expected "+e)}function i(t,r){n(u.isArrayLike+"("+c+")&&"+c+".length==="+t,"invalid vector, should have length "+t,e.commandStr)}function a(t){n("typeof "+c+'==="function"&&'+c+'._reglType==="texture'+(t===Qr?"2d":"Cube")+'"',"invalid texture type",e.commandStr)}switch(p){case fi:r("number");break;case di:i(2);break;case pi:i(3);break;case hi:i(4);break;case ui:r("number");break;case si:i(2);break;case li:i(3);break;case ci:i(4);break;case mi:r("boolean");break;case vi:i(2);break;case gi:i(3);break;case yi:case bi:i(4);break;case _i:i(9);break;case wi:i(16);break;case xi:a(Qr);break;case Ti:a(Kr)}});var w=1;switch(p){case xi:case Ti:var x=t.def(c,"._texture");t(s,".uniform1i(",v,",",x,".bind());"),t.exit(x,".unbind();");continue;case fi:case mi:o="1i";break;case di:case vi:o="2i",w=2;break;case pi:case gi:o="3i",w=3;break;case hi:case yi:o="4i",w=4;break;case ui:o="1f";break;case si:o="2f",w=2;break;case li:o="3f",w=3;break;case ci:o="4f",w=4;break;case bi:o="Matrix2fv";break;case _i:o="Matrix3fv";break;case wi:o="Matrix4fv"}if(t(s,".uniform",o,"(",v,","),"M"===o.charAt(0)){var T=Math.pow(p-bi+2,2),E=e.global.def("new Float32Array(",T,")");t("false,(Array.isArray(",c,")||",c," instanceof Float32Array)?",c,":(",G(T,function(e){return E+"["+e+"]="+c+"["+e+"]"}),",",E,")")}else t(w>1?G(w,function(e){return c+"["+e+"]"}):c);t(");")}}function H(e,t,n,r){var i=e.shared,a=i.gl,o=i.draw,u=r.draw,s=function(){var i,s=u.elements,l=t;return s?((s.contextDep&&r.contextDynamic||s.propDep)&&(l=n),i=s.append(e,l)):i=l.def(o,".",jr),i&&l("if("+i+")"+a+".bindBuffer("+$r+","+i+".buffer.buffer);"),i}();function l(i){var a=u[i];return a?a.contextDep&&r.contextDynamic||a.propDep?a.append(e,n):a.append(e,t):t.def(o,".",i)}var c,f,d=l(Lr),p=l(Br),h=function(){var i,a=u.count,s=t;return a?((a.contextDep&&r.contextDynamic||a.propDep)&&(s=n),i=a.append(e,s),R.optional(function(){a.MISSING&&e.assert(t,"false","missing vertex count"),a.DYNAMIC&&e.assert(s,i+">=0","missing vertex count")})):(i=s.def(o,".",Fr),R.optional(function(){e.assert(s,i+">=0","missing vertex count")})),i}();if("number"==typeof h){if(0===h)return}else n("if(",h,"){"),n.exit("}");y&&(c=l(Ur),f=e.instancing);var m=s+".type",v=u.elements&&Xi(u.elements);function g(){function e(){n(f,".drawElementsInstancedANGLE(",[d,h,m,p+"<<(("+m+"-"+Kn+")>>1)",c],");")}function t(){n(f,".drawArraysInstancedANGLE(",[d,p,h,c],");")}s?v?e():(n("if(",s,"){"),e(),n("}else{"),t(),n("}")):t()}function b(){function e(){n(a+".drawElements("+[d,h,m,p+"<<(("+m+"-"+Kn+")>>1)"]+");")}function t(){n(a+".drawArrays("+[d,p,h]+");")}s?v?e():(n("if(",s,"){"),e(),n("}else{"),t(),n("}")):t()}y&&("number"!=typeof c||c>=0)?"string"==typeof c?(n("if(",c,">0){"),g(),n("}else if(",c,"<0){"),b(),n("}")):g():b()}function q(e,t,n,r,i){var a=N(),o=a.proc("body",i);return R.optional(function(){a.commandStr=t.commandStr,a.command=a.link(t.commandStr)}),y&&(a.instancing=o.def(a.shared.extensions,".angle_instanced_arrays")),e(a,o,n,r),a.compile().body}function W(e,t,n,r){B(e,t),z(e,t,n,r.attributes,function(){return!0}),V(e,t,n,r.uniforms,function(){return!0}),H(e,t,t,n)}function Y(e,t,n,r){function i(){return!0}e.batchId="a1",B(e,t),z(e,t,n,r.attributes,i),V(e,t,n,r.uniforms,i),H(e,t,t,n)}function X(e,t,n,r){B(e,t);var i=n.contextDep,a=t.def(),o=t.def();e.shared.props=o,e.batchId=a;var u=e.scope(),s=e.scope();function l(e){return e.contextDep&&i||e.propDep}function c(e){return!l(e)}if(t(u.entry,"for(",a,"=0;",a,"<","a1",";++",a,"){",o,"=","a0","[",a,"];",s,"}",u.exit),n.needsContext&&I(e,s,n.context),n.needsFramebuffer&&D(e,s,n.framebuffer),L(e,s,n.state,l),n.profile&&l(n.profile)&&U(e,s,n,!1,!0),r)z(e,u,n,r.attributes,c),z(e,s,n,r.attributes,l),V(e,u,n,r.uniforms,c),V(e,s,n,r.uniforms,l),H(e,u,s,n);else{var f=e.global.def("{}"),d=n.shader.progVar.append(e,s),p=s.def(d,".id"),h=s.def(f,"[",p,"]");s(e.shared.gl,".useProgram(",d,".program);","if(!",h,"){",h,"=",f,"[",p,"]=",e.link(function(t){return q(Y,e,n,t,2)}),"(",d,");}",h,".call(this,a0[",a,"],",a,");")}}function $(e,t,n){var r=t.static[n];if(r&&function(e){if("object"==typeof e&&!je(e)){for(var t=Object.keys(e),n=0;n<t.length;++n)if(F.isDynamic(e[t[n]]))return!0;return!1}}(r)){var i=e.global,a=Object.keys(r),o=!1,u=!1,s=!1,l=e.global.def("{}");a.forEach(function(t){var n=r[t];if(F.isDynamic(n)){"function"==typeof n&&(n=r[t]=F.unbox(n));var a=Qi(n,null);o=o||a.thisDep,s=s||a.propDep,u=u||a.contextDep}else{switch(i(l,".",t,"="),typeof n){case"number":i(n);break;case"string":i('"',n,'"');break;case"object":Array.isArray(n)&&i("[",n.join(),"]");break;default:i(e.link(n))}i(";")}}),t.dynamic[n]=new F.DynamicVariable(ir,{thisDep:o,contextDep:u,propDep:s,ref:l,append:function(e,t){a.forEach(function(n){var i=r[n];if(F.isDynamic(i)){var a=e.invoke(t,i);t(l,".",n,"=",a,";")}})}}),delete t.static[n]}}return{next:w,current:_,procs:function(){var e=N(),t=e.proc("poll"),n=e.proc("refresh"),r=e.block();t(r),n(r);var a,o=e.shared,u=o.gl,s=o.next,l=o.current;r(l,".dirty=false;"),D(e,t),D(e,n,null,!0),y&&(a=e.link(y));for(var c=0;c<i.maxAttributes;++c){var f=n.def(o.attributes,"[",c,"]"),d=e.cond(f,".buffer");d.then(u,".enableVertexAttribArray(",c,");",u,".bindBuffer(",Xr,",",f,".buffer.buffer);",u,".vertexAttribPointer(",c,",",f,".size,",f,".type,",f,".normalized,",f,".stride,",f,".offset);").else(u,".disableVertexAttribArray(",c,");",u,".vertexAttrib4f(",c,",",f,".x,",f,".y,",f,".z,",f,".w);",f,".buffer=null;"),n(d),y&&n(a,".vertexAttribDivisorANGLE(",c,",",f,".divisor);")}return Object.keys(T).forEach(function(i){var a=T[i],o=r.def(s,".",i),c=e.block();c("if(",o,"){",u,".enable(",a,")}else{",u,".disable(",a,")}",l,".",i,"=",o,";"),n(c),t("if(",o,"!==",l,".",i,"){",c,"}")}),Object.keys(E).forEach(function(i){var a,o,c=E[i],f=_[i],d=e.block();if(d(u,".",c,"("),je(f)){var p=f.length;a=e.global.def(s,".",i),o=e.global.def(l,".",i),d(G(p,function(e){return a+"["+e+"]"}),");",G(p,function(e){return o+"["+e+"]="+a+"["+e+"];"}).join("")),t("if(",G(p,function(e){return a+"["+e+"]!=="+o+"["+e+"]"}).join("||"),"){",d,"}")}else a=r.def(s,".",i),o=r.def(l,".",i),d(a,");",l,".",i,"=",a,";"),t("if(",a,"!==",o,"){",d,"}");n(d)}),e.compile()}(),compile:function(e,t,r,i,a){var o=N();o.stats=o.link(a),Object.keys(t.static).forEach(function(e){$(o,t,e)}),Yr.forEach(function(t){$(o,e,t)});var u=P(e,t,r,i,o);return function(e,t){var n=e.proc("draw",1);B(e,n),I(e,n,t.context),D(e,n,t.framebuffer),j(e,n,t),L(e,n,t.state),U(e,n,t,!1,!0);var r=t.shader.progVar.append(e,n);if(n(e.shared.gl,".useProgram(",r,".program);"),t.shader.program)W(e,n,t,t.shader.program);else{var i=e.global.def("{}"),a=n.def(r,".id"),o=n.def(i,"[",a,"]");n(e.cond(o).then(o,".call(this,a0);").else(o,"=",i,"[",a,"]=",e.link(function(n){return q(W,e,t,n,1)}),"(",r,");",o,".call(this,a0);"))}Object.keys(t.state).length>0&&n(e.shared.current,".dirty=true;")}(o,u),function(e,t){var r=e.proc("scope",3);e.batchId="a2";var i=e.shared,a=i.current;function o(n){var a=t.shader[n];a&&r.set(i.shader,"."+n,a.append(e,r))}I(e,r,t.context),t.framebuffer&&t.framebuffer.append(e,r),Wi(Object.keys(t.state)).forEach(function(n){var a=t.state[n].append(e,r);je(a)?a.forEach(function(t,i){r.set(e.next[n],"["+i+"]",t)}):r.set(i.next,"."+n,a)}),U(e,r,t,!0,!0),[jr,Br,Fr,Ur,Lr].forEach(function(n){var a=t.draw[n];a&&r.set(i.draw,"."+n,""+a.append(e,r))}),Object.keys(t.uniforms).forEach(function(a){r.set(i.uniforms,"["+n.id(a)+"]",t.uniforms[a].append(e,r))}),Object.keys(t.attributes).forEach(function(n){var i=t.attributes[n].append(e,r),a=e.scopeAttrib(n);Object.keys(new v).forEach(function(e){r.set(a,"."+e,i[e])})}),o(Ir),o(Dr),Object.keys(t.state).length>0&&(r(a,".dirty=true;"),r.exit(a,".dirty=true;")),r("a1(",e.shared.context,",a0,",e.batchId,");")}(o,u),function(e,t){var n=e.proc("batch",2);e.batchId="0",B(e,n);var r=!1,i=!0;Object.keys(t.context).forEach(function(e){r=r||t.context[e].propDep}),r||(I(e,n,t.context),i=!1);var a=t.framebuffer,o=!1;function u(e){return e.contextDep&&r||e.propDep}a?(a.propDep?r=o=!0:a.contextDep&&r&&(o=!0),o||D(e,n,a)):D(e,n,null),t.state.viewport&&t.state.viewport.propDep&&(r=!0),j(e,n,t),L(e,n,t.state,function(e){return!u(e)}),t.profile&&u(t.profile)||U(e,n,t,!1,"a1"),t.contextDep=r,t.needsContext=i,t.needsFramebuffer=o;var s=t.shader.progVar;if(s.contextDep&&r||s.propDep)X(e,n,t,null);else{var l=s.append(e,n);if(n(e.shared.gl,".useProgram(",l,".program);"),t.shader.program)X(e,n,t,t.shader.program);else{var c=e.global.def("{}"),f=n.def(l,".id"),d=n.def(c,"[",f,"]");n(e.cond(d).then(d,".call(this,a0,a1);").else(d,"=",c,"[",f,"]=",e.link(function(n){return q(X,e,t,n,2)}),"(",l,");",d,".call(this,a0,a1);"))}}Object.keys(t.state).length>0&&n(e.shared.current,".dirty=true;")}(o,u),o.compile()}}}var Zi=34918,ea=34919,ta=35007,na=function(e,t){if(!t.ext_disjoint_timer_query)return null;var n=[];function r(e){n.push(e)}var i=[];function a(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var o=[];function u(e){o.push(e)}var s=[];function l(e,t,n){var r=o.pop()||new a;r.startQueryIndex=e,r.endQueryIndex=t,r.sum=0,r.stats=n,s.push(r)}var c=[],f=[];return{beginQuery:function(e){var r=n.pop()||t.ext_disjoint_timer_query.createQueryEXT();t.ext_disjoint_timer_query.beginQueryEXT(ta,r),i.push(r),l(i.length-1,i.length,e)},endQuery:function(){t.ext_disjoint_timer_query.endQueryEXT(ta)},pushScopeStats:l,update:function(){var e,n,a=i.length;if(0!==a){f.length=Math.max(f.length,a+1),c.length=Math.max(c.length,a+1),c[0]=0,f[0]=0;var o=0;for(e=0,n=0;n<i.length;++n){var l=i[n];t.ext_disjoint_timer_query.getQueryObjectEXT(l,ea)?(o+=t.ext_disjoint_timer_query.getQueryObjectEXT(l,Zi),r(l)):i[e++]=l,c[n+1]=o,f[n+1]=e}for(i.length=e,e=0,n=0;n<s.length;++n){var d=s[n],p=d.startQueryIndex,h=d.endQueryIndex;d.sum+=c[h]-c[p];var m=f[p],v=f[h];v===m?(d.stats.gpuTime+=d.sum/1e6,u(d)):(d.startQueryIndex=m,d.endQueryIndex=v,s[e++]=d)}s.length=e}},getNumPendingQueries:function(){return i.length},clear:function(){n.push.apply(n,i);for(var e=0;e<n.length;e++)t.ext_disjoint_timer_query.deleteQueryEXT(n[e]);i.length=0,n.length=0},restore:function(){i.length=0,n.length=0}}},ra=16384,ia=256,aa=1024,oa=34962,ua="webglcontextlost",sa="webglcontextrestored",la=1,ca=2,fa=3;function da(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}return function(n){var r=H(n);if(!r)return null;var i=r.gl,a=i.getContextAttributes(),o=i.isContextLost(),u=function(e,t){var n={};function r(t){R.type(t,"string","extension name must be string");var r,i=t.toLowerCase();try{r=n[i]=e.getExtension(i)}catch(e){}return!!r}for(var i=0;i<t.extensions.length;++i){var a=t.extensions[i];if(!r(a))return t.onDestroy(),t.onDone('"'+a+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return t.optionalExtensions.forEach(r),{extensions:n,restore:function(){Object.keys(n).forEach(function(e){if(n[e]&&!r(e))throw new Error("(regl): error restoring extension "+e)})}}}(i,r);if(!u)return null;var s,l,c=(s={"":0},l=[""],{id:function(e){var t=s[e];return t||(t=s[e]=l.length,l.push(e),t)},str:function(e){return l[e]}}),f={bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},d=u.extensions,p=na(i,d),h=U(),m=i.drawingBufferWidth,v=i.drawingBufferHeight,g={tick:0,time:0,viewportWidth:m,viewportHeight:v,framebufferWidth:m,framebufferHeight:v,drawingBufferWidth:m,drawingBufferHeight:v,pixelRatio:r.pixelRatio},y=te(i,d),b=function(e,t,n,r){for(var i=n.maxAttributes,a=new Array(i),o=0;o<i;++o)a[o]=new Fn;return{Record:Fn,scope:{},state:a}}(0,0,y),_=function(t,n,r,i){var a=0,o={};function u(e){this.id=a++,this.buffer=t.createBuffer(),this.type=e,this.usage=fe,this.byteLength=0,this.dimension=1,this.dtype=pe,this.persistentData=null,r.profile&&(this.stats={size:0})}u.prototype.bind=function(){t.bindBuffer(this.type,this.buffer)},u.prototype.destroy=function(){f(this)};var s=[];function l(e,n,r){e.byteLength=n.byteLength,t.bufferData(e.type,n,r)}function c(t,n,r,i,a,o){var u,s;if(t.usage=r,Array.isArray(n)){if(t.dtype=i||he,n.length>0)if(Array.isArray(n[0])){u=ce(n);for(var c=1,f=1;f<u.length;++f)c*=u[f];t.dimension=c,s=le(n,u,t.dtype),l(t,s,r),o?t.persistentData=s:ee.freeType(s)}else if("number"==typeof n[0]){t.dimension=a;var d=ee.allocType(t.dtype,n.length);ge(d,n),l(t,d,r),o?t.persistentData=d:ee.freeType(d)}else e(n[0])?(t.dimension=n[0].length,t.dtype=i||ve(n[0])||he,s=le(n,[n.length,n[0].length],t.dtype),l(t,s,r),o?t.persistentData=s:ee.freeType(s)):R.raise("invalid buffer data")}else if(e(n))t.dtype=i||ve(n),t.dimension=a,l(t,n,r),o&&(t.persistentData=new Uint8Array(new Uint8Array(n.buffer)));else if(ne(n)){u=n.shape;var p=n.stride,h=n.offset,m=0,v=0,g=0,y=0;1===u.length?(m=u[0],v=1,g=p[0],y=0):2===u.length?(m=u[0],v=u[1],g=p[0],y=p[1]):R.raise("invalid shape"),t.dtype=i||ve(n.data)||he,t.dimension=v;var b=ee.allocType(t.dtype,m*v);ye(b,n.data,m,v,g,y,h),l(t,b,r),o?t.persistentData=b:ee.freeType(b)}else R.raise("invalid buffer data")}function f(e){n.bufferCount--;for(var r=0;r<i.state.length;++r){var a=i.state[r];a.buffer===e&&(t.disableVertexAttribArray(r),a.buffer=null)}var u=e.buffer;R(u,"buffer must not be deleted already"),t.deleteBuffer(u),e.buffer=null,delete o[e.id]}return r.profile&&(n.getTotalBufferSize=function(){var e=0;return Object.keys(o).forEach(function(t){e+=o[t].stats.size}),e}),{create:function(i,a,s,l){n.bufferCount++;var d=new u(a);function p(n){var i=fe,a=null,o=0,u=0,s=1;return Array.isArray(n)||e(n)||ne(n)?a=n:"number"==typeof n?o=0|n:n&&(R.type(n,"object","buffer arguments must be an object, a number or an array"),"data"in n&&(R(null===a||Array.isArray(a)||e(a)||ne(a),"invalid data for buffer"),a=n.data),"usage"in n&&(R.parameter(n.usage,se,"invalid buffer usage"),i=se[n.usage]),"type"in n&&(R.parameter(n.type,ue,"invalid buffer type"),u=ue[n.type]),"dimension"in n&&(R.type(n.dimension,"number","invalid dimension"),s=0|n.dimension),"length"in n&&(R.nni(o,"buffer length must be a nonnegative integer"),o=0|n.length)),d.bind(),a?c(d,a,i,u,s,l):(o&&t.bufferData(d.type,o,i),d.dtype=u||pe,d.usage=i,d.dimension=s,d.byteLength=o),r.profile&&(d.stats.size=d.byteLength*me[d.dtype]),p}function h(e,n){R(n+e.byteLength<=d.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+e.byteLength+" starting from offset "+n+" to a buffer of size "+d.byteLength),t.bufferSubData(d.type,n,e)}return o[d.id]=d,s||p(i),p._reglType="buffer",p._buffer=d,p.subdata=function(t,n){var r,i=0|(n||0);if(d.bind(),e(t))h(t,i);else if(Array.isArray(t)){if(t.length>0)if("number"==typeof t[0]){var a=ee.allocType(d.dtype,t.length);ge(a,t),h(a,i),ee.freeType(a)}else if(Array.isArray(t[0])||e(t[0])){r=ce(t);var o=le(t,r,d.dtype);h(o,i),ee.freeType(o)}else R.raise("invalid buffer data")}else if(ne(t)){r=t.shape;var u=t.stride,s=0,l=0,c=0,f=0;1===r.length?(s=r[0],l=1,c=u[0],f=0):2===r.length?(s=r[0],l=r[1],c=u[0],f=u[1]):R.raise("invalid shape");var m=Array.isArray(t.data)?d.dtype:ve(t.data),v=ee.allocType(m,s*l);ye(v,t.data,s,l,c,f,t.offset),h(v,i),ee.freeType(v)}else R.raise("invalid data for buffer subdata");return p},r.profile&&(p.stats=d.stats),p.destroy=function(){f(d)},p},createStream:function(e,t){var n=s.pop();return n||(n=new u(e)),n.bind(),c(n,t,de,0,1,!1),n},destroyStream:function(e){s.push(e)},clear:function(){re(o).forEach(f),s.forEach(f)},getBuffer:function(e){return e&&e._buffer instanceof u?e._buffer:null},restore:function(){re(o).forEach(function(e){e.buffer=t.createBuffer(),t.bindBuffer(e.type,e.buffer),t.bufferData(e.type,e.persistentData||e.byteLength,e.usage)})},_initBuffer:c}}(i,f,r,b),w=function(t,n,r,i){var a={},o=0,u={uint8:Ee,uint16:Me};function s(e){this.id=o++,a[this.id]=this,this.buffer=e,this.primType=xe,this.vertCount=0,this.type=0}n.oes_element_index_uint&&(u.uint32=Ce),s.prototype.bind=function(){this.buffer.bind()};var l=[];function c(i,a,o,u,s,l,c){if(i.buffer.bind(),a){var f=c;c||e(a)&&(!ne(a)||e(a.data))||(f=n.oes_element_index_uint?Ce:Me),r._initBuffer(i.buffer,a,o,f,3)}else t.bufferData(ke,l,o),i.buffer.dtype=d||Ee,i.buffer.usage=o,i.buffer.dimension=3,i.buffer.byteLength=l;var d=c;if(!c){switch(i.buffer.dtype){case Ee:case Te:d=Ee;break;case Me:case Se:d=Me;break;case Ce:case Ae:d=Ce;break;default:R.raise("unsupported type for element array")}i.buffer.dtype=d}i.type=d,R(d!==Ce||!!n.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var p=s;p<0&&(p=i.buffer.byteLength,d===Me?p>>=1:d===Ce&&(p>>=2)),i.vertCount=p;var h=u;if(u<0){h=xe;var m=i.buffer.dimension;1===m&&(h=_e),2===m&&(h=we),3===m&&(h=xe)}i.primType=h}function f(e){i.elementsCount--,R(null!==e.buffer,"must not double destroy elements"),delete a[e.id],e.buffer.destroy(),e.buffer=null}return{create:function(t,n){var a=r.create(null,ke,!0),o=new s(a._buffer);function l(t){if(t)if("number"==typeof t)a(t),o.primType=xe,o.vertCount=0|t,o.type=Ee;else{var n=null,r=Ne,i=-1,s=-1,f=0,d=0;Array.isArray(t)||e(t)||ne(t)?n=t:(R.type(t,"object","invalid arguments for elements"),"data"in t&&(n=t.data,R(Array.isArray(n)||e(n)||ne(n),"invalid data for element buffer")),"usage"in t&&(R.parameter(t.usage,se,"invalid element buffer usage"),r=se[t.usage]),"primitive"in t&&(R.parameter(t.primitive,be,"invalid element buffer primitive"),i=be[t.primitive]),"count"in t&&(R("number"==typeof t.count&&t.count>=0,"invalid vertex count for elements"),s=0|t.count),"type"in t&&(R.parameter(t.type,u,"invalid buffer type"),d=u[t.type]),"length"in t?f=0|t.length:(f=s,d===Me||d===Se?f*=2:d!==Ce&&d!==Ae||(f*=4))),c(o,n,r,i,s,f,d)}else a(),o.primType=xe,o.vertCount=0,o.type=Ee;return l}return i.elementsCount++,l(t),l._reglType="elements",l._elements=o,l.subdata=function(e,t){return a.subdata(e,t),l},l.destroy=function(){f(o)},l},createStream:function(e){var t=l.pop();return t||(t=new s(r.create(null,ke,!0,!1)._buffer)),c(t,e,Oe,-1,-1,0,0),t},destroyStream:function(e){l.push(e)},getElements:function(e){return"function"==typeof e&&e._elements instanceof s?e._elements:null},clear:function(){re(a).forEach(f)}}}(i,d,_,f),x=function(e,t,n,r){var i={},a={};function o(e,t,n,r){this.name=e,this.id=t,this.location=n,this.info=r}function u(e,t){for(var n=0;n<e.length;++n)if(e[n].id===t.id)return void(e[n].location=t.location);e.push(t)}function s(n,r,o){var u=n===Bn?i:a,s=u[r];if(!s){var l=t.str(r);s=e.createShader(n),e.shaderSource(s,l),e.compileShader(s),R.shaderError(e,s,l,n,o),u[r]=s}return s}var l={},c=[],f=0;function d(e,t){this.id=f++,this.fragId=e,this.vertId=t,this.program=null,this.uniforms=[],this.attributes=[],r.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function p(n,i){var a,l,c=s(Bn,n.fragId),f=s(Un,n.vertId),d=n.program=e.createProgram();e.attachShader(d,c),e.attachShader(d,f),e.linkProgram(d),R.linkError(e,d,t.str(n.fragId),t.str(n.vertId),i);var p=e.getProgramParameter(d,zn);r.profile&&(n.stats.uniformsCount=p);var h=n.uniforms;for(a=0;a<p;++a)if(l=e.getActiveUniform(d,a))if(l.size>1)for(var m=0;m<l.size;++m){var v=l.name.replace("[0]","["+m+"]");u(h,new o(v,t.id(v),e.getUniformLocation(d,v),l))}else u(h,new o(l.name,t.id(l.name),e.getUniformLocation(d,l.name),l));var g=e.getProgramParameter(d,Vn);r.profile&&(n.stats.attributesCount=g);var y=n.attributes;for(a=0;a<g;++a)(l=e.getActiveAttrib(d,a))&&u(y,new o(l.name,t.id(l.name),e.getAttribLocation(d,l.name),l))}return r.profile&&(n.getMaxUniformsCount=function(){var e=0;return c.forEach(function(t){t.stats.uniformsCount>e&&(e=t.stats.uniformsCount)}),e},n.getMaxAttributesCount=function(){var e=0;return c.forEach(function(t){t.stats.attributesCount>e&&(e=t.stats.attributesCount)}),e}),{clear:function(){var t=e.deleteShader.bind(e);re(i).forEach(t),i={},re(a).forEach(t),a={},c.forEach(function(t){e.deleteProgram(t.program)}),c.length=0,l={},n.shaderCount=0},program:function(e,t,r){R.command(e>=0,"missing vertex shader",r),R.command(t>=0,"missing fragment shader",r);var i=l[t];i||(i=l[t]={});var a=i[e];return a||(a=new d(t,e),n.shaderCount++,p(a,r),i[e]=a,c.push(a)),a},restore:function(){i={},a={};for(var e=0;e<c.length;++e)p(c[e])},shader:s,frag:-1,vert:-1}}(i,c,f,r),T=pn(i,d,y,function(){M.procs.poll()},g,f,r),E=yn(i,d,y,f,r),S=function(e,n,r,i,a,o){var u={cur:null,next:null,dirty:!1,setFBO:null},s=["rgba"],l=["rgba4","rgb565","rgb5 a1"];n.ext_srgb&&l.push("srgba"),n.ext_color_buffer_half_float&&l.push("rgba16f","rgb16f"),n.webgl_color_buffer_float&&l.push("rgba32f");var c=["uint8"];function f(e,t,n){this.target=e,this.texture=t,this.renderbuffer=n;var r=0,i=0;t?(r=t.width,i=t.height):n&&(r=n.width,i=n.height),this.width=r,this.height=i}function d(e){e&&(e.texture&&e.texture._texture.decRef(),e.renderbuffer&&e.renderbuffer._renderbuffer.decRef())}function p(e,t,n){if(e)if(e.texture){var r=e.texture._texture,i=Math.max(1,r.width),a=Math.max(1,r.height);R(i===t&&a===n,"inconsistent width/height for supplied texture"),r.refCount+=1}else{var o=e.renderbuffer._renderbuffer;R(o.width===t&&o.height===n,"inconsistent width/height for renderbuffer"),o.refCount+=1}}function h(t,n){n&&(n.texture?e.framebufferTexture2D(bn,t,n.target,n.texture._texture.texture,0):e.framebufferRenderbuffer(bn,t,_n,n.renderbuffer._renderbuffer.renderbuffer))}function m(e){var t=wn,n=null,r=null,i=e;"object"==typeof e&&(i=e.data,"target"in e&&(t=0|e.target)),R.type(i,"function","invalid attachment data");var a=i._reglType;return"texture2d"===a?(n=i,R(t===wn)):"textureCube"===a?(n=i,R(t>=xn&&t<xn+6,"invalid cube map target")):"renderbuffer"===a?(r=i,t=_n):R.raise("invalid regl object for attachment"),new f(t,n,r)}function v(e,t,n,r,o){if(n){var u=i.create2D({width:e,height:t,format:r,type:o});return u._texture.refCount=0,new f(wn,u,null)}var s=a.create({width:e,height:t,format:r});return s._renderbuffer.refCount=0,new f(_n,null,s)}function g(e){return e&&(e.texture||e.renderbuffer)}function y(e,t,n){e&&(e.texture?e.texture.resize(t,n):e.renderbuffer&&e.renderbuffer.resize(t,n),e.width=t,e.height=n)}n.oes_texture_half_float&&c.push("half float","float16"),n.oes_texture_float&&c.push("float","float32");var b=0,_={};function w(){this.id=b++,_[this.id]=this,this.framebuffer=e.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function x(e){e.colorAttachments.forEach(d),d(e.depthAttachment),d(e.stencilAttachment),d(e.depthStencilAttachment)}function T(t){var n=t.framebuffer;R(n,"must not double destroy framebuffer"),e.deleteFramebuffer(n),t.framebuffer=null,o.framebufferCount--,delete _[t.id]}function E(t){var n;e.bindFramebuffer(bn,t.framebuffer);var i=t.colorAttachments;for(n=0;n<i.length;++n)h(Tn+n,i[n]);for(n=i.length;n<r.maxColorAttachments;++n)e.framebufferTexture2D(bn,Tn+n,wn,null,0);e.framebufferTexture2D(bn,Mn,wn,null,0),e.framebufferTexture2D(bn,En,wn,null,0),e.framebufferTexture2D(bn,Sn,wn,null,0),h(En,t.depthAttachment),h(Sn,t.stencilAttachment),h(Mn,t.depthStencilAttachment);var a=e.checkFramebufferStatus(bn);e.isContextLost()||a===An||R.raise("framebuffer configuration not supported, status = "+jn[a]),e.bindFramebuffer(bn,u.next?u.next.framebuffer:null),u.cur=u.next,e.getError()}function S(e,i){var a=new w;function f(e,t){var i;R(u.next!==a,"can not update framebuffer which is currently in use");var o=0,d=0,h=!0,y=!0,b=null,_=!0,w="rgba",T="uint8",S=1,M=null,A=null,C=null,k=!1;if("number"==typeof e)o=0|e,d=0|t||o;else if(e){R.type(e,"object","invalid arguments for framebuffer");var O=e;if("shape"in O){var N=O.shape;R(Array.isArray(N)&&N.length>=2,"invalid shape for framebuffer"),o=N[0],d=N[1]}else"radius"in O&&(o=d=O.radius),"width"in O&&(o=O.width),"height"in O&&(d=O.height);("color"in O||"colors"in O)&&(b=O.color||O.colors,Array.isArray(b)&&R(1===b.length||n.webgl_draw_buffers,"multiple render targets not supported")),b||("colorCount"in O&&(S=0|O.colorCount,R(S>0,"invalid color buffer count")),"colorTexture"in O&&(_=!!O.colorTexture,w="rgba4"),"colorType"in O&&(T=O.colorType,_?(R(n.oes_texture_float||!("float"===T||"float32"===T),"you must enable OES_texture_float in order to use floating point framebuffer objects"),R(n.oes_texture_half_float||!("half float"===T||"float16"===T),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===T||"float16"===T?(R(n.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),w="rgba16f"):"float"!==T&&"float32"!==T||(R(n.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),w="rgba32f"),R.oneOf(T,c,"invalid color type")),"colorFormat"in O&&(w=O.colorFormat,s.indexOf(w)>=0?_=!0:l.indexOf(w)>=0?_=!1:_?R.oneOf(O.colorFormat,s,"invalid color format for texture"):R.oneOf(O.colorFormat,l,"invalid color format for renderbuffer"))),("depthTexture"in O||"depthStencilTexture"in O)&&(k=!(!O.depthTexture&&!O.depthStencilTexture),R(!k||n.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in O&&("boolean"==typeof O.depth?h=O.depth:(M=O.depth,y=!1)),"stencil"in O&&("boolean"==typeof O.stencil?y=O.stencil:(A=O.stencil,h=!1)),"depthStencil"in O&&("boolean"==typeof O.depthStencil?h=y=O.depthStencil:(C=O.depthStencil,h=!1,y=!1))}else o=d=1;var P=null,I=null,D=null,j=null;if(Array.isArray(b))P=b.map(m);else if(b)P=[m(b)];else for(P=new Array(S),i=0;i<S;++i)P[i]=v(o,d,_,w,T);R(n.webgl_draw_buffers||P.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),R(P.length<=r.maxColorAttachments,"too many color attachments, not supported"),o=o||P[0].width,d=d||P[0].height,M?I=m(M):h&&!y&&(I=v(o,d,k,"depth","uint32")),A?D=m(A):y&&!h&&(D=v(o,d,!1,"stencil","uint8")),C?j=m(C):!M&&!A&&y&&h&&(j=v(o,d,k,"depth stencil","depth stencil")),R(!!M+!!A+!!C<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var L=null;for(i=0;i<P.length;++i)if(p(P[i],o,d),R(!P[i]||P[i].texture&&kn.indexOf(P[i].texture._texture.format)>=0||P[i].renderbuffer&&Dn.indexOf(P[i].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+i+" is invalid"),P[i]&&P[i].texture){var F=On[P[i].texture._texture.format]*Nn[P[i].texture._texture.type];null===L?L=F:R(L===F,"all color attachments much have the same number of bits per pixel.")}return p(I,o,d),R(!I||I.texture&&I.texture._texture.format===Cn||I.renderbuffer&&I.renderbuffer._renderbuffer.format===Rn,"invalid depth attachment for framebuffer object"),p(D,o,d),R(!D||D.renderbuffer&&D.renderbuffer._renderbuffer.format===Pn,"invalid stencil attachment for framebuffer object"),p(j,o,d),R(!j||j.texture&&j.texture._texture.format===In||j.renderbuffer&&j.renderbuffer._renderbuffer.format===In,"invalid depth-stencil attachment for framebuffer object"),x(a),a.width=o,a.height=d,a.colorAttachments=P,a.depthAttachment=I,a.stencilAttachment=D,a.depthStencilAttachment=j,f.color=P.map(g),f.depth=g(I),f.stencil=g(D),f.depthStencil=g(j),f.width=a.width,f.height=a.height,E(a),f}return o.framebufferCount++,f(e,i),t(f,{resize:function(e,t){R(u.next!==a,"can not resize a framebuffer which is currently in use");var n=Math.max(0|e,1),r=Math.max(0|t||n,1);if(n===a.width&&r===a.height)return f;for(var i=a.colorAttachments,o=0;o<i.length;++o)y(i[o],n,r);return y(a.depthAttachment,n,r),y(a.stencilAttachment,n,r),y(a.depthStencilAttachment,n,r),a.width=f.width=n,a.height=f.height=r,E(a),f},_reglType:"framebuffer",_framebuffer:a,destroy:function(){T(a),x(a)},use:function(e){u.setFBO({framebuffer:f},e)}})}return t(u,{getFramebuffer:function(e){if("function"==typeof e&&"framebuffer"===e._reglType){var t=e._framebuffer;if(t instanceof w)return t}return null},create:S,createCube:function(e){var a=Array(6);function o(e){var r;R(a.indexOf(u.next)<0,"can not update framebuffer which is currently in use");var l,f={color:null},d=0,p=null,h="rgba",m="uint8",v=1;if("number"==typeof e)d=0|e;else if(e){R.type(e,"object","invalid arguments for framebuffer");var g=e;if("shape"in g){var y=g.shape;R(Array.isArray(y)&&y.length>=2,"invalid shape for framebuffer"),R(y[0]===y[1],"cube framebuffer must be square"),d=y[0]}else"radius"in g&&(d=0|g.radius),"width"in g?(d=0|g.width,"height"in g&&R(g.height===d,"must be square")):"height"in g&&(d=0|g.height);("color"in g||"colors"in g)&&(p=g.color||g.colors,Array.isArray(p)&&R(1===p.length||n.webgl_draw_buffers,"multiple render targets not supported")),p||("colorCount"in g&&(v=0|g.colorCount,R(v>0,"invalid color buffer count")),"colorType"in g&&(R.oneOf(g.colorType,c,"invalid color type"),m=g.colorType),"colorFormat"in g&&(h=g.colorFormat,R.oneOf(g.colorFormat,s,"invalid color format for texture"))),"depth"in g&&(f.depth=g.depth),"stencil"in g&&(f.stencil=g.stencil),"depthStencil"in g&&(f.depthStencil=g.depthStencil)}else d=1;if(p)if(Array.isArray(p))for(l=[],r=0;r<p.length;++r)l[r]=p[r];else l=[p];else{l=Array(v);var b={radius:d,format:h,type:m};for(r=0;r<v;++r)l[r]=i.createCube(b)}for(f.color=Array(l.length),r=0;r<l.length;++r){var _=l[r];R("function"==typeof _&&"textureCube"===_._reglType,"invalid cube map"),d=d||_.width,R(_.width===d&&_.height===d,"invalid cube map shape"),f.color[r]={target:xn,data:l[r]}}for(r=0;r<6;++r){for(var w=0;w<l.length;++w)f.color[w].target=xn+r;r>0&&(f.depth=a[0].depth,f.stencil=a[0].stencil,f.depthStencil=a[0].depthStencil),a[r]?a[r](f):a[r]=S(f)}return t(o,{width:d,height:d,color:l})}return o(e),t(o,{faces:a,resize:function(e){var t,n=0|e;if(R(n>0&&n<=r.maxCubeMapSize,"invalid radius for cube fbo"),n===o.width)return o;var i=o.color;for(t=0;t<i.length;++t)i[t].resize(n);for(t=0;t<6;++t)a[t].resize(n);return o.width=o.height=n,o},_reglType:"framebufferCube",destroy:function(){a.forEach(function(e){e.destroy()})}})},clear:function(){re(_).forEach(T)},restore:function(){u.cur=null,u.next=null,u.dirty=!0,re(_).forEach(function(t){t.framebuffer=e.createFramebuffer(),E(t)})}})}(i,d,y,T,E,f),M=Ji(i,c,d,y,_,w,0,S,{},b,x,{elements:null,primitive:4,count:-1,offset:0,instances:-1},g,p,r),A=Yn(i,S,M.procs.poll,g,a,d,y),C=M.next,k=i.canvas,O=[],N=[],P=[],I=[r.onDestroy],D=null;function j(){if(0===O.length)return p&&p.update(),void(D=null);D=B.next(j),Q();for(var e=O.length-1;e>=0;--e){var t=O[e];t&&t(g,null,0)}i.flush(),p&&p.update()}function L(){!D&&O.length>0&&(D=B.next(j))}function z(){D&&(B.cancel(j),D=null)}function V(e){e.preventDefault(),o=!0,z(),N.forEach(function(e){e()})}function G(e){i.getError(),o=!1,u.restore(),x.restore(),_.restore(),T.restore(),E.restore(),S.restore(),p&&p.restore(),M.procs.refresh(),L(),P.forEach(function(e){e()})}function q(e){function n(e){var t={},n={};return Object.keys(e).forEach(function(r){var i=e[r];F.isDynamic(i)?n[r]=F.unbox(i,r):t[r]=i}),{dynamic:n,static:t}}R(!!e,"invalid args to regl({...})"),R.type(e,"object","invalid args to regl({...})");var r=n(e.context||{}),i=n(e.uniforms||{}),a=n(e.attributes||{}),u=n(function(e){var n=t({},e);function r(e){if(e in n){var t=n[e];delete n[e],Object.keys(t).forEach(function(r){n[e+"."+r]=t[r]})}}return delete n.uniforms,delete n.attributes,delete n.context,"stencil"in n&&n.stencil.op&&(n.stencil.opBack=n.stencil.opFront=n.stencil.op,delete n.stencil.op),r("blend"),r("depth"),r("cull"),r("stencil"),r("polygonOffset"),r("scissor"),r("sample"),n}(e)),s={gpuTime:0,cpuTime:0,count:0},l=M.compile(u,a,i,r,s),c=l.draw,f=l.batch,d=l.scope,p=[];return t(function(e,t){var n;if(o&&R.raise("context lost"),"function"==typeof e)return d.call(this,null,e,0);if("function"==typeof t){if("number"==typeof e){for(n=0;n<e;++n)d.call(this,null,t,n);return}if(Array.isArray(e)){for(n=0;n<e.length;++n)d.call(this,e[n],t,n);return}return d.call(this,e,t,0)}if("number"==typeof e){if(e>0)return f.call(this,function(e){for(;p.length<e;)p.push(null);return p}(0|e),0|e)}else{if(!Array.isArray(e))return c.call(this,e);if(e.length)return f.call(this,e,e.length)}},{stats:s})}k&&(k.addEventListener(ua,V,!1),k.addEventListener(sa,G,!1));var W=S.setFBO=q({framebuffer:F.define.call(null,la,"framebuffer")});function Y(e,t){var n=0;M.procs.poll();var r=t.color;r&&(i.clearColor(+r[0]||0,+r[1]||0,+r[2]||0,+r[3]||0),n|=ra),"depth"in t&&(i.clearDepth(+t.depth),n|=ia),"stencil"in t&&(i.clearStencil(0|t.stencil),n|=aa),R(!!n,"called regl.clear with no buffer specified"),i.clear(n)}function X(e){return R.type(e,"function","regl.frame() callback must be a function"),O.push(e),L(),{cancel:function(){var t=da(O,e);R(t>=0,"cannot cancel a frame twice"),O[t]=function e(){var t=da(O,e);O[t]=O[O.length-1],O.length-=1,O.length<=0&&z()}}}}function $(){var e=C.viewport,t=C.scissor_box;e[0]=e[1]=t[0]=t[1]=0,g.viewportWidth=g.framebufferWidth=g.drawingBufferWidth=e[2]=t[2]=i.drawingBufferWidth,g.viewportHeight=g.framebufferHeight=g.drawingBufferHeight=e[3]=t[3]=i.drawingBufferHeight}function Q(){g.tick+=1,g.time=J(),$(),M.procs.poll()}function K(){$(),M.procs.refresh(),p&&p.update()}function J(){return(U()-h)/1e3}K();var Z=t(q,{clear:function(e){if(R("object"==typeof e&&e,"regl.clear() takes an object as input"),"framebuffer"in e)if(e.framebuffer&&"framebufferCube"===e.framebuffer_reglType)for(var n=0;n<6;++n)W(t({framebuffer:e.framebuffer.faces[n]},e),Y);else W(e,Y);else Y(null,e)},prop:F.define.bind(null,la),context:F.define.bind(null,ca),this:F.define.bind(null,fa),draw:q({}),buffer:function(e){return _.create(e,oa,!1,!1)},elements:function(e){return w.create(e,!1)},texture:T.create2D,cube:T.createCube,renderbuffer:E.create,framebuffer:S.create,framebufferCube:S.createCube,attributes:a,frame:X,on:function(e,t){var n;switch(R.type(t,"function","listener callback must be a function"),e){case"frame":return X(t);case"lost":n=N;break;case"restore":n=P;break;case"destroy":n=I;break;default:R.raise("invalid event, must be one of frame,lost,restore,destroy")}return n.push(t),{cancel:function(){for(var e=0;e<n.length;++e)if(n[e]===t)return n[e]=n[n.length-1],void n.pop()}}},limits:y,hasExtension:function(e){return y.extensions.indexOf(e.toLowerCase())>=0},read:A,destroy:function(){O.length=0,z(),k&&(k.removeEventListener(ua,V),k.removeEventListener(sa,G)),x.clear(),S.clear(),E.clear(),T.clear(),w.clear(),_.clear(),p&&p.clear(),I.forEach(function(e){e()})},_gl:i,_refresh:K,poll:function(){Q(),p&&p.update()},now:J,stats:f});return r.onDone(null,Z),Z}}()},function(e,t,n){var r;e.exports=((r=function(){function e(e){return i.appendChild(e.dom),e}function t(e){for(var t=0;t<i.children.length;t++)i.children[t].style.display=t===e?"block":"none";n=e}var n=0,i=document.createElement("div");i.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",i.addEventListener("click",function(e){e.preventDefault(),t(++n%i.children.length)},!1);var a=(performance||Date).now(),o=a,u=0,s=e(new r.Panel("FPS","#0ff","#002")),l=e(new r.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var c=e(new r.Panel("MB","#f08","#201"));return t(0),{REVISION:16,dom:i,addPanel:e,showPanel:t,begin:function(){a=(performance||Date).now()},end:function(){u++;var e=(performance||Date).now();if(l.update(e-a,200),e>o+1e3&&(s.update(1e3*u/(e-o),100),o=e,u=0,c)){var t=performance.memory;c.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){a=this.end()},domElement:i,setMode:t}}).Panel=function(e,t,n){var r=1/0,i=0,a=Math.round,o=a(window.devicePixelRatio||1),u=80*o,s=48*o,l=3*o,c=2*o,f=3*o,d=15*o,p=74*o,h=30*o,m=document.createElement("canvas");m.width=u,m.height=s,m.style.cssText="width:80px;height:48px";var v=m.getContext("2d");return v.font="bold "+9*o+"px Helvetica,Arial,sans-serif",v.textBaseline="top",v.fillStyle=n,v.fillRect(0,0,u,s),v.fillStyle=t,v.fillText(e,l,c),v.fillRect(f,d,p,h),v.fillStyle=n,v.globalAlpha=.9,v.fillRect(f,d,p,h),{dom:m,update:function(s,g){r=Math.min(r,s),i=Math.max(i,s),v.fillStyle=n,v.globalAlpha=1,v.fillRect(0,0,u,d),v.fillStyle=t,v.fillText(a(s)+" "+e+" ("+a(r)+"-"+a(i)+")",l,c),v.drawImage(m,f+o,d,p-o,h,f,d,p-o,h),v.fillRect(f+p-o,d,o,h),v.fillStyle=n,v.globalAlpha=.9,v.fillRect(f+p-o,d,o,a((1-s/g)*h))}}},r)},function(e,t,n){"use strict";n.r(t),t.default="attribute vec3 a_Position;\n#ifdef HAS_NORMALS\nattribute vec3 a_Normal;\n#endif\n#ifdef HAS_TANGENTS\nattribute vec4 a_Tangent;\n#endif\n#ifdef HAS_UV\nattribute vec2 a_UV;\n#endif\n\nuniform mat4 u_MVPMatrix;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_NormalMatrix;\n\nvarying vec3 v_Position;\nvarying vec2 v_UV;\n\n#ifdef HAS_NORMALS\n#ifdef HAS_TANGENTS\nvarying mat3 v_TBN;\n#else\nvarying vec3 v_Normal;\n#endif\n#endif\n\n\nvoid main() {\n    vec4 pos = u_ModelMatrix * vec4(a_Position, 1.);\n    v_Position = vec3(pos.xyz) / pos.w;\n\n    #ifdef HAS_NORMALS\n    #ifdef HAS_TANGENTS\n    vec3 normalW = normalize(vec3(u_NormalMatrix * vec4(a_Normal, 0.0)));\n    vec3 tangentW = normalize(vec3(u_ModelMatrix * vec4(a_Tangent.xyz, 0.0)));\n    vec3 bitangentW = cross(normalW, tangentW) * a_Tangent.w;\n    v_TBN = mat3(tangentW, bitangentW, normalW);\n    #else // HAS_TANGENTS != 1\n    v_Normal = normalize(vec3(u_ModelMatrix * vec4(a_Normal, 0.0)));\n    #endif\n    #endif\n\n    #ifdef HAS_UV\n    v_UV = a_UV;\n    #else\n    v_UV = vec2(0.,0.);\n    #endif\n\n    gl_Position = u_MVPMatrix * vec4(a_Position, 1.); // needs w for proper perspective correction\n}"},function(e,t,n){"use strict";n.r(t),t.default="//\n// This fragment shader defines a reference implementation for Physically Based Shading of\n// a microfacet surface material defined by a glTF model.\n//\n// References:\n// [1] Real Shading in Unreal Engine 4\n//     http://blog.selfshadow.com/publications/s2013-shading-course/karis/s2013_pbs_epic_notes_v2.pdf\n// [2] Physically Based Shading at Disney\n//     http://blog.selfshadow.com/publications/s2012-shading-course/burley/s2012_pbs_disney_brdf_notes_v3.pdf\n// [3] README.md - Environment Maps\n//     https://github.com/KhronosGroup/glTF-WebGL-PBR/#environment-maps\n// [4] \"An Inexpensive BRDF Model for Physically based Rendering\" by Christophe Schlick\n//     https://www.cs.virginia.edu/~jdl/bib/appearance/analytic%20models/schlick94b.pdf\n#extension GL_EXT_shader_texture_lod: enable\n#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n\nuniform vec3 u_LightDirection;\nuniform vec3 u_LightColor;\n\n#ifdef USE_IBL\nuniform samplerCube u_DiffuseEnvSampler;\nuniform samplerCube u_SpecularEnvSampler;\nuniform sampler2D u_brdfLUT;\n#endif\n\n#ifdef HAS_BASECOLORMAP\nuniform sampler2D u_BaseColorSampler;\n#endif\n#ifdef HAS_NORMALMAP\nuniform sampler2D u_NormalSampler;\nuniform float u_NormalScale;\n#endif\n#ifdef HAS_EMISSIVEMAP\nuniform sampler2D u_EmissiveSampler;\nuniform vec3 u_EmissiveFactor;\n#endif\n#ifdef HAS_METALROUGHNESSMAP\nuniform sampler2D u_MetallicRoughnessSampler;\n#endif\n#ifdef HAS_OCCLUSIONMAP\nuniform sampler2D u_OcclusionSampler;\nuniform float u_OcclusionStrength;\n#endif\n\nuniform vec2 u_MetallicRoughnessValues;\nuniform vec4 u_BaseColorFactor;\n\nuniform vec3 u_Camera;\n\n// debugging flags used for shader output of intermediate PBR variables\nuniform vec4 u_ScaleDiffBaseMR;\nuniform vec4 u_ScaleFGDSpec;\nuniform vec4 u_ScaleIBLAmbient;\n\nvarying vec3 v_Position;\n\nvarying vec2 v_UV;\n\n#ifdef HAS_NORMALS\n#ifdef HAS_TANGENTS\nvarying mat3 v_TBN;\n#else\nvarying vec3 v_Normal;\n#endif\n#endif\n\n// Encapsulate the various inputs used by the various functions in the shading equation\n// We store values in this struct to simplify the integration of alternative implementations\n// of the shading terms, outlined in the Readme.MD Appendix.\nstruct PBRInfo\n{\n    float NdotL;                  // cos angle between normal and light direction\n    float NdotV;                  // cos angle between normal and view direction\n    float NdotH;                  // cos angle between normal and half vector\n    float LdotH;                  // cos angle between light direction and half vector\n    float VdotH;                  // cos angle between view direction and half vector\n    float perceptualRoughness;    // roughness value, as authored by the model creator (input to shader)\n    float metalness;              // metallic value at the surface\n    vec3 reflectance0;            // full reflectance color (normal incidence angle)\n    vec3 reflectance90;           // reflectance color at grazing angle\n    float alphaRoughness;         // roughness mapped to a more linear change in the roughness (proposed by [2])\n    vec3 diffuseColor;            // color contribution from diffuse lighting\n    vec3 specularColor;           // color contribution from specular lighting\n};\n\nconst float M_PI = 3.141592653589793;\nconst float c_MinRoughness = 0.04;\n\nvec4 SRGBtoLINEAR(vec4 srgbIn)\n{\n    #ifdef MANUAL_SRGB\n    #ifdef SRGB_FAST_APPROXIMATION\n    vec3 linOut = pow(srgbIn.xyz,vec3(2.2));\n    #else //SRGB_FAST_APPROXIMATION\n    vec3 bLess = step(vec3(0.04045),srgbIn.xyz);\n    vec3 linOut = mix( srgbIn.xyz/vec3(12.92), pow((srgbIn.xyz+vec3(0.055))/vec3(1.055),vec3(2.4)), bLess );\n    #endif //SRGB_FAST_APPROXIMATION\n    return vec4(linOut,srgbIn.w);;\n    #else //MANUAL_SRGB\n    return srgbIn;\n    #endif //MANUAL_SRGB\n}\n\n// Find the normal for this fragment, pulling either from a predefined normal map\n// or from the interpolated mesh normal and tangent attributes.\nvec3 getNormal()\n{\n    // Retrieve the tangent space matrix\n#ifndef HAS_TANGENTS\n    vec3 pos_dx = dFdx(v_Position);\n    vec3 pos_dy = dFdy(v_Position);\n    vec3 tex_dx = dFdx(vec3(v_UV, 0.0));\n    vec3 tex_dy = dFdy(vec3(v_UV, 0.0));\n    vec3 t = (tex_dy.t * pos_dx - tex_dx.t * pos_dy) / (tex_dx.s * tex_dy.t - tex_dy.s * tex_dx.t);\n\n#ifdef HAS_NORMALS\n    vec3 ng = normalize(v_Normal);\n#else\n    vec3 ng = cross(pos_dx, pos_dy);\n#endif\n\n    t = normalize(t - ng * dot(ng, t));\n    vec3 b = normalize(cross(ng, t));\n    mat3 tbn = mat3(t, b, ng);\n#else // HAS_TANGENTS\n    mat3 tbn = v_TBN;\n#endif\n\n#ifdef HAS_NORMALMAP\n    vec3 n = texture2D(u_NormalSampler, v_UV).rgb;\n    n = normalize(tbn * ((2.0 * n - 1.0) * vec3(u_NormalScale, u_NormalScale, 1.0)));\n#else\n    // The tbn matrix is linearly interpolated, so we need to re-normalize\n    vec3 n = normalize(tbn[2].xyz);\n#endif\n\n    return n;\n}\n\n// Calculation of the lighting contribution from an optional Image Based Light source.\n// Precomputed Environment Maps are required uniform inputs and are computed as outlined in [1].\n// See our README.md on Environment Maps [3] for additional discussion.\n#ifdef USE_IBL\nvec3 getIBLContribution(PBRInfo pbrInputs, vec3 n, vec3 reflection)\n{\n    float mipCount = 9.0; // resolution of 512x512\n    float lod = (pbrInputs.perceptualRoughness * mipCount);\n    // retrieve a scale and bias to F0. See [1], Figure 3\n    vec3 brdf = SRGBtoLINEAR(texture2D(u_brdfLUT, vec2(pbrInputs.NdotV, 1.0 - pbrInputs.perceptualRoughness))).rgb;\n    vec3 diffuseLight = SRGBtoLINEAR(textureCube(u_DiffuseEnvSampler, n)).rgb;\n\n#ifdef USE_TEX_LOD\n    vec3 specularLight = SRGBtoLINEAR(textureCubeLodEXT(u_SpecularEnvSampler, reflection, lod)).rgb;\n#else\n    vec3 specularLight = SRGBtoLINEAR(textureCube(u_SpecularEnvSampler, reflection)).rgb;\n#endif\n\n    vec3 diffuse = diffuseLight * pbrInputs.diffuseColor;\n    vec3 specular = specularLight * (pbrInputs.specularColor * brdf.x + brdf.y);\n\n    // For presentation, this allows us to disable IBL terms\n    diffuse *= u_ScaleIBLAmbient.x;\n    specular *= u_ScaleIBLAmbient.y;\n\n    return diffuse + specular;\n}\n#endif\n\n// Basic Lambertian diffuse\n// Implementation from Lambert's Photometria https://archive.org/details/lambertsphotome00lambgoog\n// See also [1], Equation 1\nvec3 diffuse(PBRInfo pbrInputs)\n{\n    return pbrInputs.diffuseColor / M_PI;\n}\n\n// The following equation models the Fresnel reflectance term of the spec equation (aka F())\n// Implementation of fresnel from [4], Equation 15\nvec3 specularReflection(PBRInfo pbrInputs)\n{\n    return pbrInputs.reflectance0 + (pbrInputs.reflectance90 - pbrInputs.reflectance0) * pow(clamp(1.0 - pbrInputs.VdotH, 0.0, 1.0), 5.0);\n}\n\n// This calculates the specular geometric attenuation (aka G()),\n// where rougher material will reflect less light back to the viewer.\n// This implementation is based on [1] Equation 4, and we adopt their modifications to\n// alphaRoughness as input as originally proposed in [2].\nfloat geometricOcclusion(PBRInfo pbrInputs)\n{\n    float NdotL = pbrInputs.NdotL;\n    float NdotV = pbrInputs.NdotV;\n    float r = pbrInputs.alphaRoughness;\n\n    float attenuationL = 2.0 * NdotL / (NdotL + sqrt(r * r + (1.0 - r * r) * (NdotL * NdotL)));\n    float attenuationV = 2.0 * NdotV / (NdotV + sqrt(r * r + (1.0 - r * r) * (NdotV * NdotV)));\n    return attenuationL * attenuationV;\n}\n\n// The following equation(s) model the distribution of microfacet normals across the area being drawn (aka D())\n// Implementation from \"Average Irregularity Representation of a Roughened Surface for Ray Reflection\" by T. S. Trowbridge, and K. P. Reitz\n// Follows the distribution function recommended in the SIGGRAPH 2013 course notes from EPIC Games [1], Equation 3.\nfloat microfacetDistribution(PBRInfo pbrInputs)\n{\n    float roughnessSq = pbrInputs.alphaRoughness * pbrInputs.alphaRoughness;\n    float f = (pbrInputs.NdotH * roughnessSq - pbrInputs.NdotH) * pbrInputs.NdotH + 1.0;\n    return roughnessSq / (M_PI * f * f);\n}\n\nvoid main()\n{\n    // Metallic and Roughness material properties are packed together\n    // In glTF, these factors can be specified by fixed scalar values\n    // or from a metallic-roughness map\n    float perceptualRoughness = u_MetallicRoughnessValues.y;\n    float metallic = u_MetallicRoughnessValues.x;\n#ifdef HAS_METALROUGHNESSMAP\n    // Roughness is stored in the 'g' channel, metallic is stored in the 'b' channel.\n    // This layout intentionally reserves the 'r' channel for (optional) occlusion map data\n    vec4 mrSample = texture2D(u_MetallicRoughnessSampler, v_UV);\n    perceptualRoughness = mrSample.g * perceptualRoughness;\n    metallic = mrSample.b * metallic;\n#endif\n    perceptualRoughness = clamp(perceptualRoughness, c_MinRoughness, 1.0);\n    metallic = clamp(metallic, 0.0, 1.0);\n    // Roughness is authored as perceptual roughness; as is convention,\n    // convert to material roughness by squaring the perceptual roughness [2].\n    float alphaRoughness = perceptualRoughness * perceptualRoughness;\n\n    // The albedo may be defined from a base texture or a flat color\n#ifdef HAS_BASECOLORMAP\n    vec4 baseColor = SRGBtoLINEAR(texture2D(u_BaseColorSampler, v_UV)) * u_BaseColorFactor;\n#else\n    vec4 baseColor = u_BaseColorFactor;\n#endif\n\n    vec3 f0 = vec3(0.04);\n    vec3 diffuseColor = baseColor.rgb * (vec3(1.0) - f0);\n    diffuseColor *= 1.0 - metallic;\n    vec3 specularColor = mix(f0, baseColor.rgb, metallic);\n\n    // Compute reflectance.\n    float reflectance = max(max(specularColor.r, specularColor.g), specularColor.b);\n\n    // For typical incident reflectance range (between 4% to 100%) set the grazing reflectance to 100% for typical fresnel effect.\n    // For very low reflectance range on highly diffuse objects (below 4%), incrementally reduce grazing reflecance to 0%.\n    float reflectance90 = clamp(reflectance * 25.0, 0.0, 1.0);\n    vec3 specularEnvironmentR0 = specularColor.rgb;\n    vec3 specularEnvironmentR90 = vec3(1.0, 1.0, 1.0) * reflectance90;\n\n    vec3 n = getNormal();                             // normal at surface point\n    vec3 v = normalize(u_Camera - v_Position);        // Vector from surface point to camera\n    vec3 l = normalize(u_LightDirection);             // Vector from surface point to light\n    vec3 h = normalize(l+v);                          // Half vector between both l and v\n    vec3 reflection = -normalize(reflect(v, n));\n\n    float NdotL = clamp(dot(n, l), 0.001, 1.0);\n    float NdotV = clamp(abs(dot(n, v)), 0.001, 1.0);\n    float NdotH = clamp(dot(n, h), 0.0, 1.0);\n    float LdotH = clamp(dot(l, h), 0.0, 1.0);\n    float VdotH = clamp(dot(v, h), 0.0, 1.0);\n\n    PBRInfo pbrInputs = PBRInfo(\n        NdotL,\n        NdotV,\n        NdotH,\n        LdotH,\n        VdotH,\n        perceptualRoughness,\n        metallic,\n        specularEnvironmentR0,\n        specularEnvironmentR90,\n        alphaRoughness,\n        diffuseColor,\n        specularColor\n    );\n\n    // Calculate the shading terms for the microfacet specular shading model\n    vec3 F = specularReflection(pbrInputs);\n    float G = geometricOcclusion(pbrInputs);\n    float D = microfacetDistribution(pbrInputs);\n\n    // Calculation of analytical lighting contribution\n    vec3 diffuseContrib = (1.0 - F) * diffuse(pbrInputs);\n    vec3 specContrib = F * G * D / (4.0 * NdotL * NdotV);\n    // Obtain final intensity as reflectance (BRDF) scaled by the energy of the light (cosine law)\n    vec3 color = NdotL * u_LightColor * (diffuseContrib + specContrib);\n\n    // Calculate lighting contribution from image based lighting source (IBL)\n#ifdef USE_IBL\n    color += getIBLContribution(pbrInputs, n, reflection);\n#endif\n\n    // Apply optional PBR terms for additional (optional) shading\n#ifdef HAS_OCCLUSIONMAP\n    float ao = texture2D(u_OcclusionSampler, v_UV).r;\n    color = mix(color, color * ao, u_OcclusionStrength);\n#endif\n\n#ifdef HAS_EMISSIVEMAP\n    vec3 emissive = SRGBtoLINEAR(texture2D(u_EmissiveSampler, v_UV)).rgb * u_EmissiveFactor;\n    color += emissive;\n#endif\n\n    // This section uses mix to override final color for reference app visualization\n    // of various parameters in the lighting equation.\n    color = mix(color, F, u_ScaleFGDSpec.x);\n    color = mix(color, vec3(G), u_ScaleFGDSpec.y);\n    color = mix(color, vec3(D), u_ScaleFGDSpec.z);\n    color = mix(color, specContrib, u_ScaleFGDSpec.w);\n\n    color = mix(color, diffuseContrib, u_ScaleDiffBaseMR.x);\n    color = mix(color, baseColor.rgb, u_ScaleDiffBaseMR.y);\n    color = mix(color, vec3(metallic), u_ScaleDiffBaseMR.z);\n    color = mix(color, vec3(perceptualRoughness), u_ScaleDiffBaseMR.w);\n\n    gl_FragColor = vec4(pow(color,vec3(1.0/2.2)), baseColor.a);\n}"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadImage=async function(e){const t=new Image;return new Promise((n,r)=>{t.onerror=(()=>{r(`Failed to load ${e}`)}),t.onload=(()=>{n(t)}),t.src=e})}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});const i=n(6),a=n(59),o=new a.GltfLoader;let u=class{constructor(){this.nodes=[],this.meshes=[],this.materials=[],this.textures=[],this.accessors=[],this.bufferViews=[],this.samplers=[],this.bufferCache={}}async load(e){this.clean();const t=await o.load(e);this.asset=t;const{nodes:n,scene:r,scenes:i,meshes:a,materials:u,textures:s,accessors:l,bufferViews:c,samplers:f}=t.gltf;i&&n&&(this.scene=i[r||0],this.nodes=n),a&&(this.meshes=a),u&&(this.materials=u),s&&(this.textures=s),l&&(this.accessors=l),c&&(this.bufferViews=c),f&&(this.samplers=f)}getScene(){return this.scene}getNode(e){return this.nodes[e]}getMesh(e){return this.meshes[e]}getMaterial(e){return this.materials[e]}getTexture(e){return this.textures[e]}getImage(e){return this.asset.imageData.get(e)}getSampler(e){return this.samplers[0]}async getBinData(e){if(void 0!==this.bufferCache[e])return this.bufferCache[e];const t=this.asset.gltf;if(!t.buffers)throw new Error("No buffers found.");const n=t.buffers[e],r=a.resolveURL(n.uri||"",this.asset.bufferData.baseUri),i=await this.asset.bufferData.loader.load(r);return this.bufferCache[e]=i,i}async getData(e){const t=this.accessors[e],n=this.bufferViews[t.bufferView||0],r=await this.getBinData(n.buffer),i=n.byteOffset||0,a=i+n.byteLength,o=r.slice(i,a);let u;return{data:u=5123===t.componentType?new Uint16Array(o):5126===t.componentType?new Float32Array(o):new Uint8Array(o),stride:n.byteStride,offset:t.byteOffset}}clean(){this.bufferCache={},this.nodes=[],this.materials=[],this.meshes=[],this.samplers=[],this.textures=[]}};u=r([i.injectable()],u),t.GltfService=u},function(e,t){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoadingManager=class{constructor(){this.urlModifier=void 0,this.onStart=void 0,this.onProgress=void 0,this.onLoad=void 0,this.onError=void 0,this.isLoading=!1,this.itemsLoaded=0,this.itemsTotal=0}itemStart(e){this.itemsTotal++,!this.isLoading&&this.onStart&&this.onStart(e,this.itemsLoaded,this.itemsTotal),this.isLoading=!0}itemEnd(e){this.itemsLoaded++,this.onProgress&&this.onProgress(e,this.itemsLoaded,this.itemsTotal),this.itemsLoaded===this.itemsTotal&&(this.isLoading=!1,this.onLoad&&this.onLoad())}itemError(e){this.onError&&this.onError(e)}resolveURL(e){return this.urlModifier?this.urlModifier(e):e}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function u(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(o,u)}s((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(3),a=n(0);t.GLTF_COMPONENT_TYPE_ARRAYS={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},t.GLTF_ELEMENTS_PER_TYPE={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},t.GltfAsset=class{constructor(e,t,n,r=new a.LoadingManager){this.gltf=e,this.glbData=n,this.bufferData=new o(this,t,r),this.imageData=new u(this,t,r)}bufferViewData(e){return r(this,void 0,void 0,function*(){if(!this.gltf.bufferViews)throw new Error("No buffer views found.");const t=this.gltf.bufferViews[e],n=yield this.bufferData.get(t.buffer),r=t.byteLength||0,i=t.byteOffset||0,a=n.buffer,o=n.byteOffset;return new Uint8Array(a,o+i,r)})}accessorData(e){return r(this,void 0,void 0,function*(){if(!this.gltf.accessors)throw new Error("No accessors views found.");const n=this.gltf.accessors[e],r=t.GLTF_ELEMENTS_PER_TYPE[n.type];let i;if(void 0!==n.bufferView)i=yield this.bufferViewData(n.bufferView);else{const e=t.GLTF_COMPONENT_TYPE_ARRAYS[n.componentType].BYTES_PER_ELEMENT*r*n.count;i=new Uint8Array(e)}if(n.sparse){const{count:e,indices:a,values:o}=n.sparse;let u=t.GLTF_COMPONENT_TYPE_ARRAYS[a.componentType],s=yield this.bufferViewData(a.bufferView);const l=new u(s.buffer,s.byteOffset+(a.byteOffset||0),e);u=t.GLTF_COMPONENT_TYPE_ARRAYS[n.componentType],s=yield this.bufferViewData(o.bufferView);const c=new u((yield this.bufferViewData(o.bufferView)).buffer,s.byteOffset+(o.byteOffset||0),e*r);n.bufferView&&(i=new Uint8Array(i));const f=new t.GLTF_COMPONENT_TYPE_ARRAYS[n.componentType](i.buffer);for(let t=0;t<e;t++)for(let e=0;e<r;e++)f[r*l[t]+e]=c[r*t+e]}return i})}preFetchAll(){return r(this,void 0,void 0,function*(){return Promise.all([this.bufferData.preFetchAll(),this.imageData.preFetchAll()])})}};class o{constructor(e,t,n){this.bufferCache=[],this.asset=e,this.baseUri=t,this.manager=n,this.loader=new i.FileLoader(n),this.loader.responseType="arraybuffer"}get(e){return r(this,void 0,void 0,function*(){if(void 0!==this.bufferCache[e])return this.bufferCache[e];const t=this.asset.gltf;if(!t.buffers)throw new Error("No buffers found.");const n=t.buffers[e];if(void 0===n.uri){if(0!==e)throw new Error("GLB container is required to be the first buffer");if(void 0===this.asset.glbData)throw new Error("invalid gltf: buffer has no uri nor is there a GLB buffer");return this.asset.glbData.binaryChunk}const r=s(n.uri,this.baseUri),i=yield this.loader.load(r),a=new Uint8Array(i);return this.bufferCache[e]=a,a})}preFetchAll(){return r(this,void 0,void 0,function*(){const e=this.asset.gltf.buffers;return e?Promise.all(e.map((e,t)=>this.get(t))):[]})}}t.BufferData=o;class u{constructor(e,t,n){this.crossOrigin="anonymous",this.imageCache=[],this.asset=e,this.baseUri=t,this.manager=n}get(e){return r(this,void 0,void 0,function*(){if(void 0!==this.imageCache[e])return this.imageCache[e];const t=this.asset.gltf;if(!t.images)throw new Error("No images found.");const n=t.images[e];let r,i=!1;if(void 0!==n.bufferView){const e=yield this.asset.bufferViewData(n.bufferView);i=!0;const t=new Blob([e],{type:n.mimeType});r=URL.createObjectURL(t)}else{if(void 0===n.uri)throw new Error("Invalid glTF: image must either have a `uri` or a `bufferView`");r=this.manager.resolveURL(s(n.uri,this.baseUri))}const a=new Image;return a.crossOrigin=this.crossOrigin,new Promise((t,n)=>{a.onerror=(()=>{n(`Failed to load ${r}`),this.manager.itemEnd(r),this.manager.itemError(r)}),a.onload=(()=>{i&&URL.revokeObjectURL(r),this.imageCache[e]=a,t(a),this.manager.itemEnd(r)}),a.src=r,this.manager.itemStart(r)})})}preFetchAll(){return r(this,void 0,void 0,function*(){const e=this.asset.gltf.images;return e?Promise.all(e.map((e,t)=>this.get(t))):[]})}}function s(e,t){return"string"!=typeof e||""===e?"":/^(https?:)?\/\//i.test(e)?e:/^data:.*,.*$/i.test(e)?e:/^blob:.*$/i.test(e)?e:t+e}t.ImageData=u,t.resolveURL=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoaderUtils=class{static decodeText(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);let t="";for(const n of e)t+=String.fromCharCode(n);return decodeURIComponent(escape(t))}static extractUrlBase(e){const t=e.split("/");return 1===t.length?"./":(t.pop(),t.join("/")+"/")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileLoader=class{constructor(e){this.runningRequests={},this.manager=e}load(e,t){if(void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e),this.runningRequests[e])return this.runningRequests[e];const n=new Promise((n,r)=>{const i=new XMLHttpRequest;i.open("GET",e,!0);const a=this;i.onload=function(t){const o=this.response;0===this.status?(console.warn("FileLoader: HTTP Status 0 received."),n(o),a.manager.itemEnd(e)):200===this.status?(n(o),a.manager.itemEnd(e)):(r({url:e,status:this.status,statusText:i.statusText}),a.manager.itemEnd(e),a.manager.itemError(e)),delete a.runningRequests[e]},i.onprogress=(e=>{t&&t(e)}),i.onerror=function(t){r({url:e,status:this.status,statusText:i.statusText}),a.manager.itemEnd(e),a.manager.itemError(e),delete a.runningRequests[e]},this.responseType&&(i.responseType=this.responseType),this.withCredentials&&(i.withCredentials=this.withCredentials),this.mimeType&&i.overrideMimeType&&i.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(const e in this.requestHeaders)i.setRequestHeader(e,this.requestHeaders[e]);i.send(null),this.manager.itemStart(e)});return this.runningRequests[e]=n,n}setRequestHeader(e,t){return this.requestHeaders[e]=t,this}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.BINARY_HEADER_MAGIC="glTF";const i=1313821514,a=5130562;t.GLTFBinaryData=class{constructor(e){const n=new DataView(e,0,12),o=r.LoaderUtils.decodeText(new Uint8Array(e,0,4)),u=n.getUint32(4,!0);if(n.getUint32(8,!0),o!==t.BINARY_HEADER_MAGIC)throw new Error("Unsupported glTF-Binary header.");if(u<2)throw new Error("Unsupported legacy binary file detected.");const s=new DataView(e,12);let l=0;for(;l<s.byteLength;){const t=s.getUint32(l,!0);l+=4;const n=s.getUint32(l,!0);if(l+=4,n===i){const n=new Uint8Array(e,12+l,t);this.json=r.LoaderUtils.decodeText(n)}else if(n===a){const n=12+l;this.binaryChunk=new Uint8Array(e,n,t)}l+=t}if(null===this.json)throw new Error("glTF-Binary: JSON content not found.")}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function u(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(o,u)}s((r=r.apply(e,t||[])).next())})};function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});const a=n(3),o=n(5),u=n(1),s=n(2),l=n(0),c=n(4);t.gltf=c,i(n(1)),i(n(0)),t.GltfLoader=class{constructor(e){this.manager=e||new l.LoadingManager}load(e,t){return r(this,void 0,void 0,function*(){const n=s.LoaderUtils.extractUrlBase(e),r=new a.FileLoader(this.manager);r.responseType="arraybuffer";const i=yield r.load(e,t);return yield this.parse(i,n)})}loadFromFiles(e){return r(this,void 0,void 0,function*(){let t,n;for(const[r,i]of e)i.name.match(/\.(gltf|glb)$/)&&(t=i,n=r.replace(i.name,""));if(!t)throw new Error("No .gltf or .glb asset found.");const r="string"==typeof t?t:URL.createObjectURL(t),i=s.LoaderUtils.extractUrlBase(r),a=[];this.manager.urlModifier=(t=>{const r=n+t.replace(i,"").replace(/^(\.?\/)/,"");if(e.has(r)){const t=e.get(r),n=URL.createObjectURL(t);return a.push(n),n}return t});const o=yield this.load(r);return yield o.preFetchAll(),URL.revokeObjectURL(r),a.forEach(URL.revokeObjectURL),o})}parse(e,t){return r(this,void 0,void 0,function*(){let n,r=void 0;n="string"==typeof e?e:s.LoaderUtils.decodeText(new Uint8Array(e,0,4))===o.BINARY_HEADER_MAGIC?(r=new o.GLTFBinaryData(e)).json:s.LoaderUtils.decodeText(new Uint8Array(e));const i=JSON.parse(n);if(void 0===i.asset||i.asset.version[0]<2)throw new Error("Unsupported asset. glTF versions >=2.0 are supported.");return new u.GltfAsset(i,t,r,this.manager)})}}},function(e,t,n){e.exports=n(6)}])},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const a=n(14),o=n(6),u=n(5),s=n(9);let l=class{constructor(){this.nodes=[]}async init(){this.nodes.forEach(e=>e.clean()),this.nodes=[];const e=this._gltf.getScene();e.nodes&&(this.nodes=await Promise.all(e.nodes.map(e=>{const t=this._gltf.getNode(e);return this.createSceneNode(t,e)})))}async createSceneNode(e,t){const n=a.container.get(u.SERVICE_IDENTIFIER.SceneNodeService);if(n.setId(t),void 0!==e.mesh&&(await n.setMesh(this._gltf.getMesh(e.mesh)),n.buildDrawCommand()),e.matrix)n.setMatrix(s.mat4.clone(e.matrix));else{let t=s.mat4.create();const r=e.scale?e.scale:[1,1,1],i=e.rotation?e.rotation:[0,0,0,1],a=e.translation?e.translation:[0,0,0];s.mat4.fromRotationTranslationScale(t,i,a,r),n.setMatrix(t)}if(e.children&&e.children.length>0)for(const t of e.children)n.addChild(await this.createSceneNode(this._gltf.getNode(t),t));return n}draw(){this.nodes.forEach(e=>{e.draw(s.mat4.create())})}};r([o.inject(u.SERVICE_IDENTIFIER.GltfService),i("design:type",Object)],l.prototype,"_gltf",void 0),l=r([o.injectable()],l),t.SceneService=l},function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0});const u=n(6),s=n(13),l=n(12),c=n(5),f=n(62);let d=r=class extends s.EventEmitter{constructor(e,t){super(),this.isMoving=!1,this.lastX=-1,this.lastY=-1,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.renderer=e,this.camera=t,this.onPanstart=this.onPanstart.bind(this),this.onPanmove=this.onPanmove.bind(this),this.onPanend=this.onPanend.bind(this),this.onPinch=this.onPinch.bind(this),this.onMousewheel=this.onMousewheel.bind(this),this.renderer.on(l.Renderer.READY_EVENT,()=>{const e=this.renderer.getCanvas(),t=new f(e);t.get("pan").set({direction:f.DIRECTION_ALL}),t.get("pinch").set({enable:!0}),t.on("panstart",this.onPanstart),t.on("panmove",this.onPanmove),t.on("panend",this.onPanend),t.on("pinch",this.onPinch),e.addEventListener("wheel",this.onMousewheel)}),this.on(r.MOVE_EVENT,e=>{const{deltaX:t,deltaY:n,deltaZ:r}=e;this.camera.roll(.001*t*2),this.camera.pitch(.001*n*2),this.camera.dolly(.05*r*2)})}onPanend(e){this.isMoving=!1,this.emit(r.UP_EVENT)}onPanstart(e){this.lastX=e.center.x,this.lastY=e.center.y,this.isMoving=!0,this.deltaZ=0,this.emit(r.DOWN_EVENT)}onPanmove(e){this.isMoving&&(this.deltaX=e.center.x-this.lastX,this.deltaY=e.center.y-this.lastY,this.lastX=e.center.x,this.lastY=e.center.y,this.emit(r.MOVE_EVENT,{deltaX:this.deltaX,deltaY:this.deltaY,deltaZ:this.deltaZ}))}onMousewheel(e){this.deltaZ=e.deltaY,this.emit(r.MOVE_EVENT,{deltaX:this.deltaX,deltaY:this.deltaY,deltaZ:this.deltaZ})}onPinch(e){this.deltaZ=10*(1-e.scale),this.emit(r.WHEEL_EVENT,{deltaX:this.deltaX,deltaY:this.deltaY,deltaZ:this.deltaZ})}};d.UP_EVENT="mouseup",d.MOVE_EVENT="mousemove",d.DOWN_EVENT="mousedown",d.OUT_EVENT="mouseout",d.WHEEL_EVENT="mousewheel",d=r=i([u.injectable(),o(0,u.inject(c.SERVICE_IDENTIFIER.RendererService)),o(1,u.inject(c.SERVICE_IDENTIFIER.CameraService)),a("design:paramtypes",[Object,Object])],d),t.Mouse=d},function(e,t,n){var r;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
!function(i,a,o,u){"use strict";var s,l=["","webkit","Moz","MS","ms","o"],c=a.createElement("div"),f="function",d=Math.round,p=Math.abs,h=Date.now;function m(e,t,n){return setTimeout(x(e,n),t)}function v(e,t,n){return!!Array.isArray(e)&&(g(e,n[t],n),!0)}function g(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==u)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function y(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=i.console&&(i.console.warn||i.console.log);return a&&a.call(i.console,r,n),e.apply(this,arguments)}}s="function"!=typeof Object.assign?function(e){if(e===u||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==u&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}:Object.assign;var b=y(function(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;)(!n||n&&e[r[i]]===u)&&(e[r[i]]=t[r[i]]),i++;return e},"extend","Use `assign`."),_=y(function(e,t){return b(e,t,!0)},"merge","Use `assign`.");function w(e,t,n){var r,i=t.prototype;(r=e.prototype=Object.create(i)).constructor=e,r._super=i,n&&s(r,n)}function x(e,t){return function(){return e.apply(t,arguments)}}function T(e,t){return typeof e==f?e.apply(t&&t[0]||u,t):e}function E(e,t){return e===u?t:e}function S(e,t,n){g(k(t),function(t){e.addEventListener(t,n,!1)})}function M(e,t,n){g(k(t),function(t){e.removeEventListener(t,n,!1)})}function A(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function C(e,t){return e.indexOf(t)>-1}function k(e){return e.trim().split(/\s+/g)}function O(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function N(e){return Array.prototype.slice.call(e,0)}function R(e,t,n){for(var r=[],i=[],a=0;a<e.length;){var o=t?e[a][t]:e[a];O(i,o)<0&&r.push(e[a]),i[a]=o,a++}return n&&(r=t?r.sort(function(e,n){return e[t]>n[t]}):r.sort()),r}function P(e,t){for(var n,r,i=t[0].toUpperCase()+t.slice(1),a=0;a<l.length;){if((r=(n=l[a])?n+i:t)in e)return r;a++}return u}var I=1;function D(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||i}var j="ontouchstart"in i,L=P(i,"PointerEvent")!==u,F=j&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),B=25,U=1,z=2,V=4,H=8,G=1,q=2,W=4,Y=8,X=16,$=q|W,Q=Y|X,K=$|Q,J=["x","y"],Z=["clientX","clientY"];function ee(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){T(e.options.enable,[e])&&n.handler(t)},this.init()}function te(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,a=t&U&&r-i==0,o=t&(V|H)&&r-i==0;n.isFirst=!!a,n.isFinal=!!o,a&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=ne(t));i>1&&!n.firstMultiple?n.firstMultiple=ne(t):1===i&&(n.firstMultiple=!1);var a=n.firstInput,o=n.firstMultiple,s=o?o.center:a.center,l=t.center=re(r);t.timeStamp=h(),t.deltaTime=t.timeStamp-a.timeStamp,t.angle=ue(s,l),t.distance=oe(s,l),function(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},a=e.prevInput||{};t.eventType!==U&&a.eventType!==V||(i=e.prevDelta={x:a.deltaX||0,y:a.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y});t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}(n,t),t.offsetDirection=ae(t.deltaX,t.deltaY);var c=ie(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=c.x,t.overallVelocityY=c.y,t.overallVelocity=p(c.x)>p(c.y)?c.x:c.y,t.scale=o?(f=o.pointers,d=r,oe(d[0],d[1],Z)/oe(f[0],f[1],Z)):1,t.rotation=o?function(e,t){return ue(t[1],t[0],Z)+ue(e[1],e[0],Z)}(o.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,r,i,a,o=e.lastInterval||t,s=t.timeStamp-o.timeStamp;if(t.eventType!=H&&(s>B||o.velocity===u)){var l=t.deltaX-o.deltaX,c=t.deltaY-o.deltaY,f=ie(s,l,c);r=f.x,i=f.y,n=p(f.x)>p(f.y)?f.x:f.y,a=ae(l,c),e.lastInterval=t}else n=o.velocity,r=o.velocityX,i=o.velocityY,a=o.direction;t.velocity=n,t.velocityX=r,t.velocityY=i,t.direction=a}(n,t);var f,d;var m=e.element;A(t.srcEvent.target,m)&&(m=t.srcEvent.target);t.target=m}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function ne(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:d(e.pointers[n].clientX),clientY:d(e.pointers[n].clientY)},n++;return{timeStamp:h(),pointers:t,center:re(t),deltaX:e.deltaX,deltaY:e.deltaY}}function re(e){var t=e.length;if(1===t)return{x:d(e[0].clientX),y:d(e[0].clientY)};for(var n=0,r=0,i=0;i<t;)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:d(n/t),y:d(r/t)}}function ie(e,t,n){return{x:t/e||0,y:n/e||0}}function ae(e,t){return e===t?G:p(e)>=p(t)?e<0?q:W:t<0?Y:X}function oe(e,t,n){n||(n=J);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function ue(e,t,n){n||(n=J);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return 180*Math.atan2(i,r)/Math.PI}ee.prototype={handler:function(){},init:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(D(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&M(this.element,this.evEl,this.domHandler),this.evTarget&&M(this.target,this.evTarget,this.domHandler),this.evWin&&M(D(this.element),this.evWin,this.domHandler)}};var se={mousedown:U,mousemove:z,mouseup:V},le="mousedown",ce="mousemove mouseup";function fe(){this.evEl=le,this.evWin=ce,this.pressed=!1,ee.apply(this,arguments)}w(fe,ee,{handler:function(e){var t=se[e.type];t&U&&0===e.button&&(this.pressed=!0),t&z&&1!==e.which&&(t=V),this.pressed&&(t&V&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var de={pointerdown:U,pointermove:z,pointerup:V,pointercancel:H,pointerout:H},pe={2:"touch",3:"pen",4:"mouse",5:"kinect"},he="pointerdown",me="pointermove pointerup pointercancel";function ve(){this.evEl=he,this.evWin=me,ee.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(he="MSPointerDown",me="MSPointerMove MSPointerUp MSPointerCancel"),w(ve,ee,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=de[r],a=pe[e.pointerType]||e.pointerType,o="touch"==a,u=O(t,e.pointerId,"pointerId");i&U&&(0===e.button||o)?u<0&&(t.push(e),u=t.length-1):i&(V|H)&&(n=!0),u<0||(t[u]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:a,srcEvent:e}),n&&t.splice(u,1))}});var ge={touchstart:U,touchmove:z,touchend:V,touchcancel:H},ye="touchstart",be="touchstart touchmove touchend touchcancel";function _e(){this.evTarget=ye,this.evWin=be,this.started=!1,ee.apply(this,arguments)}w(_e,ee,{handler:function(e){var t=ge[e.type];if(t===U&&(this.started=!0),this.started){var n=function(e,t){var n=N(e.touches),r=N(e.changedTouches);t&(V|H)&&(n=R(n.concat(r),"identifier",!0));return[n,r]}.call(this,e,t);t&(V|H)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}});var we={touchstart:U,touchmove:z,touchend:V,touchcancel:H},xe="touchstart touchmove touchend touchcancel";function Te(){this.evTarget=xe,this.targetIds={},ee.apply(this,arguments)}w(Te,ee,{handler:function(e){var t=we[e.type],n=function(e,t){var n=N(e.touches),r=this.targetIds;if(t&(U|z)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,a,o=N(e.changedTouches),u=[],s=this.target;if(a=n.filter(function(e){return A(e.target,s)}),t===U)for(i=0;i<a.length;)r[a[i].identifier]=!0,i++;i=0;for(;i<o.length;)r[o[i].identifier]&&u.push(o[i]),t&(V|H)&&delete r[o[i].identifier],i++;if(!u.length)return;return[R(a.concat(u),"identifier",!0),u]}.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}});var Ee=2500,Se=25;function Me(){ee.apply(this,arguments);var e=x(this.handler,this);this.touch=new Te(this.manager,e),this.mouse=new fe(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function Ae(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout(function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)},Ee)}}w(Me,ee,{handler:function(e,t,n){var r="touch"==n.pointerType,i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)(function(e,t){e&U?(this.primaryTouch=t.changedPointers[0].identifier,Ae.call(this,t)):e&(V|H)&&Ae.call(this,t)}).call(this,t,n);else if(i&&function(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],a=Math.abs(t-i.x),o=Math.abs(n-i.y);if(a<=Se&&o<=Se)return!0}return!1}.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ce=P(c.style,"touchAction"),ke=Ce!==u,Oe="auto",Ne="manipulation",Re="none",Pe="pan-x",Ie="pan-y",De=function(){if(!ke)return!1;var e={},t=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){e[n]=!t||i.CSS.supports("touch-action",n)}),e}();function je(e,t){this.manager=e,this.set(t)}je.prototype={set:function(e){"compute"==e&&(e=this.compute()),ke&&this.manager.element.style&&De[e]&&(this.manager.element.style[Ce]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return g(this.manager.recognizers,function(t){T(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(e){if(C(e,Re))return Re;var t=C(e,Pe),n=C(e,Ie);if(t&&n)return Re;if(t||n)return t?Pe:Ie;if(C(e,Ne))return Ne;return Oe}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,i=C(r,Re)&&!De[Re],a=C(r,Ie)&&!De[Ie],o=C(r,Pe)&&!De[Pe];if(i){var u=1===e.pointers.length,s=e.distance<2,l=e.deltaTime<250;if(u&&s&&l)return}if(!o||!a)return i||a&&n&$||o&&n&Q?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var Le=1,Fe=2,Be=4,Ue=8,ze=Ue,Ve=16;function He(e){this.options=s({},this.defaults,e||{}),this.id=I++,this.manager=null,this.options.enable=E(this.options.enable,!0),this.state=Le,this.simultaneous={},this.requireFail=[]}function Ge(e){return e&Ve?"cancel":e&Ue?"end":e&Be?"move":e&Fe?"start":""}function qe(e){return e==X?"down":e==Y?"up":e==q?"left":e==W?"right":""}function We(e,t){var n=t.manager;return n?n.get(e):e}function Ye(){He.apply(this,arguments)}function Xe(){Ye.apply(this,arguments),this.pX=null,this.pY=null}function $e(){Ye.apply(this,arguments)}function Qe(){He.apply(this,arguments),this._timer=null,this._input=null}function Ke(){Ye.apply(this,arguments)}function Je(){Ye.apply(this,arguments)}function Ze(){He.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function et(e,t){return(t=t||{}).recognizers=E(t.recognizers,et.defaults.preset),new tt(e,t)}He.prototype={defaults:{},set:function(e){return s(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(v(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=We(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return v(e,"dropRecognizeWith",this)?this:(e=We(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(v(e,"requireFailure",this))return this;var t=this.requireFail;return-1===O(t,e=We(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(v(e,"dropRequireFailure",this))return this;e=We(e,this);var t=O(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<Ue&&r(t.options.event+Ge(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=Ue&&r(t.options.event+Ge(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(32|Le)))return!1;e++}return!0},recognize:function(e){var t=s({},e);if(!T(this.options.enable,[this,t]))return this.reset(),void(this.state=32);this.state&(ze|Ve|32)&&(this.state=Le),this.state=this.process(t),this.state&(Fe|Be|Ue|Ve)&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},w(Ye,He,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=t&(Fe|Be),i=this.attrTest(e);return r&&(n&H||!i)?t|Ve:r||i?n&V?t|Ue:t&Fe?t|Be:Fe:32}}),w(Xe,Ye,{defaults:{event:"pan",threshold:10,pointers:1,direction:K},getTouchAction:function(){var e=this.options.direction,t=[];return e&$&&t.push(Ie),e&Q&&t.push(Pe),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,a=e.deltaX,o=e.deltaY;return i&t.direction||(t.direction&$?(i=0===a?G:a<0?q:W,n=a!=this.pX,r=Math.abs(e.deltaX)):(i=0===o?G:o<0?Y:X,n=o!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return Ye.prototype.attrTest.call(this,e)&&(this.state&Fe||!(this.state&Fe)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=qe(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),w($e,Ye,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Re]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&Fe)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),w(Qe,He,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Oe]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!r||!n||e.eventType&(V|H)&&!i)this.reset();else if(e.eventType&U)this.reset(),this._timer=m(function(){this.state=ze,this.tryEmit()},t.time,this);else if(e.eventType&V)return ze;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===ze&&(e&&e.eventType&V?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=h(),this.manager.emit(this.options.event,this._input)))}}),w(Ke,Ye,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Re]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&Fe)}}),w(Je,Ye,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:$|Q,pointers:1},getTouchAction:function(){return Xe.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&($|Q)?t=e.overallVelocity:n&$?t=e.overallVelocityX:n&Q&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&p(t)>this.options.velocity&&e.eventType&V},emit:function(e){var t=qe(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),w(Ze,He,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ne]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),e.eventType&U&&0===this.count)return this.failTimeout();if(r&&i&&n){if(e.eventType!=V)return this.failTimeout();var a=!this.pTime||e.timeStamp-this.pTime<t.interval,o=!this.pCenter||oe(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,o&&a?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=m(function(){this.state=ze,this.tryEmit()},t.interval,this),Fe):ze}return 32},failTimeout:function(){return this._timer=m(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ze&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),et.VERSION="2.0.7",et.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Ke,{enable:!1}],[$e,{enable:!1},["rotate"]],[Je,{direction:$}],[Xe,{direction:$},["swipe"]],[Ze],[Ze,{event:"doubletap",taps:2},["tap"]],[Qe]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function tt(e,t){var n;this.options=s({},et.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(L?ve:F?Te:j?Me:fe))(n,te),this.touchAction=new je(this,this.options.touchAction),nt(this,!0),g(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function nt(e,t){var n,r=e.element;r.style&&(g(e.options.cssProps,function(i,a){n=P(r.style,a),t?(e.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=e.oldCssProps[n]||""}),t||(e.oldCssProps={}))}tt.prototype={set:function(e){return s(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var r=this.recognizers,i=t.curRecognizer;(!i||i&&i.state&ze)&&(i=t.curRecognizer=null);for(var a=0;a<r.length;)n=r[a],2===t.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&n.state&(Fe|Be|Ue)&&(i=t.curRecognizer=n),a++}},get:function(e){if(e instanceof He)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(v(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(v(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=O(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==u&&t!==u){var n=this.handlers;return g(k(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this}},off:function(e,t){if(e!==u){var n=this.handlers;return g(k(e),function(e){t?n[e]&&n[e].splice(O(n[e],t),1):delete n[e]}),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=a.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&nt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},s(et,{INPUT_START:U,INPUT_MOVE:z,INPUT_END:V,INPUT_CANCEL:H,STATE_POSSIBLE:Le,STATE_BEGAN:Fe,STATE_CHANGED:Be,STATE_ENDED:Ue,STATE_RECOGNIZED:ze,STATE_CANCELLED:Ve,STATE_FAILED:32,DIRECTION_NONE:G,DIRECTION_LEFT:q,DIRECTION_RIGHT:W,DIRECTION_UP:Y,DIRECTION_DOWN:X,DIRECTION_HORIZONTAL:$,DIRECTION_VERTICAL:Q,DIRECTION_ALL:K,Manager:tt,Input:ee,TouchAction:je,TouchInput:Te,MouseInput:fe,PointerEventInput:ve,TouchMouseInput:Me,SingleTouchInput:_e,Recognizer:He,AttrRecognizer:Ye,Tap:Ze,Pan:Xe,Swipe:Je,Pinch:$e,Rotate:Ke,Press:Qe,on:S,off:M,each:g,merge:_,extend:b,assign:s,inherit:w,bindFn:x,prefixed:P}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=et,(r=function(){return et}.call(t,n,t,e))===u||(e.exports=r)}(window,document)},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});const a=n(5),o=n(9),u=n(6),s={HAS_NORMALS:0,HAS_TANGENTS:0,HAS_UV:0,HAS_BASECOLORMAP:0,HAS_METALROUGHNESSMAP:0,HAS_NORMALMAP:0,HAS_EMISSIVEMAP:0,HAS_OCCLUSIONMAP:0};let l=class{constructor(){this.children=[],this.attributes={},this.uniforms={},this.defines={...s},this.textures=[],this.cullFace=!0}setId(e){this.id=e}setMatrix(e){this.matrix=e}async setMesh(e){this.mesh=e,await Promise.all(this.mesh.primitives.map(async({attributes:e,indices:t,material:n})=>{if(await Promise.all(Object.keys(e).map(async t=>{const{data:n,offset:r,stride:i}=await this._gltf.getData(e[t]);switch(t){case"POSITION":this.addAttribute("a_Position",n,r,i);break;case"NORMAL":this.addDefine("HAS_NORMALS",1),this.addAttribute("a_Normal",n,r,i);break;case"TANGENT":this.addDefine("HAS_TANGENTS",1),this.addAttribute("a_Tangent",n,r,i);break;case"TEXCOORD_0":this.addDefine("HAS_UV",1),this.addAttribute("a_UV",n,r,i)}})),void 0!==t){const{data:e}=await this._gltf.getData(t);this.setIndices(e)}if(void 0!==n){const e=this._gltf.getMaterial(n);this.cullFace=!e.doubleSided,e.pbrMetallicRoughness&&await this.setPBRMaterial(e.pbrMetallicRoughness),e.normalTexture&&await this.setNormalTexture(e.normalTexture),e.emissiveTexture&&await this.setEmissiveTexture(e.emissiveTexture,e.emissiveFactor),e.occlusionTexture&&await this.setOcclusionTexture(e.occlusionTexture)}else this.addUniform("u_BaseColorFactor",[1,1,1,1]),this.addUniform("u_MetallicRoughnessValues",[0,0])}))}async setNormalTexture(e){const{index:t,scale:n}=e;if(void 0!==t){const e=await this._gltf.getImage(t),r=this._gltf.getSampler(t);this.addUniform("u_NormalSampler",{image:e,sampler:r},"texture"),this.addUniform("u_NormalScale",n||1),this.addDefine("HAS_NORMALMAP",1)}}async setEmissiveTexture(e,t){const{index:n}=e;if(void 0!==n){const e=await this._gltf.getImage(n),r=this._gltf.getSampler(n);this.addUniform("u_EmissiveSampler",{image:e,sampler:r,format:this._renderer.isSupportSRGB()?"srgb":"rgba"},"texture"),this.addUniform("u_EmissiveFactor",t||[0,0,0]),this.addDefine("HAS_EMISSIVEMAP",1)}}async setOcclusionTexture(e){const{index:t,strength:n}=e;if(void 0!==t){const e=await this._gltf.getImage(t),r=this._gltf.getSampler(t);this.addUniform("u_OcclusionSampler",{image:e,sampler:r},"texture"),this.addUniform("u_OcclusionStrength",n||1),this.addDefine("HAS_OCCLUSIONMAP",1)}}async setPBRMaterial(e){const{baseColorFactor:t,baseColorTexture:n,metallicFactor:r,metallicRoughnessTexture:i,roughnessFactor:a}=e;if(n){let e=this._gltf.getTexture(n.index);if(void 0!==e.source){const t=await this._gltf.getImage(e.source),n=this._gltf.getSampler(e.source);this.addDefine("HAS_BASECOLORMAP",1),this.addUniform("u_BaseColorSampler",{image:t,sampler:n,format:this._renderer.isSupportSRGB()?"srgb":"rgba"},"texture")}}if(this.addUniform("u_BaseColorFactor",t||[1,1,1,1]),this.addUniform("u_MetallicRoughnessValues",[r||1,a||1]),i){let e=this._gltf.getTexture(i.index);if(void 0!==e.source){const t=await this._gltf.getImage(e.source),n=this._gltf.getSampler(e.source);this.addDefine("HAS_METALROUGHNESSMAP",1),this.addUniform("u_MetallicRoughnessSampler",{image:t,sampler:n},"texture")}}}addChild(e){this.children.push(e)}addAttribute(e,t,n,r){const i=this._renderer.getRegl();this.attributes[e]={buffer:i.buffer(t)},void 0!==n&&(this.attributes[e].offset=n),void 0!==r&&(this.attributes[e].stride=r)}addUniform(e,t,n){const r=this._renderer.getRegl();if("texture"===n){const{image:n,sampler:i,format:o="rgba"}=t,u={data:n,min:"linear",mag:"linear",wrapS:"repeat",wrapT:"repeat",format:o};i&&(void 0!==i.minFilter&&(u.min=a.MIN_FILTER[i.minFilter]),void 0!==i.magFilter&&(u.mag=a.MAG_FILTER[i.magFilter]),void 0!==i.wrapS&&(u.wrapS=a.WRAP_S[i.wrapS]),void 0!==i.wrapT&&(u.wrapT=a.WRAP_T[i.wrapT])),this.uniforms[e]=r.texture(u),this.textures.push(this.uniforms[e])}else this.uniforms[e]=t}addDefine(e,t){this.defines[e]=t}setIndices(e){this.indices={data:e}}buildDrawCommand(){this.drawCommand=this._renderer.createDrawCommand({attributes:this.attributes,uniforms:this.uniforms,defines:this.defines,indices:this.indices,cullFace:this.cullFace})}clean(){this.attributes={},this.defines={...s},this.textures.forEach(e=>{e.destroy()}),this.textures=[],this.uniforms={}}async draw(e){const t=o.mat4.create();o.mat4.multiply(t,this.matrix,e);const n=o.mat4.create(),r=o.mat4.create();o.mat4.invert(n,t),o.mat4.transpose(r,n);const i=o.mat4.create();o.mat4.mul(i,this._camera.transform,t),this.mesh&&this.drawCommand({cameraPosition:this._camera.eye,modelMatrix:t,normalMatrix:r,mvpMatrix:i});for(const e of this.children)await e.draw(t)}};r([u.inject(a.SERVICE_IDENTIFIER.GltfService),i("design:type",Object)],l.prototype,"_gltf",void 0),r([u.inject(a.SERVICE_IDENTIFIER.RendererService),i("design:type",Object)],l.prototype,"_renderer",void 0),r([u.inject(a.SERVICE_IDENTIFIER.CameraService),i("design:type",Object)],l.prototype,"_camera",void 0),l=r([u.injectable()],l),t.SceneNode=l},function(e,t,n){"use strict";
/** @license React v16.8.6
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(22),i="function"==typeof Symbol&&Symbol.for,a=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,u=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,d=i?Symbol.for("react.concurrent_mode"):60111,p=i?Symbol.for("react.forward_ref"):60112,h=i?Symbol.for("react.suspense"):60113,m=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116,g="function"==typeof Symbol&&Symbol.iterator;function y(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(e,t,n,r,i,a,o,u){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[n,r,i,a,o,u],l=0;(e=Error(t.replace(/%s/g,function(){return s[l++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_={};function w(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||b}function x(){}function T(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||b}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&y("85"),this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=w.prototype;var E=T.prototype=new x;E.constructor=T,r(E,w.prototype),E.isPureReactComponent=!0;var S={current:null},M={current:null},A=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var r=void 0,i={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)A.call(t,r)&&!C.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:a,type:e,key:o,ref:u,props:i,_owner:M.current}}function O(e){return"object"==typeof e&&null!==e&&e.$$typeof===a}var N=/\/+/g,R=[];function P(e,t,n,r){if(R.length){var i=R.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function I(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>R.length&&R.push(e)}function D(e,t,n){return null==e?0:function e(t,n,r,i){var u=typeof t;"undefined"!==u&&"boolean"!==u||(t=null);var s=!1;if(null===t)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case a:case o:s=!0}}if(s)return r(i,t,""===n?"."+j(t,0):n),1;if(s=0,n=""===n?".":n+":",Array.isArray(t))for(var l=0;l<t.length;l++){var c=n+j(u=t[l],l);s+=e(u,c,r,i)}else if(c=null===t||"object"!=typeof t?null:"function"==typeof(c=g&&t[g]||t["@@iterator"])?c:null,"function"==typeof c)for(t=c.call(t),l=0;!(u=t.next()).done;)s+=e(u=u.value,c=n+j(u,l++),r,i);else"object"===u&&y("31","[object Object]"==(r=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":r,"");return s}(e,"",t,n)}function j(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function L(e,t){e.func.call(e.context,t,e.count++)}function F(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?B(e,r,n,function(e){return e}):null!=e&&(O(e)&&(e=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(N,"$&/")+"/")+n)),r.push(e))}function B(e,t,n,r,i){var a="";null!=n&&(a=(""+n).replace(N,"$&/")+"/"),D(e,F,t=P(t,a,r,i)),I(t)}function U(){var e=S.current;return null===e&&y("321"),e}var z={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return B(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;D(e,L,t=P(null,null,t,n)),I(t)},count:function(e){return D(e,function(){return null},null)},toArray:function(e){var t=[];return B(e,t,null,function(e){return e}),t},only:function(e){return O(e)||y("143"),e}},createRef:function(){return{current:null}},Component:w,PureComponent:T,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:p,render:e}},lazy:function(e){return{$$typeof:v,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:m,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return U().useCallback(e,t)},useContext:function(e,t){return U().useContext(e,t)},useEffect:function(e,t){return U().useEffect(e,t)},useImperativeHandle:function(e,t,n){return U().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return U().useLayoutEffect(e,t)},useMemo:function(e,t){return U().useMemo(e,t)},useReducer:function(e,t,n){return U().useReducer(e,t,n)},useRef:function(e){return U().useRef(e)},useState:function(e){return U().useState(e)},Fragment:u,StrictMode:s,Suspense:h,createElement:k,cloneElement:function(e,t,n){null==e&&y("267",e);var i=void 0,o=r({},e.props),u=e.key,s=e.ref,l=e._owner;if(null!=t){void 0!==t.ref&&(s=t.ref,l=M.current),void 0!==t.key&&(u=""+t.key);var c=void 0;for(i in e.type&&e.type.defaultProps&&(c=e.type.defaultProps),t)A.call(t,i)&&!C.hasOwnProperty(i)&&(o[i]=void 0===t[i]&&void 0!==c?c[i]:t[i])}if(1===(i=arguments.length-2))o.children=n;else if(1<i){c=Array(i);for(var f=0;f<i;f++)c[f]=arguments[f+2];o.children=c}return{$$typeof:a,type:e.type,key:u,ref:s,props:o,_owner:l}},createFactory:function(e){var t=k.bind(null,e);return t.type=e,t},isValidElement:O,version:"16.8.6",unstable_ConcurrentMode:d,unstable_Profiler:l,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:S,ReactCurrentOwner:M,assign:r}},V={default:z},H=V&&z||V;e.exports=H.default||H},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(66)},function(e,t,n){"use strict";
/** @license React v16.8.6
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(21),i=n(22),a=n(67);function o(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(e,t,n,r,i,a,o,u){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[n,r,i,a,o,u],l=0;(e=Error(t.replace(/%s/g,function(){return s[l++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}r||o("227");var u=!1,s=null,l=!1,c=null,f={onError:function(e){u=!0,s=e}};function d(e,t,n,r,i,a,o,l,c){u=!1,s=null,function(e,t,n,r,i,a,o,u,s){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this.onError(e)}}.apply(f,arguments)}var p=null,h={};function m(){if(p)for(var e in h){var t=h[e],n=p.indexOf(e);if(-1<n||o("96",e),!g[n])for(var r in t.extractEvents||o("97",e),g[n]=t,n=t.eventTypes){var i=void 0,a=n[r],u=t,s=r;y.hasOwnProperty(s)&&o("99",s),y[s]=a;var l=a.phasedRegistrationNames;if(l){for(i in l)l.hasOwnProperty(i)&&v(l[i],u,s);i=!0}else a.registrationName?(v(a.registrationName,u,s),i=!0):i=!1;i||o("98",r,e)}}}function v(e,t,n){b[e]&&o("100",e),b[e]=t,_[e]=t.eventTypes[n].dependencies}var g=[],y={},b={},_={},w=null,x=null,T=null;function E(e,t,n){var r=e.type||"unknown-event";e.currentTarget=T(n),function(e,t,n,r,i,a,f,p,h){if(d.apply(this,arguments),u){if(u){var m=s;u=!1,s=null}else o("198"),m=void 0;l||(l=!0,c=m)}}(r,t,void 0,e),e.currentTarget=null}function S(e,t){return null==t&&o("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function M(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var A=null;function C(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)E(e,t[r],n[r]);else t&&E(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}var k={injectEventPluginOrder:function(e){p&&o("101"),p=Array.prototype.slice.call(e),m()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];h.hasOwnProperty(t)&&h[t]===r||(h[t]&&o("102",t),h[t]=r,n=!0)}n&&m()}};function O(e,t){var n=e.stateNode;if(!n)return null;var r=w(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}return e?null:(n&&"function"!=typeof n&&o("231",t,typeof n),n)}function N(e){if(null!==e&&(A=S(A,e)),e=A,A=null,e&&(M(e,C),A&&o("95"),l))throw e=c,l=!1,c=null,e}var R=Math.random().toString(36).slice(2),P="__reactInternalInstance$"+R,I="__reactEventHandlers$"+R;function D(e){if(e[P])return e[P];for(;!e[P];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[P]).tag||6===e.tag?e:null}function j(e){return!(e=e[P])||5!==e.tag&&6!==e.tag?null:e}function L(e){if(5===e.tag||6===e.tag)return e.stateNode;o("33")}function F(e){return e[I]||null}function B(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function U(e,t,n){(t=O(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=S(n._dispatchListeners,t),n._dispatchInstances=S(n._dispatchInstances,e))}function z(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=B(t);for(t=n.length;0<t--;)U(n[t],"captured",e);for(t=0;t<n.length;t++)U(n[t],"bubbled",e)}}function V(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=O(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=S(n._dispatchListeners,t),n._dispatchInstances=S(n._dispatchInstances,e))}function H(e){e&&e.dispatchConfig.registrationName&&V(e._targetInst,null,e)}function G(e){M(e,z)}var q=!("undefined"==typeof window||!window.document||!window.document.createElement);function W(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Y={animationend:W("Animation","AnimationEnd"),animationiteration:W("Animation","AnimationIteration"),animationstart:W("Animation","AnimationStart"),transitionend:W("Transition","TransitionEnd")},X={},$={};function Q(e){if(X[e])return X[e];if(!Y[e])return e;var t,n=Y[e];for(t in n)if(n.hasOwnProperty(t)&&t in $)return X[e]=n[t];return e}q&&($=document.createElement("div").style,"AnimationEvent"in window||(delete Y.animationend.animation,delete Y.animationiteration.animation,delete Y.animationstart.animation),"TransitionEvent"in window||delete Y.transitionend.transition);var K=Q("animationend"),J=Q("animationiteration"),Z=Q("animationstart"),ee=Q("transitionend"),te="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ne=null,re=null,ie=null;function ae(){if(ie)return ie;var e,t,n=re,r=n.length,i="value"in ne?ne.value:ne.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return ie=i.slice(e,1<t?1-t:void 0)}function oe(){return!0}function ue(){return!1}function se(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?oe:ue,this.isPropagationStopped=ue,this}function le(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function ce(e){e instanceof this||o("279"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function fe(e){e.eventPool=[],e.getPooled=le,e.release=ce}i(se.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=oe)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=oe)},persist:function(){this.isPersistent=oe},isPersistent:ue,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=ue,this._dispatchInstances=this._dispatchListeners=null}}),se.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},se.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var a=new t;return i(a,n.prototype),n.prototype=a,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,fe(n),n},fe(se);var de=se.extend({data:null}),pe=se.extend({data:null}),he=[9,13,27,32],me=q&&"CompositionEvent"in window,ve=null;q&&"documentMode"in document&&(ve=document.documentMode);var ge=q&&"TextEvent"in window&&!ve,ye=q&&(!me||ve&&8<ve&&11>=ve),be=String.fromCharCode(32),_e={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},we=!1;function xe(e,t){switch(e){case"keyup":return-1!==he.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Te(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Ee=!1;var Se={eventTypes:_e,extractEvents:function(e,t,n,r){var i=void 0,a=void 0;if(me)e:{switch(e){case"compositionstart":i=_e.compositionStart;break e;case"compositionend":i=_e.compositionEnd;break e;case"compositionupdate":i=_e.compositionUpdate;break e}i=void 0}else Ee?xe(e,n)&&(i=_e.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=_e.compositionStart);return i?(ye&&"ko"!==n.locale&&(Ee||i!==_e.compositionStart?i===_e.compositionEnd&&Ee&&(a=ae()):(re="value"in(ne=r)?ne.value:ne.textContent,Ee=!0)),i=de.getPooled(i,t,n,r),a?i.data=a:null!==(a=Te(n))&&(i.data=a),G(i),a=i):a=null,(e=ge?function(e,t){switch(e){case"compositionend":return Te(t);case"keypress":return 32!==t.which?null:(we=!0,be);case"textInput":return(e=t.data)===be&&we?null:e;default:return null}}(e,n):function(e,t){if(Ee)return"compositionend"===e||!me&&xe(e,t)?(e=ae(),ie=re=ne=null,Ee=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ye&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=pe.getPooled(_e.beforeInput,t,n,r)).data=e,G(t)):t=null,null===a?t:null===t?a:[a,t]}},Me=null,Ae=null,Ce=null;function ke(e){if(e=x(e)){"function"!=typeof Me&&o("280");var t=w(e.stateNode);Me(e.stateNode,e.type,t)}}function Oe(e){Ae?Ce?Ce.push(e):Ce=[e]:Ae=e}function Ne(){if(Ae){var e=Ae,t=Ce;if(Ce=Ae=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Re(e,t){return e(t)}function Pe(e,t,n){return e(t,n)}function Ie(){}var De=!1;function je(e,t){if(De)return e(t);De=!0;try{return Re(e,t)}finally{De=!1,(null!==Ae||null!==Ce)&&(Ie(),Ne())}}var Le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fe(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Le[e.type]:"textarea"===t}function Be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Ue(e){if(!q)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}function ze(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Ve(e){e._valueTracker||(e._valueTracker=function(e){var t=ze(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function He(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ze(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}var Ge=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Ge.hasOwnProperty("ReactCurrentDispatcher")||(Ge.ReactCurrentDispatcher={current:null});var qe=/^(.*)[\\\/]/,We="function"==typeof Symbol&&Symbol.for,Ye=We?Symbol.for("react.element"):60103,Xe=We?Symbol.for("react.portal"):60106,$e=We?Symbol.for("react.fragment"):60107,Qe=We?Symbol.for("react.strict_mode"):60108,Ke=We?Symbol.for("react.profiler"):60114,Je=We?Symbol.for("react.provider"):60109,Ze=We?Symbol.for("react.context"):60110,et=We?Symbol.for("react.concurrent_mode"):60111,tt=We?Symbol.for("react.forward_ref"):60112,nt=We?Symbol.for("react.suspense"):60113,rt=We?Symbol.for("react.memo"):60115,it=We?Symbol.for("react.lazy"):60116,at="function"==typeof Symbol&&Symbol.iterator;function ot(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=at&&e[at]||e["@@iterator"])?e:null}function ut(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case et:return"ConcurrentMode";case $e:return"Fragment";case Xe:return"Portal";case Ke:return"Profiler";case Qe:return"StrictMode";case nt:return"Suspense"}if("object"==typeof e)switch(e.$$typeof){case Ze:return"Context.Consumer";case Je:return"Context.Provider";case tt:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case rt:return ut(e.type);case it:if(e=1===e._status?e._result:null)return ut(e)}return null}function st(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,a=ut(e.type);n=null,r&&(n=ut(r.type)),r=a,a="",i?a=" (at "+i.fileName.replace(qe,"")+":"+i.lineNumber+")":n&&(a=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+a}t+=n,e=e.return}while(e);return t}var lt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ct=Object.prototype.hasOwnProperty,ft={},dt={};function pt(e,t,n,r,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t}var ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ht[e]=new pt(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ht[t]=new pt(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){ht[e]=new pt(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ht[e]=new pt(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ht[e]=new pt(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){ht[e]=new pt(e,3,!0,e,null)}),["capture","download"].forEach(function(e){ht[e]=new pt(e,4,!1,e,null)}),["cols","rows","size","span"].forEach(function(e){ht[e]=new pt(e,6,!1,e,null)}),["rowSpan","start"].forEach(function(e){ht[e]=new pt(e,5,!1,e.toLowerCase(),null)});var mt=/[\-:]([a-z])/g;function vt(e){return e[1].toUpperCase()}function gt(e,t,n,r){var i=ht.hasOwnProperty(t)?ht[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!ct.call(dt,e)||!ct.call(ft,e)&&(lt.test(e)?dt[e]=!0:(ft[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function yt(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function bt(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function _t(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=yt(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function wt(e,t){null!=(t=t.checked)&&gt(e,"checked",t,!1)}function xt(e,t){wt(e,t);var n=yt(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Et(e,t.type,n):t.hasOwnProperty("defaultValue")&&Et(e,t.type,yt(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Tt(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Et(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mt,vt);ht[t]=new pt(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mt,vt);ht[t]=new pt(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mt,vt);ht[t]=new pt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),["tabIndex","crossOrigin"].forEach(function(e){ht[e]=new pt(e,1,!1,e.toLowerCase(),null)});var St={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Mt(e,t,n){return(e=se.getPooled(St.change,e,t,n)).type="change",Oe(n),G(e),e}var At=null,Ct=null;function kt(e){N(e)}function Ot(e){if(He(L(e)))return e}function Nt(e,t){if("change"===e)return t}var Rt=!1;function Pt(){At&&(At.detachEvent("onpropertychange",It),Ct=At=null)}function It(e){"value"===e.propertyName&&Ot(Ct)&&je(kt,e=Mt(Ct,e,Be(e)))}function Dt(e,t,n){"focus"===e?(Pt(),Ct=n,(At=t).attachEvent("onpropertychange",It)):"blur"===e&&Pt()}function jt(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ot(Ct)}function Lt(e,t){if("click"===e)return Ot(t)}function Ft(e,t){if("input"===e||"change"===e)return Ot(t)}q&&(Rt=Ue("input")&&(!document.documentMode||9<document.documentMode));var Bt={eventTypes:St,_isInputEventSupported:Rt,extractEvents:function(e,t,n,r){var i=t?L(t):window,a=void 0,o=void 0,u=i.nodeName&&i.nodeName.toLowerCase();if("select"===u||"input"===u&&"file"===i.type?a=Nt:Fe(i)?Rt?a=Ft:(a=jt,o=Dt):(u=i.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=Lt),a&&(a=a(e,t)))return Mt(a,n,r);o&&o(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Et(i,"number",i.value)}},Ut=se.extend({view:null,detail:null}),zt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=zt[e])&&!!t[e]}function Ht(){return Vt}var Gt=0,qt=0,Wt=!1,Yt=!1,Xt=Ut.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ht,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Gt;return Gt=e.screenX,Wt?"mousemove"===e.type?e.screenX-t:0:(Wt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=qt;return qt=e.screenY,Yt?"mousemove"===e.type?e.screenY-t:0:(Yt=!0,0)}}),$t=Xt.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Qt={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Kt={eventTypes:Qt,extractEvents:function(e,t,n,r){var i="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(i&&(n.relatedTarget||n.fromElement)||!a&&!i)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,a?(a=t,t=(t=n.relatedTarget||n.toElement)?D(t):null):a=null,a===t)return null;var o=void 0,u=void 0,s=void 0,l=void 0;"mouseout"===e||"mouseover"===e?(o=Xt,u=Qt.mouseLeave,s=Qt.mouseEnter,l="mouse"):"pointerout"!==e&&"pointerover"!==e||(o=$t,u=Qt.pointerLeave,s=Qt.pointerEnter,l="pointer");var c=null==a?i:L(a);if(i=null==t?i:L(t),(e=o.getPooled(u,a,n,r)).type=l+"leave",e.target=c,e.relatedTarget=i,(n=o.getPooled(s,t,n,r)).type=l+"enter",n.target=i,n.relatedTarget=c,r=t,a&&r)e:{for(i=r,l=0,o=t=a;o;o=B(o))l++;for(o=0,s=i;s;s=B(s))o++;for(;0<l-o;)t=B(t),l--;for(;0<o-l;)i=B(i),o--;for(;l--;){if(t===i||t===i.alternate)break e;t=B(t),i=B(i)}t=null}else t=null;for(i=t,t=[];a&&a!==i&&(null===(l=a.alternate)||l!==i);)t.push(a),a=B(a);for(a=[];r&&r!==i&&(null===(l=r.alternate)||l!==i);)a.push(r),r=B(r);for(r=0;r<t.length;r++)V(t[r],"bubbled",e);for(r=a.length;0<r--;)V(a[r],"captured",n);return[e,n]}};function Jt(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var Zt=Object.prototype.hasOwnProperty;function en(e,t){if(Jt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Zt.call(t,n[r])||!Jt(e[n[r]],t[n[r]]))return!1;return!0}function tn(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!=(2&t.effectTag))return 1;for(;t.return;)if(0!=(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function nn(e){2!==tn(e)&&o("188")}function rn(e){if(!(e=function(e){var t=e.alternate;if(!t)return 3===(t=tn(e))&&o("188"),1===t?null:e;for(var n=e,r=t;;){var i=n.return,a=i?i.alternate:null;if(!i||!a)break;if(i.child===a.child){for(var u=i.child;u;){if(u===n)return nn(i),e;if(u===r)return nn(i),t;u=u.sibling}o("188")}if(n.return!==r.return)n=i,r=a;else{u=!1;for(var s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}u||o("189")}}n.alternate!==r&&o("190")}return 3!==n.tag&&o("188"),n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var an=se.extend({animationName:null,elapsedTime:null,pseudoElement:null}),on=se.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),un=Ut.extend({relatedTarget:null});function sn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var ln={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fn=Ut.extend({key:function(e){if(e.key){var t=ln[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=sn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?cn[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ht,charCode:function(e){return"keypress"===e.type?sn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?sn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),dn=Xt.extend({dataTransfer:null}),pn=Ut.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ht}),hn=se.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),mn=Xt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),vn=[["abort","abort"],[K,"animationEnd"],[J,"animationIteration"],[Z,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[ee,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],gn={},yn={};function bn(e,t){var n=e[0],r="on"+((e=e[1])[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:t},gn[e]=t,yn[n]=t}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){bn(e,!0)}),vn.forEach(function(e){bn(e,!1)});var _n={eventTypes:gn,isInteractiveTopLevelEventType:function(e){return void 0!==(e=yn[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,r){var i=yn[e];if(!i)return null;switch(e){case"keypress":if(0===sn(n))return null;case"keydown":case"keyup":e=fn;break;case"blur":case"focus":e=un;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Xt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=dn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=pn;break;case K:case J:case Z:e=an;break;case ee:e=hn;break;case"scroll":e=Ut;break;case"wheel":e=mn;break;case"copy":case"cut":case"paste":e=on;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=$t;break;default:e=se}return G(t=e.getPooled(i,t,n,r)),t}},wn=_n.isInteractiveTopLevelEventType,xn=[];function Tn(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;e.ancestors.push(n),n=D(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=Be(e.nativeEvent);r=e.topLevelType;for(var a=e.nativeEvent,o=null,u=0;u<g.length;u++){var s=g[u];s&&(s=s.extractEvents(r,t,a,i))&&(o=S(o,s))}N(o)}}var En=!0;function Sn(e,t){if(!t)return null;var n=(wn(e)?An:Cn).bind(null,e);t.addEventListener(e,n,!1)}function Mn(e,t){if(!t)return null;var n=(wn(e)?An:Cn).bind(null,e);t.addEventListener(e,n,!0)}function An(e,t){Pe(Cn,e,t)}function Cn(e,t){if(En){var n=Be(t);if(null===(n=D(n))||"number"!=typeof n.tag||2===tn(n)||(n=null),xn.length){var r=xn.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{je(Tn,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>xn.length&&xn.push(e)}}}var kn={},On=0,Nn="_reactListenersID"+(""+Math.random()).slice(2);function Rn(e){return Object.prototype.hasOwnProperty.call(e,Nn)||(e[Nn]=On++,kn[e[Nn]]={}),kn[e[Nn]]}function Pn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function In(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dn(e,t){var n,r=In(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=In(r)}}function jn(){for(var e=window,t=Pn();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Pn((e=t.contentWindow).document)}return t}function Ln(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Fn(e){var t=jn(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(n.ownerDocument.documentElement,n)){if(null!==r&&Ln(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=Dn(n,a);var o=Dn(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Bn=q&&"documentMode"in document&&11>=document.documentMode,Un={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},zn=null,Vn=null,Hn=null,Gn=!1;function qn(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Gn||null==zn||zn!==Pn(n)?null:("selectionStart"in(n=zn)&&Ln(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Hn&&en(Hn,n)?null:(Hn=n,(e=se.getPooled(Un.select,Vn,e,t)).type="select",e.target=zn,G(e),e))}var Wn={eventTypes:Un,extractEvents:function(e,t,n,r){var i,a=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!a)){e:{a=Rn(a),i=_.onSelect;for(var o=0;o<i.length;o++){var u=i[o];if(!a.hasOwnProperty(u)||!a[u]){a=!1;break e}}a=!0}i=!a}if(i)return null;switch(a=t?L(t):window,e){case"focus":(Fe(a)||"true"===a.contentEditable)&&(zn=a,Vn=t,Hn=null);break;case"blur":Hn=Vn=zn=null;break;case"mousedown":Gn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Gn=!1,qn(n,r);case"selectionchange":if(Bn)break;case"keydown":case"keyup":return qn(n,r)}return null}};function Yn(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function Xn(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+yt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function $n(e,t){return null!=t.dangerouslySetInnerHTML&&o("91"),i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Qn(e,t){var n=t.value;null==n&&(n=t.defaultValue,null!=(t=t.children)&&(null!=n&&o("92"),Array.isArray(t)&&(1>=t.length||o("93"),t=t[0]),n=t),null==n&&(n="")),e._wrapperState={initialValue:yt(n)}}function Kn(e,t){var n=yt(t.value),r=yt(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Jn(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}k.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w=F,x=j,T=L,k.injectEventPluginsByName({SimpleEventPlugin:_n,EnterLeaveEventPlugin:Kt,ChangeEventPlugin:Bt,SelectEventPlugin:Wn,BeforeInputEventPlugin:Se});var Zn={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function er(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tr(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?er(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var nr,rr=void 0,ir=(nr=function(e,t){if(e.namespaceURI!==Zn.svg||"innerHTML"in e)e.innerHTML=t;else{for((rr=rr||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=rr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return nr(e,t)})}:nr);function ar(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var or={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ur=["Webkit","ms","Moz","O"];function sr(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||or.hasOwnProperty(e)&&or[e]?(""+t).trim():t+"px"}function lr(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=sr(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(or).forEach(function(e){ur.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),or[t]=or[e]})});var cr=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fr(e,t){t&&(cr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&o("137",e,""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&o("60"),"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||o("61")),null!=t.style&&"object"!=typeof t.style&&o("62",""))}function dr(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function pr(e,t){var n=Rn(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=_[t];for(var r=0;r<t.length;r++){var i=t[r];if(!n.hasOwnProperty(i)||!n[i]){switch(i){case"scroll":Mn("scroll",e);break;case"focus":case"blur":Mn("focus",e),Mn("blur",e),n.blur=!0,n.focus=!0;break;case"cancel":case"close":Ue(i)&&Mn(i,e);break;case"invalid":case"submit":case"reset":break;default:-1===te.indexOf(i)&&Sn(i,e)}n[i]=!0}}}function hr(){}var mr=null,vr=null;function gr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function yr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var br="function"==typeof setTimeout?setTimeout:void 0,_r="function"==typeof clearTimeout?clearTimeout:void 0,wr=a.unstable_scheduleCallback,xr=a.unstable_cancelCallback;function Tr(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function Er(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}new Set;var Sr=[],Mr=-1;function Ar(e){0>Mr||(e.current=Sr[Mr],Sr[Mr]=null,Mr--)}function Cr(e,t){Sr[++Mr]=e.current,e.current=t}var kr={},Or={current:kr},Nr={current:!1},Rr=kr;function Pr(e,t){var n=e.type.contextTypes;if(!n)return kr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ir(e){return null!=(e=e.childContextTypes)}function Dr(e){Ar(Nr),Ar(Or)}function jr(e){Ar(Nr),Ar(Or)}function Lr(e,t,n){Or.current!==kr&&o("168"),Cr(Or,t),Cr(Nr,n)}function Fr(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var a in r=r.getChildContext())a in e||o("108",ut(t)||"Unknown",a);return i({},n,r)}function Br(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||kr,Rr=Or.current,Cr(Or,t),Cr(Nr,Nr.current),!0}function Ur(e,t,n){var r=e.stateNode;r||o("169"),n?(t=Fr(e,t,Rr),r.__reactInternalMemoizedMergedChildContext=t,Ar(Nr),Ar(Or),Cr(Or,t)):Ar(Nr),Cr(Nr,n)}var zr=null,Vr=null;function Hr(e){return function(t){try{return e(t)}catch(e){}}}function Gr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.contextDependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function qr(e,t,n,r){return new Gr(e,t,n,r)}function Wr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Yr(e,t){var n=e.alternate;return null===n?((n=qr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,n.contextDependencies=e.contextDependencies,n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Xr(e,t,n,r,i,a){var u=2;if(r=e,"function"==typeof e)Wr(e)&&(u=1);else if("string"==typeof e)u=5;else e:switch(e){case $e:return $r(n.children,i,a,t);case et:return Qr(n,3|i,a,t);case Qe:return Qr(n,2|i,a,t);case Ke:return(e=qr(12,n,t,4|i)).elementType=Ke,e.type=Ke,e.expirationTime=a,e;case nt:return(e=qr(13,n,t,i)).elementType=nt,e.type=nt,e.expirationTime=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Je:u=10;break e;case Ze:u=9;break e;case tt:u=11;break e;case rt:u=14;break e;case it:u=16,r=null;break e}o("130",null==e?e:typeof e,"")}return(t=qr(u,n,t,i)).elementType=e,t.type=r,t.expirationTime=a,t}function $r(e,t,n,r){return(e=qr(7,e,r,t)).expirationTime=n,e}function Qr(e,t,n,r){return e=qr(8,e,r,t),t=0==(1&t)?Qe:et,e.elementType=t,e.type=t,e.expirationTime=n,e}function Kr(e,t,n){return(e=qr(6,e,null,t)).expirationTime=n,e}function Jr(e,t,n){return(t=qr(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zr(e,t){e.didError=!1;var n=e.earliestPendingTime;0===n?e.earliestPendingTime=e.latestPendingTime=t:n<t?e.earliestPendingTime=t:e.latestPendingTime>t&&(e.latestPendingTime=t),ni(t,e)}function ei(e,t){e.didError=!1,e.latestPingedTime>=t&&(e.latestPingedTime=0);var n=e.earliestPendingTime,r=e.latestPendingTime;n===t?e.earliestPendingTime=r===t?e.latestPendingTime=0:r:r===t&&(e.latestPendingTime=n),n=e.earliestSuspendedTime,r=e.latestSuspendedTime,0===n?e.earliestSuspendedTime=e.latestSuspendedTime=t:n<t?e.earliestSuspendedTime=t:r>t&&(e.latestSuspendedTime=t),ni(t,e)}function ti(e,t){var n=e.earliestPendingTime;return n>t&&(t=n),(e=e.earliestSuspendedTime)>t&&(t=e),t}function ni(e,t){var n=t.earliestSuspendedTime,r=t.latestSuspendedTime,i=t.earliestPendingTime,a=t.latestPingedTime;0===(i=0!==i?i:a)&&(0===e||r<e)&&(i=r),0!==(e=i)&&n>e&&(e=n),t.nextExpirationTimeToWorkOn=i,t.expirationTime=e}function ri(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var ii=(new r.Component).refs;function ai(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var oi={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===tn(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=xu(),i=$a(r=$o(r,e));i.payload=t,null!=n&&(i.callback=n),Ho(),Ka(e,i),Jo(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=xu(),i=$a(r=$o(r,e));i.tag=Ha,i.payload=t,null!=n&&(i.callback=n),Ho(),Ka(e,i),Jo(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=xu(),r=$a(n=$o(n,e));r.tag=Ga,null!=t&&(r.callback=t),Ho(),Ka(e,r),Jo(e,n)}};function ui(e,t,n,r,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!en(n,r)||!en(i,a))}function si(e,t,n){var r=!1,i=kr,a=t.contextType;return"object"==typeof a&&null!==a?a=za(a):(i=Ir(t)?Rr:Or.current,a=(r=null!=(r=t.contextTypes))?Pr(e,i):kr),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=oi,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function li(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&oi.enqueueReplaceState(t,t.state,null)}function ci(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ii;var a=t.contextType;"object"==typeof a&&null!==a?i.context=za(a):(a=Ir(t)?Rr:Or.current,i.context=Pr(e,a)),null!==(a=e.updateQueue)&&(to(e,a,n,i,r),i.state=e.memoizedState),"function"==typeof(a=t.getDerivedStateFromProps)&&(ai(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&oi.enqueueReplaceState(i,i.state,null),null!==(a=e.updateQueue)&&(to(e,a,n,i,r),i.state=e.memoizedState)),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var fi=Array.isArray;function di(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){n=n._owner;var r=void 0;n&&(1!==n.tag&&o("309"),r=n.stateNode),r||o("147",e);var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===ii&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}"string"!=typeof e&&o("284"),n._owner||o("290",e)}return e}function pi(e,t){"textarea"!==e.type&&o("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function hi(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t,n){return(e=Yr(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function u(t){return e&&null===t.alternate&&(t.effectTag=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Kr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=di(e,t,n),r.return=e,r):((r=Xr(n.type,n.key,n.props,null,e.mode,r)).ref=di(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Jr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=$r(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Kr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Ye:return(n=Xr(t.type,t.key,t.props,null,e.mode,n)).ref=di(e,null,t),n.return=e,n;case Xe:return(t=Jr(t,e.mode,n)).return=e,t}if(fi(t)||ot(t))return(t=$r(t,e.mode,n,null)).return=e,t;pi(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Ye:return n.key===i?n.type===$e?f(e,t,n.props.children,r,i):l(e,t,n,r):null;case Xe:return n.key===i?c(e,t,n,r):null}if(fi(n)||ot(n))return null!==i?null:f(e,t,n,r,null);pi(e,n)}return null}function h(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Ye:return e=e.get(null===r.key?n:r.key)||null,r.type===$e?f(t,e,r.props.children,i,r.key):l(t,e,r,i);case Xe:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(fi(r)||ot(r))return f(t,e=e.get(n)||null,r,i,null);pi(t,r)}return null}function m(i,o,u,s){for(var l=null,c=null,f=o,m=o=0,v=null;null!==f&&m<u.length;m++){f.index>m?(v=f,f=null):v=f.sibling;var g=p(i,f,u[m],s);if(null===g){null===f&&(f=v);break}e&&f&&null===g.alternate&&t(i,f),o=a(g,o,m),null===c?l=g:c.sibling=g,c=g,f=v}if(m===u.length)return n(i,f),l;if(null===f){for(;m<u.length;m++)(f=d(i,u[m],s))&&(o=a(f,o,m),null===c?l=f:c.sibling=f,c=f);return l}for(f=r(i,f);m<u.length;m++)(v=h(f,i,m,u[m],s))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),o=a(v,o,m),null===c?l=v:c.sibling=v,c=v);return e&&f.forEach(function(e){return t(i,e)}),l}function v(i,u,s,l){var c=ot(s);"function"!=typeof c&&o("150"),null==(s=c.call(s))&&o("151");for(var f=c=null,m=u,v=u=0,g=null,y=s.next();null!==m&&!y.done;v++,y=s.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=p(i,m,y.value,l);if(null===b){m||(m=g);break}e&&m&&null===b.alternate&&t(i,m),u=a(b,u,v),null===f?c=b:f.sibling=b,f=b,m=g}if(y.done)return n(i,m),c;if(null===m){for(;!y.done;v++,y=s.next())null!==(y=d(i,y.value,l))&&(u=a(y,u,v),null===f?c=y:f.sibling=y,f=y);return c}for(m=r(i,m);!y.done;v++,y=s.next())null!==(y=h(m,i,v,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),u=a(y,u,v),null===f?c=y:f.sibling=y,f=y);return e&&m.forEach(function(e){return t(i,e)}),c}return function(e,r,a,s){var l="object"==typeof a&&null!==a&&a.type===$e&&null===a.key;l&&(a=a.props.children);var c="object"==typeof a&&null!==a;if(c)switch(a.$$typeof){case Ye:e:{for(c=a.key,l=r;null!==l;){if(l.key===c){if(7===l.tag?a.type===$e:l.elementType===a.type){n(e,l.sibling),(r=i(l,a.type===$e?a.props.children:a.props)).ref=di(e,l,a),r.return=e,e=r;break e}n(e,l);break}t(e,l),l=l.sibling}a.type===$e?((r=$r(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Xr(a.type,a.key,a.props,null,e.mode,s)).ref=di(e,r,a),s.return=e,e=s)}return u(e);case Xe:e:{for(l=a.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Jr(a,e.mode,s)).return=e,e=r}return u(e)}if("string"==typeof a||"number"==typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Kr(a,e.mode,s)).return=e,e=r),u(e);if(fi(a))return m(e,r,a,s);if(ot(a))return v(e,r,a,s);if(c&&pi(e,a),void 0===a&&!l)switch(e.tag){case 1:case 0:o("152",(s=e.type).displayName||s.name||"Component")}return n(e,r)}}var mi=hi(!0),vi=hi(!1),gi={},yi={current:gi},bi={current:gi},_i={current:gi};function wi(e){return e===gi&&o("174"),e}function xi(e,t){Cr(_i,t),Cr(bi,e),Cr(yi,gi);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:tr(null,"");break;default:t=tr(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}Ar(yi),Cr(yi,t)}function Ti(e){Ar(yi),Ar(bi),Ar(_i)}function Ei(e){wi(_i.current);var t=wi(yi.current),n=tr(t,e.type);t!==n&&(Cr(bi,e),Cr(yi,n))}function Si(e){bi.current===e&&(Ar(yi),Ar(bi))}var Mi=0,Ai=2,Ci=4,ki=8,Oi=16,Ni=32,Ri=64,Pi=128,Ii=Ge.ReactCurrentDispatcher,Di=0,ji=null,Li=null,Fi=null,Bi=null,Ui=null,zi=null,Vi=0,Hi=null,Gi=0,qi=!1,Wi=null,Yi=0;function Xi(){o("321")}function $i(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jt(e[n],t[n]))return!1;return!0}function Qi(e,t,n,r,i,a){if(Di=a,ji=t,Fi=null!==e?e.memoizedState:null,Ii.current=null===Fi?la:ca,t=n(r,i),qi){do{qi=!1,Yi+=1,Fi=null!==e?e.memoizedState:null,zi=Bi,Hi=Ui=Li=null,Ii.current=ca,t=n(r,i)}while(qi);Wi=null,Yi=0}return Ii.current=sa,(e=ji).memoizedState=Bi,e.expirationTime=Vi,e.updateQueue=Hi,e.effectTag|=Gi,e=null!==Li&&null!==Li.next,Di=0,zi=Ui=Bi=Fi=Li=ji=null,Vi=0,Hi=null,Gi=0,e&&o("300"),t}function Ki(){Ii.current=sa,Di=0,zi=Ui=Bi=Fi=Li=ji=null,Vi=0,Hi=null,Gi=0,qi=!1,Wi=null,Yi=0}function Ji(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Ui?Bi=Ui=e:Ui=Ui.next=e,Ui}function Zi(){if(null!==zi)zi=(Ui=zi).next,Fi=null!==(Li=Fi)?Li.next:null;else{null===Fi&&o("310");var e={memoizedState:(Li=Fi).memoizedState,baseState:Li.baseState,queue:Li.queue,baseUpdate:Li.baseUpdate,next:null};Ui=null===Ui?Bi=e:Ui.next=e,Fi=Li.next}return Ui}function ea(e,t){return"function"==typeof t?t(e):t}function ta(e){var t=Zi(),n=t.queue;if(null===n&&o("311"),n.lastRenderedReducer=e,0<Yi){var r=n.dispatch;if(null!==Wi){var i=Wi.get(n);if(void 0!==i){Wi.delete(n);var a=t.memoizedState;do{a=e(a,i.action),i=i.next}while(null!==i);return Jt(a,t.memoizedState)||(wa=!0),t.memoizedState=a,t.baseUpdate===n.last&&(t.baseState=a),n.lastRenderedState=a,[a,r]}}return[t.memoizedState,r]}r=n.last;var u=t.baseUpdate;if(a=t.baseState,null!==u?(null!==r&&(r.next=null),r=u.next):r=null!==r?r.next:null,null!==r){var s=i=null,l=r,c=!1;do{var f=l.expirationTime;f<Di?(c||(c=!0,s=u,i=a),f>Vi&&(Vi=f)):a=l.eagerReducer===e?l.eagerState:e(a,l.action),u=l,l=l.next}while(null!==l&&l!==r);c||(s=u,i=a),Jt(a,t.memoizedState)||(wa=!0),t.memoizedState=a,t.baseUpdate=s,t.baseState=i,n.lastRenderedState=a}return[t.memoizedState,n.dispatch]}function na(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===Hi?(Hi={lastEffect:null}).lastEffect=e.next=e:null===(t=Hi.lastEffect)?Hi.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,Hi.lastEffect=e),e}function ra(e,t,n,r){var i=Ji();Gi|=e,i.memoizedState=na(t,n,void 0,void 0===r?null:r)}function ia(e,t,n,r){var i=Zi();r=void 0===r?null:r;var a=void 0;if(null!==Li){var o=Li.memoizedState;if(a=o.destroy,null!==r&&$i(r,o.deps))return void na(Mi,n,a,r)}Gi|=e,i.memoizedState=na(t,n,a,r)}function aa(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function oa(){}function ua(e,t,n){25>Yi||o("301");var r=e.alternate;if(e===ji||null!==r&&r===ji)if(qi=!0,e={expirationTime:Di,action:n,eagerReducer:null,eagerState:null,next:null},null===Wi&&(Wi=new Map),void 0===(n=Wi.get(t)))Wi.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{Ho();var i=xu(),a={expirationTime:i=$o(i,e),action:n,eagerReducer:null,eagerState:null,next:null},u=t.last;if(null===u)a.next=a;else{var s=u.next;null!==s&&(a.next=s),u.next=a}if(t.last=a,0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.lastRenderedReducer))try{var l=t.lastRenderedState,c=r(l,n);if(a.eagerReducer=r,a.eagerState=c,Jt(c,l))return}catch(e){}Jo(e,i)}}var sa={readContext:za,useCallback:Xi,useContext:Xi,useEffect:Xi,useImperativeHandle:Xi,useLayoutEffect:Xi,useMemo:Xi,useReducer:Xi,useRef:Xi,useState:Xi,useDebugValue:Xi},la={readContext:za,useCallback:function(e,t){return Ji().memoizedState=[e,void 0===t?null:t],e},useContext:za,useEffect:function(e,t){return ra(516,Pi|Ri,e,t)},useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ra(4,Ci|Ni,aa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ra(4,Ci|Ni,e,t)},useMemo:function(e,t){var n=Ji();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ji();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ua.bind(null,ji,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ji().memoizedState=e},useState:function(e){var t=Ji();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:ea,lastRenderedState:e}).dispatch=ua.bind(null,ji,e),[t.memoizedState,e]},useDebugValue:oa},ca={readContext:za,useCallback:function(e,t){var n=Zi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&$i(t,r[1])?r[0]:(n.memoizedState=[e,t],e)},useContext:za,useEffect:function(e,t){return ia(516,Pi|Ri,e,t)},useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ia(4,Ci|Ni,aa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ia(4,Ci|Ni,e,t)},useMemo:function(e,t){var n=Zi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&$i(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:ta,useRef:function(){return Zi().memoizedState},useState:function(e){return ta(ea)},useDebugValue:oa},fa=null,da=null,pa=!1;function ha(e,t){var n=qr(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function ma(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function va(e){if(pa){var t=da;if(t){var n=t;if(!ma(e,t)){if(!(t=Tr(n))||!ma(e,t))return e.effectTag|=2,pa=!1,void(fa=e);ha(fa,n)}fa=e,da=Er(t)}else e.effectTag|=2,pa=!1,fa=e}}function ga(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&18!==e.tag;)e=e.return;fa=e}function ya(e){if(e!==fa)return!1;if(!pa)return ga(e),pa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!yr(t,e.memoizedProps))for(t=da;t;)ha(e,t),t=Tr(t);return ga(e),da=fa?Tr(e.stateNode):null,!0}function ba(){da=fa=null,pa=!1}var _a=Ge.ReactCurrentOwner,wa=!1;function xa(e,t,n,r){t.child=null===e?vi(t,null,n,r):mi(t,e.child,n,r)}function Ta(e,t,n,r,i){n=n.render;var a=t.ref;return Ua(t,i),r=Qi(e,t,n,r,a,i),null===e||wa?(t.effectTag|=1,xa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Ra(e,t,i))}function Ea(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!=typeof o||Wr(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Xr(n.type,null,r,null,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Sa(e,t,o,r,i,a))}return o=e.child,i<a&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:en)(i,r)&&e.ref===t.ref)?Ra(e,t,a):(t.effectTag|=1,(e=Yr(o,r)).ref=t.ref,e.return=t,t.child=e)}function Sa(e,t,n,r,i,a){return null!==e&&en(e.memoizedProps,r)&&e.ref===t.ref&&(wa=!1,i<a)?Ra(e,t,a):Aa(e,t,n,r,a)}function Ma(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Aa(e,t,n,r,i){var a=Ir(n)?Rr:Or.current;return a=Pr(t,a),Ua(t,i),n=Qi(e,t,n,r,a,i),null===e||wa?(t.effectTag|=1,xa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Ra(e,t,i))}function Ca(e,t,n,r,i){if(Ir(n)){var a=!0;Br(t)}else a=!1;if(Ua(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),si(t,n,r),ci(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,l=n.contextType;"object"==typeof l&&null!==l?l=za(l):l=Pr(t,l=Ir(n)?Rr:Or.current);var c=n.getDerivedStateFromProps,f="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;f||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(u!==r||s!==l)&&li(t,o,r,l),Wa=!1;var d=t.memoizedState;s=o.state=d;var p=t.updateQueue;null!==p&&(to(t,p,r,o,i),s=t.memoizedState),u!==r||d!==s||Nr.current||Wa?("function"==typeof c&&(ai(t,n,c,r),s=t.memoizedState),(u=Wa||ui(t,n,u,r,d,s,l))?(f||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.effectTag|=4)):("function"==typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=l,r=u):("function"==typeof o.componentDidMount&&(t.effectTag|=4),r=!1)}else o=t.stateNode,u=t.memoizedProps,o.props=t.type===t.elementType?u:ri(t.type,u),s=o.context,"object"==typeof(l=n.contextType)&&null!==l?l=za(l):l=Pr(t,l=Ir(n)?Rr:Or.current),(f="function"==typeof(c=n.getDerivedStateFromProps)||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(u!==r||s!==l)&&li(t,o,r,l),Wa=!1,s=t.memoizedState,d=o.state=s,null!==(p=t.updateQueue)&&(to(t,p,r,o,i),d=t.memoizedState),u!==r||s!==d||Nr.current||Wa?("function"==typeof c&&(ai(t,n,c,r),d=t.memoizedState),(c=Wa||ui(t,n,u,r,s,d,l))?(f||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,d,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,d,l)),"function"==typeof o.componentDidUpdate&&(t.effectTag|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof o.componentDidUpdate||u===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=d),o.props=r,o.state=d,o.context=l,r=c):("function"!=typeof o.componentDidUpdate||u===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=256),r=!1);return ka(e,t,n,r,a,i)}function ka(e,t,n,r,i,a){Ma(e,t);var o=0!=(64&t.effectTag);if(!r&&!o)return i&&Ur(t,n,!1),Ra(e,t,a);r=t.stateNode,_a.current=t;var u=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&o?(t.child=mi(t,e.child,null,a),t.child=mi(t,null,u,a)):xa(e,t,u,a),t.memoizedState=r.state,i&&Ur(t,n,!0),t.child}function Oa(e){var t=e.stateNode;t.pendingContext?Lr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Lr(0,t.context,!1),xi(e,t.containerInfo)}function Na(e,t,n){var r=t.mode,i=t.pendingProps,a=t.memoizedState;if(0==(64&t.effectTag)){a=null;var o=!1}else a={timedOutAt:null!==a?a.timedOutAt:0},o=!0,t.effectTag&=-65;if(null===e)if(o){var u=i.fallback;e=$r(null,r,0,null),0==(1&t.mode)&&(e.child=null!==t.memoizedState?t.child.child:t.child),r=$r(u,r,n,null),e.sibling=r,(n=e).return=r.return=t}else n=r=vi(t,null,i.children,n);else null!==e.memoizedState?(u=(r=e.child).sibling,o?(n=i.fallback,i=Yr(r,r.pendingProps),0==(1&t.mode)&&((o=null!==t.memoizedState?t.child.child:t.child)!==r.child&&(i.child=o)),r=i.sibling=Yr(u,n,u.expirationTime),n=i,i.childExpirationTime=0,n.return=r.return=t):n=r=mi(t,r.child,i.children,n)):(u=e.child,o?(o=i.fallback,(i=$r(null,r,0,null)).child=u,0==(1&t.mode)&&(i.child=null!==t.memoizedState?t.child.child:t.child),(r=i.sibling=$r(o,r,n,null)).effectTag|=2,n=i,i.childExpirationTime=0,n.return=r.return=t):r=n=mi(t,u,i.children,n)),t.stateNode=e.stateNode;return t.memoizedState=a,t.child=n,r}function Ra(e,t,n){if(null!==e&&(t.contextDependencies=e.contextDependencies),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child&&o("153"),null!==t.child){for(n=Yr(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Yr(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function Pa(e,t,n){var r=t.expirationTime;if(null!==e){if(e.memoizedProps!==t.pendingProps||Nr.current)wa=!0;else if(r<n){switch(wa=!1,t.tag){case 3:Oa(t),ba();break;case 5:Ei(t);break;case 1:Ir(t.type)&&Br(t);break;case 4:xi(t,t.stateNode.containerInfo);break;case 10:Fa(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Na(e,t,n):null!==(t=Ra(e,t,n))?t.sibling:null}return Ra(e,t,n)}}else wa=!1;switch(t.expirationTime=0,t.tag){case 2:r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps;var i=Pr(t,Or.current);if(Ua(t,n),i=Qi(null,t,r,e,i,n),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,Ki(),Ir(r)){var a=!0;Br(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var u=r.getDerivedStateFromProps;"function"==typeof u&&ai(t,r,u,e),i.updater=oi,t.stateNode=i,i._reactInternalFiber=t,ci(t,r,e,n),t=ka(null,t,r,!0,a,n)}else t.tag=0,xa(null,t,i,n),t=t.child;return t;case 16:switch(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),a=t.pendingProps,e=function(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:switch(e._status=0,(t=(t=e._ctor)()).then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)}),e._status){case 1:return e._result;case 2:throw e._result}throw e._result=t,t}}(i),t.type=e,i=t.tag=function(e){if("function"==typeof e)return Wr(e)?1:0;if(null!=e){if((e=e.$$typeof)===tt)return 11;if(e===rt)return 14}return 2}(e),a=ri(e,a),u=void 0,i){case 0:u=Aa(null,t,e,a,n);break;case 1:u=Ca(null,t,e,a,n);break;case 11:u=Ta(null,t,e,a,n);break;case 14:u=Ea(null,t,e,ri(e.type,a),r,n);break;default:o("306",e,"")}return u;case 0:return r=t.type,i=t.pendingProps,Aa(e,t,r,i=t.elementType===r?i:ri(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ca(e,t,r,i=t.elementType===r?i:ri(r,i),n);case 3:return Oa(t),null===(r=t.updateQueue)&&o("282"),i=null!==(i=t.memoizedState)?i.element:null,to(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===i?(ba(),t=Ra(e,t,n)):(i=t.stateNode,(i=(null===e||null===e.child)&&i.hydrate)&&(da=Er(t.stateNode.containerInfo),fa=t,i=pa=!0),i?(t.effectTag|=2,t.child=vi(t,null,r,n)):(xa(e,t,r,n),ba()),t=t.child),t;case 5:return Ei(t),null===e&&va(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,yr(r,i)?u=null:null!==a&&yr(r,a)&&(t.effectTag|=16),Ma(e,t),1!==n&&1&t.mode&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(xa(e,t,u,n),t=t.child),t;case 6:return null===e&&va(t),null;case 13:return Na(e,t,n);case 4:return xi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=mi(t,null,r,n):xa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:ri(r,i),n);case 7:return xa(e,t,t.pendingProps,n),t.child;case 8:case 12:return xa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,u=t.memoizedProps,Fa(t,a=i.value),null!==u){var s=u.value;if(0===(a=Jt(s,a)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!Nr.current){t=Ra(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.contextDependencies;if(null!==l){u=s.child;for(var c=l.first;null!==c;){if(c.context===r&&0!=(c.observedBits&a)){1===s.tag&&((c=$a(n)).tag=Ga,Ka(s,c)),s.expirationTime<n&&(s.expirationTime=n),null!==(c=s.alternate)&&c.expirationTime<n&&(c.expirationTime=n),c=n;for(var f=s.return;null!==f;){var d=f.alternate;if(f.childExpirationTime<c)f.childExpirationTime=c,null!==d&&d.childExpirationTime<c&&(d.childExpirationTime=c);else{if(!(null!==d&&d.childExpirationTime<c))break;d.childExpirationTime=c}f=f.return}l.expirationTime<n&&(l.expirationTime=n);break}c=c.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}}xa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,Ua(t,n),r=r(i=za(i,a.unstable_observedBits)),t.effectTag|=1,xa(e,t,r,n),t.child;case 14:return a=ri(i=t.type,t.pendingProps),Ea(e,t,i,a=ri(i.type,a),r,n);case 15:return Sa(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ri(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Ir(r)?(e=!0,Br(t)):e=!1,Ua(t,n),si(t,r,i),ci(t,r,i,n),ka(null,t,r,!0,e,n)}o("156")}var Ia={current:null},Da=null,ja=null,La=null;function Fa(e,t){var n=e.type._context;Cr(Ia,n._currentValue),n._currentValue=t}function Ba(e){var t=Ia.current;Ar(Ia),e.type._context._currentValue=t}function Ua(e,t){Da=e,La=ja=null;var n=e.contextDependencies;null!==n&&n.expirationTime>=t&&(wa=!0),e.contextDependencies=null}function za(e,t){return La!==e&&!1!==t&&0!==t&&("number"==typeof t&&1073741823!==t||(La=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ja?(null===Da&&o("308"),ja=t,Da.contextDependencies={first:t,expirationTime:0}):ja=ja.next=t),e._currentValue}var Va=0,Ha=1,Ga=2,qa=3,Wa=!1;function Ya(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Xa(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function $a(e){return{expirationTime:e,tag:Va,payload:null,callback:null,next:null,nextEffect:null}}function Qa(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function Ka(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,i=null;null===r&&(r=e.updateQueue=Ya(e.memoizedState))}else r=e.updateQueue,i=n.updateQueue,null===r?null===i?(r=e.updateQueue=Ya(e.memoizedState),i=n.updateQueue=Ya(n.memoizedState)):r=e.updateQueue=Xa(i):null===i&&(i=n.updateQueue=Xa(r));null===i||r===i?Qa(r,t):null===r.lastUpdate||null===i.lastUpdate?(Qa(r,t),Qa(i,t)):(Qa(r,t),i.lastUpdate=t)}function Ja(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=Ya(e.memoizedState):Za(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function Za(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=Xa(t)),t}function eo(e,t,n,r,a,o){switch(n.tag){case Ha:return"function"==typeof(e=n.payload)?e.call(o,r,a):e;case qa:e.effectTag=-2049&e.effectTag|64;case Va:if(null==(a="function"==typeof(e=n.payload)?e.call(o,r,a):e))break;return i({},r,a);case Ga:Wa=!0}return r}function to(e,t,n,r,i){Wa=!1;for(var a=(t=Za(e,t)).baseState,o=null,u=0,s=t.firstUpdate,l=a;null!==s;){var c=s.expirationTime;c<i?(null===o&&(o=s,a=l),u<c&&(u=c)):(l=eo(e,0,s,l,n,r),null!==s.callback&&(e.effectTag|=32,s.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=s:(t.lastEffect.nextEffect=s,t.lastEffect=s))),s=s.next}for(c=null,s=t.firstCapturedUpdate;null!==s;){var f=s.expirationTime;f<i?(null===c&&(c=s,null===o&&(a=l)),u<f&&(u=f)):(l=eo(e,0,s,l,n,r),null!==s.callback&&(e.effectTag|=32,s.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=s:(t.lastCapturedEffect.nextEffect=s,t.lastCapturedEffect=s))),s=s.next}null===o&&(t.lastUpdate=null),null===c?t.lastCapturedUpdate=null:e.effectTag|=32,null===o&&null===c&&(a=l),t.baseState=a,t.firstUpdate=o,t.firstCapturedUpdate=c,e.expirationTime=u,e.memoizedState=l}function no(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),ro(t.firstEffect,n),t.firstEffect=t.lastEffect=null,ro(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function ro(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;"function"!=typeof n&&o("191",n),n.call(r)}e=e.nextEffect}}function io(e,t){return{value:e,source:t,stack:st(t)}}function ao(e){e.effectTag|=4}var oo=void 0,uo=void 0,so=void 0,lo=void 0;oo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},uo=function(){},so=function(e,t,n,r,a){var o=e.memoizedProps;if(o!==r){var u=t.stateNode;switch(wi(yi.current),e=null,n){case"input":o=bt(u,o),r=bt(u,r),e=[];break;case"option":o=Yn(u,o),r=Yn(u,r),e=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":o=$n(u,o),r=$n(u,r),e=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(u.onclick=hr)}fr(n,r),u=n=void 0;var s=null;for(n in o)if(!r.hasOwnProperty(n)&&o.hasOwnProperty(n)&&null!=o[n])if("style"===n){var l=o[n];for(u in l)l.hasOwnProperty(u)&&(s||(s={}),s[u]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(b.hasOwnProperty(n)?e||(e=[]):(e=e||[]).push(n,null));for(n in r){var c=r[n];if(l=null!=o?o[n]:void 0,r.hasOwnProperty(n)&&c!==l&&(null!=c||null!=l))if("style"===n)if(l){for(u in l)!l.hasOwnProperty(u)||c&&c.hasOwnProperty(u)||(s||(s={}),s[u]="");for(u in c)c.hasOwnProperty(u)&&l[u]!==c[u]&&(s||(s={}),s[u]=c[u])}else s||(e||(e=[]),e.push(n,s)),s=c;else"dangerouslySetInnerHTML"===n?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(e=e||[]).push(n,""+c)):"children"===n?l===c||"string"!=typeof c&&"number"!=typeof c||(e=e||[]).push(n,""+c):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(b.hasOwnProperty(n)?(null!=c&&pr(a,n),e||l===c||(e=[])):(e=e||[]).push(n,c))}s&&(e=e||[]).push("style",s),a=e,(t.updateQueue=a)&&ao(t)}},lo=function(e,t,n,r){n!==r&&ao(t)};var co="function"==typeof WeakSet?WeakSet:Set;function fo(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=st(n)),null!==n&&ut(n.type),t=t.value,null!==e&&1===e.tag&&ut(e.type);try{console.error(t)}catch(e){setTimeout(function(){throw e})}}function po(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Xo(e,t)}else t.current=null}function ho(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if((r.tag&e)!==Mi){var i=r.destroy;r.destroy=void 0,void 0!==i&&i()}(r.tag&t)!==Mi&&(i=r.create,r.destroy=i()),r=r.next}while(r!==n)}}function mo(e){switch("function"==typeof Vr&&Vr(e),e.tag){case 0:case 11:case 14:case 15:var t=e.updateQueue;if(null!==t&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n.destroy;if(void 0!==r){var i=e;try{r()}catch(e){Xo(i,e)}}n=n.next}while(n!==t)}break;case 1:if(po(e),"function"==typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Xo(e,t)}break;case 5:po(e);break;case 4:yo(e)}}function vo(e){return 5===e.tag||3===e.tag||4===e.tag}function go(e){e:{for(var t=e.return;null!==t;){if(vo(t)){var n=t;break e}t=t.return}o("160"),n=void 0}var r=t=void 0;switch(n.tag){case 5:t=n.stateNode,r=!1;break;case 3:case 4:t=n.stateNode.containerInfo,r=!0;break;default:o("161")}16&n.effectTag&&(ar(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||vo(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var i=e;;){if(5===i.tag||6===i.tag)if(n)if(r){var a=t,u=i.stateNode,s=n;8===a.nodeType?a.parentNode.insertBefore(u,s):a.insertBefore(u,s)}else t.insertBefore(i.stateNode,n);else r?(u=t,s=i.stateNode,8===u.nodeType?(a=u.parentNode).insertBefore(s,u):(a=u).appendChild(s),null!=(u=u._reactRootContainer)||null!==a.onclick||(a.onclick=hr)):t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function yo(e){for(var t=e,n=!1,r=void 0,i=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&o("160"),n.tag){case 5:r=n.stateNode,i=!1;break e;case 3:case 4:r=n.stateNode.containerInfo,i=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag){e:for(var a=t,u=a;;)if(mo(u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===a)break;for(;null===u.sibling;){if(null===u.return||u.return===a)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}i?(a=r,u=t.stateNode,8===a.nodeType?a.parentNode.removeChild(u):a.removeChild(u)):r.removeChild(t.stateNode)}else if(4===t.tag){if(null!==t.child){r=t.stateNode.containerInfo,i=!0,t.child.return=t,t=t.child;continue}}else if(mo(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;4===(t=t.return).tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}function bo(e,t){switch(t.tag){case 0:case 11:case 14:case 15:ho(Ci,ki,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,a=t.updateQueue;t.updateQueue=null,null!==a&&function(e,t,n,r,i){e[I]=i,"input"===n&&"radio"===i.type&&null!=i.name&&wt(e,i),dr(n,r),r=dr(n,i);for(var a=0;a<t.length;a+=2){var o=t[a],u=t[a+1];"style"===o?lr(e,u):"dangerouslySetInnerHTML"===o?ir(e,u):"children"===o?ar(e,u):gt(e,o,u,r)}switch(n){case"input":xt(e,i);break;case"textarea":Kn(e,i);break;case"select":t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!i.multiple,null!=(n=i.value)?Xn(e,!!i.multiple,n,!1):t!==!!i.multiple&&(null!=i.defaultValue?Xn(e,!!i.multiple,i.defaultValue,!0):Xn(e,!!i.multiple,i.multiple?[]:"",!1))}}(n,a,i,e,r)}break;case 6:null===t.stateNode&&o("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 12:break;case 13:if(n=t.memoizedState,r=void 0,e=t,null===n?r=!1:(r=!0,e=t.child,0===n.timedOutAt&&(n.timedOutAt=xu())),null!==e&&function(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)r.style.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=sr("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else{if(13===n.tag&&null!==n.memoizedState){(r=n.child.sibling).return=n,n=r;continue}if(null!==n.child){n.child.return=n,n=n.child;continue}}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}(e,r),null!==(n=t.updateQueue)){t.updateQueue=null;var u=t.stateNode;null===u&&(u=t.stateNode=new co),n.forEach(function(e){var n=function(e,t){var n=e.stateNode;null!==n&&n.delete(t),t=$o(t=xu(),e),null!==(e=Ko(e,t))&&(Zr(e,t),0!==(t=e.expirationTime)&&Tu(e,t))}.bind(null,t,e);u.has(e)||(u.add(e),e.then(n,n))})}break;case 17:break;default:o("163")}}var _o="function"==typeof WeakMap?WeakMap:Map;function wo(e,t,n){(n=$a(n)).tag=qa,n.payload={element:null};var r=t.value;return n.callback=function(){Ru(r),fo(e,t)},n}function xo(e,t,n){(n=$a(n)).tag=qa;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Fo?Fo=new Set([this]):Fo.add(this));var n=t.value,i=t.stack;fo(e,t),this.componentDidCatch(n,{componentStack:null!==i?i:""})}),n}function To(e){switch(e.tag){case 1:Ir(e.type)&&Dr();var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:return Ti(),jr(),0!=(64&(t=e.effectTag))&&o("285"),e.effectTag=-2049&t|64,e;case 5:return Si(e),null;case 13:return 2048&(t=e.effectTag)?(e.effectTag=-2049&t|64,e):null;case 18:return null;case 4:return Ti(),null;case 10:return Ba(e),null;default:return null}}var Eo=Ge.ReactCurrentDispatcher,So=Ge.ReactCurrentOwner,Mo=1073741822,Ao=!1,Co=null,ko=null,Oo=0,No=-1,Ro=!1,Po=null,Io=!1,Do=null,jo=null,Lo=null,Fo=null;function Bo(){if(null!==Co)for(var e=Co.return;null!==e;){var t=e;switch(t.tag){case 1:var n=t.type.childContextTypes;null!=n&&Dr();break;case 3:Ti(),jr();break;case 5:Si(t);break;case 4:Ti();break;case 10:Ba(t)}e=e.return}ko=null,Oo=0,No=-1,Ro=!1,Co=null}function Uo(){for(;null!==Po;){var e=Po.effectTag;if(16&e&&ar(Po.stateNode,""),128&e){var t=Po.alternate;null!==t&&(null!==(t=t.ref)&&("function"==typeof t?t(null):t.current=null))}switch(14&e){case 2:go(Po),Po.effectTag&=-3;break;case 6:go(Po),Po.effectTag&=-3,bo(Po.alternate,Po);break;case 4:bo(Po.alternate,Po);break;case 8:yo(e=Po),e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,null!==(e=e.alternate)&&(e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null)}Po=Po.nextEffect}}function zo(){for(;null!==Po;){if(256&Po.effectTag)e:{var e=Po.alternate,t=Po;switch(t.tag){case 0:case 11:case 15:ho(Ai,Mi,t);break e;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:ri(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}break e;case 3:case 5:case 6:case 4:case 17:break e;default:o("163")}}Po=Po.nextEffect}}function Vo(e,t){for(;null!==Po;){var n=Po.effectTag;if(36&n){var r=Po.alternate,i=Po,a=t;switch(i.tag){case 0:case 11:case 15:ho(Oi,Ni,i);break;case 1:var u=i.stateNode;if(4&i.effectTag)if(null===r)u.componentDidMount();else{var s=i.elementType===i.type?r.memoizedProps:ri(i.type,r.memoizedProps);u.componentDidUpdate(s,r.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}null!==(r=i.updateQueue)&&no(0,r,u);break;case 3:if(null!==(r=i.updateQueue)){if(u=null,null!==i.child)switch(i.child.tag){case 5:u=i.child.stateNode;break;case 1:u=i.child.stateNode}no(0,r,u)}break;case 5:a=i.stateNode,null===r&&4&i.effectTag&&gr(i.type,i.memoizedProps)&&a.focus();break;case 6:case 4:case 12:case 13:case 17:break;default:o("163")}}128&n&&(null!==(i=Po.ref)&&(a=Po.stateNode,"function"==typeof i?i(a):i.current=a)),512&n&&(Do=e),Po=Po.nextEffect}}function Ho(){null!==jo&&xr(jo),null!==Lo&&Lo()}function Go(e,t){Io=Ao=!0,e.current===t&&o("177");var n=e.pendingCommitExpirationTime;0===n&&o("261"),e.pendingCommitExpirationTime=0;var r=t.expirationTime,i=t.childExpirationTime;for(function(e,t){if(e.didError=!1,0===t)e.earliestPendingTime=0,e.latestPendingTime=0,e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0;else{t<e.latestPingedTime&&(e.latestPingedTime=0);var n=e.latestPendingTime;0!==n&&(n>t?e.earliestPendingTime=e.latestPendingTime=0:e.earliestPendingTime>t&&(e.earliestPendingTime=e.latestPendingTime)),0===(n=e.earliestSuspendedTime)?Zr(e,t):t<e.latestSuspendedTime?(e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0,Zr(e,t)):t>n&&Zr(e,t)}ni(0,e)}(e,i>r?i:r),So.current=null,r=void 0,1<t.effectTag?null!==t.lastEffect?(t.lastEffect.nextEffect=t,r=t.firstEffect):r=t:r=t.firstEffect,mr=En,vr=function(){var e=jn();if(Ln(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(t=(t=e.ownerDocument)&&t.defaultView||window).getSelection&&t.getSelection();if(n&&0!==n.rangeCount){t=n.anchorNode;var r=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{t.nodeType,i.nodeType}catch(e){t=null;break e}var a=0,o=-1,u=-1,s=0,l=0,c=e,f=null;t:for(;;){for(var d;c!==t||0!==r&&3!==c.nodeType||(o=a+r),c!==i||0!==n&&3!==c.nodeType||(u=a+n),3===c.nodeType&&(a+=c.nodeValue.length),null!==(d=c.firstChild);)f=c,c=d;for(;;){if(c===e)break t;if(f===t&&++s===r&&(o=a),f===i&&++l===n&&(u=a),null!==(d=c.nextSibling))break;f=(c=f).parentNode}c=d}t=-1===o||-1===u?null:{start:o,end:u}}else t=null}t=t||{start:0,end:0}}else t=null;return{focusedElem:e,selectionRange:t}}(),En=!1,Po=r;null!==Po;){i=!1;var u=void 0;try{zo()}catch(e){i=!0,u=e}i&&(null===Po&&o("178"),Xo(Po,u),null!==Po&&(Po=Po.nextEffect))}for(Po=r;null!==Po;){i=!1,u=void 0;try{Uo()}catch(e){i=!0,u=e}i&&(null===Po&&o("178"),Xo(Po,u),null!==Po&&(Po=Po.nextEffect))}for(Fn(vr),vr=null,En=!!mr,mr=null,e.current=t,Po=r;null!==Po;){i=!1,u=void 0;try{Vo(e,n)}catch(e){i=!0,u=e}i&&(null===Po&&o("178"),Xo(Po,u),null!==Po&&(Po=Po.nextEffect))}if(null!==r&&null!==Do){var s=function(e,t){Lo=jo=Do=null;var n=iu;iu=!0;do{if(512&t.effectTag){var r=!1,i=void 0;try{var a=t;ho(Pi,Mi,a),ho(Mi,Ri,a)}catch(e){r=!0,i=e}r&&Xo(t,i)}t=t.nextEffect}while(null!==t);iu=n,0!==(n=e.expirationTime)&&Tu(e,n),cu||iu||Cu(1073741823,!1)}.bind(null,e,r);jo=a.unstable_runWithPriority(a.unstable_NormalPriority,function(){return wr(s)}),Lo=s}Ao=Io=!1,"function"==typeof zr&&zr(t.stateNode),n=t.expirationTime,0===(t=(t=t.childExpirationTime)>n?t:n)&&(Fo=null),function(e,t){e.expirationTime=t,e.finishedWork=null}(e,t)}function qo(e){for(;;){var t=e.alternate,n=e.return,r=e.sibling;if(0==(1024&e.effectTag)){Co=e;e:{var a=t,u=Oo,s=(t=e).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:Ir(t.type)&&Dr();break;case 3:Ti(),jr(),(s=t.stateNode).pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),null!==a&&null!==a.child||(ya(t),t.effectTag&=-3),uo(t);break;case 5:Si(t);var l=wi(_i.current);if(u=t.type,null!==a&&null!=t.stateNode)so(a,t,u,s,l),a.ref!==t.ref&&(t.effectTag|=128);else if(s){var c=wi(yi.current);if(ya(t)){a=(s=t).stateNode;var f=s.type,d=s.memoizedProps,p=l;switch(a[P]=s,a[I]=d,u=void 0,l=f){case"iframe":case"object":Sn("load",a);break;case"video":case"audio":for(f=0;f<te.length;f++)Sn(te[f],a);break;case"source":Sn("error",a);break;case"img":case"image":case"link":Sn("error",a),Sn("load",a);break;case"form":Sn("reset",a),Sn("submit",a);break;case"details":Sn("toggle",a);break;case"input":_t(a,d),Sn("invalid",a),pr(p,"onChange");break;case"select":a._wrapperState={wasMultiple:!!d.multiple},Sn("invalid",a),pr(p,"onChange");break;case"textarea":Qn(a,d),Sn("invalid",a),pr(p,"onChange")}for(u in fr(l,d),f=null,d)d.hasOwnProperty(u)&&(c=d[u],"children"===u?"string"==typeof c?a.textContent!==c&&(f=["children",c]):"number"==typeof c&&a.textContent!==""+c&&(f=["children",""+c]):b.hasOwnProperty(u)&&null!=c&&pr(p,u));switch(l){case"input":Ve(a),Tt(a,d,!0);break;case"textarea":Ve(a),Jn(a);break;case"select":case"option":break;default:"function"==typeof d.onClick&&(a.onclick=hr)}u=f,s.updateQueue=u,(s=null!==u)&&ao(t)}else{d=t,p=u,a=s,f=9===l.nodeType?l:l.ownerDocument,c===Zn.html&&(c=er(p)),c===Zn.html?"script"===p?((a=f.createElement("div")).innerHTML="<script><\/script>",f=a.removeChild(a.firstChild)):"string"==typeof a.is?f=f.createElement(p,{is:a.is}):(f=f.createElement(p),"select"===p&&(p=f,a.multiple?p.multiple=!0:a.size&&(p.size=a.size))):f=f.createElementNS(c,p),(a=f)[P]=d,a[I]=s,oo(a,t,!1,!1),p=a;var h=l,m=dr(f=u,d=s);switch(f){case"iframe":case"object":Sn("load",p),l=d;break;case"video":case"audio":for(l=0;l<te.length;l++)Sn(te[l],p);l=d;break;case"source":Sn("error",p),l=d;break;case"img":case"image":case"link":Sn("error",p),Sn("load",p),l=d;break;case"form":Sn("reset",p),Sn("submit",p),l=d;break;case"details":Sn("toggle",p),l=d;break;case"input":_t(p,d),l=bt(p,d),Sn("invalid",p),pr(h,"onChange");break;case"option":l=Yn(p,d);break;case"select":p._wrapperState={wasMultiple:!!d.multiple},l=i({},d,{value:void 0}),Sn("invalid",p),pr(h,"onChange");break;case"textarea":Qn(p,d),l=$n(p,d),Sn("invalid",p),pr(h,"onChange");break;default:l=d}fr(f,l),c=void 0;var v=f,g=p,y=l;for(c in y)if(y.hasOwnProperty(c)){var _=y[c];"style"===c?lr(g,_):"dangerouslySetInnerHTML"===c?null!=(_=_?_.__html:void 0)&&ir(g,_):"children"===c?"string"==typeof _?("textarea"!==v||""!==_)&&ar(g,_):"number"==typeof _&&ar(g,""+_):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(b.hasOwnProperty(c)?null!=_&&pr(h,c):null!=_&&gt(g,c,_,m))}switch(f){case"input":Ve(p),Tt(p,d,!1);break;case"textarea":Ve(p),Jn(p);break;case"option":null!=d.value&&p.setAttribute("value",""+yt(d.value));break;case"select":(l=p).multiple=!!d.multiple,null!=(p=d.value)?Xn(l,!!d.multiple,p,!1):null!=d.defaultValue&&Xn(l,!!d.multiple,d.defaultValue,!0);break;default:"function"==typeof l.onClick&&(p.onclick=hr)}(s=gr(u,s))&&ao(t),t.stateNode=a}null!==t.ref&&(t.effectTag|=128)}else null===t.stateNode&&o("166");break;case 6:a&&null!=t.stateNode?lo(a,t,a.memoizedProps,s):("string"!=typeof s&&(null===t.stateNode&&o("166")),a=wi(_i.current),wi(yi.current),ya(t)?(u=(s=t).stateNode,a=s.memoizedProps,u[P]=s,(s=u.nodeValue!==a)&&ao(t)):(u=t,(s=(9===a.nodeType?a:a.ownerDocument).createTextNode(s))[P]=t,u.stateNode=s));break;case 11:break;case 13:if(s=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=u,Co=t;break e}s=null!==s,u=null!==a&&null!==a.memoizedState,null!==a&&!s&&u&&(null!==(a=a.child.sibling)&&(null!==(l=t.firstEffect)?(t.firstEffect=a,a.nextEffect=l):(t.firstEffect=t.lastEffect=a,a.nextEffect=null),a.effectTag=8)),(s||u)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Ti(),uo(t);break;case 10:Ba(t);break;case 9:case 14:break;case 17:Ir(t.type)&&Dr();break;case 18:break;default:o("156")}Co=null}if(t=e,1===Oo||1!==t.childExpirationTime){for(s=0,u=t.child;null!==u;)(a=u.expirationTime)>s&&(s=a),(l=u.childExpirationTime)>s&&(s=l),u=u.sibling;t.childExpirationTime=s}if(null!==Co)return Co;null!==n&&0==(1024&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(null!==(e=To(e)))return e.effectTag&=1023,e;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=1024)}if(null!==r)return r;if(null===n)break;e=n}return null}function Wo(e){var t=Pa(e.alternate,e,Oo);return e.memoizedProps=e.pendingProps,null===t&&(t=qo(e)),So.current=null,t}function Yo(e,t){Ao&&o("243"),Ho(),Ao=!0;var n=Eo.current;Eo.current=sa;var r=e.nextExpirationTimeToWorkOn;r===Oo&&e===ko&&null!==Co||(Bo(),Oo=r,Co=Yr((ko=e).current,null),e.pendingCommitExpirationTime=0);for(var i=!1;;){try{if(t)for(;null!==Co&&!Mu();)Co=Wo(Co);else for(;null!==Co;)Co=Wo(Co)}catch(t){if(La=ja=Da=null,Ki(),null===Co)i=!0,Ru(t);else{null===Co&&o("271");var a=Co,u=a.return;if(null!==u){e:{var s=e,l=u,c=a,f=t;if(u=Oo,c.effectTag|=1024,c.firstEffect=c.lastEffect=null,null!==f&&"object"==typeof f&&"function"==typeof f.then){var d=f;f=l;var p=-1,h=-1;do{if(13===f.tag){var m=f.alternate;if(null!==m&&null!==(m=m.memoizedState)){h=10*(1073741822-m.timedOutAt);break}"number"==typeof(m=f.pendingProps.maxDuration)&&(0>=m?p=0:(-1===p||m<p)&&(p=m))}f=f.return}while(null!==f);f=l;do{if((m=13===f.tag)&&(m=void 0!==f.memoizedProps.fallback&&null===f.memoizedState),m){if(null===(l=f.updateQueue)?((l=new Set).add(d),f.updateQueue=l):l.add(d),0==(1&f.mode)){f.effectTag|=64,c.effectTag&=-1957,1===c.tag&&(null===c.alternate?c.tag=17:((u=$a(1073741823)).tag=Ga,Ka(c,u))),c.expirationTime=1073741823;break e}l=u;var v=(c=s).pingCache;null===v?(v=c.pingCache=new _o,m=new Set,v.set(d,m)):void 0===(m=v.get(d))&&(m=new Set,v.set(d,m)),m.has(l)||(m.add(l),c=Qo.bind(null,c,d,l),d.then(c,c)),-1===p?s=1073741823:(-1===h&&(h=10*(1073741822-ti(s,u))-5e3),s=h+p),0<=s&&No<s&&(No=s),f.effectTag|=2048,f.expirationTime=u;break e}f=f.return}while(null!==f);f=Error((ut(c.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+st(c))}Ro=!0,f=io(f,c),s=l;do{switch(s.tag){case 3:s.effectTag|=2048,s.expirationTime=u,Ja(s,u=wo(s,f,u));break e;case 1:if(p=f,h=s.type,c=s.stateNode,0==(64&s.effectTag)&&("function"==typeof h.getDerivedStateFromError||null!==c&&"function"==typeof c.componentDidCatch&&(null===Fo||!Fo.has(c)))){s.effectTag|=2048,s.expirationTime=u,Ja(s,u=xo(s,p,u));break e}}s=s.return}while(null!==s)}Co=qo(a);continue}i=!0,Ru(t)}}break}if(Ao=!1,Eo.current=n,La=ja=Da=null,Ki(),i)ko=null,e.finishedWork=null;else if(null!==Co)e.finishedWork=null;else{if(null===(n=e.current.alternate)&&o("281"),ko=null,Ro){if(i=e.latestPendingTime,a=e.latestSuspendedTime,u=e.latestPingedTime,0!==i&&i<r||0!==a&&a<r||0!==u&&u<r)return ei(e,r),void wu(e,n,r,e.expirationTime,-1);if(!e.didError&&t)return e.didError=!0,r=e.nextExpirationTimeToWorkOn=r,t=e.expirationTime=1073741823,void wu(e,n,r,t,-1)}t&&-1!==No?(ei(e,r),(t=10*(1073741822-ti(e,r)))<No&&(No=t),t=10*(1073741822-xu()),t=No-t,wu(e,n,r,e.expirationTime,0>t?0:t)):(e.pendingCommitExpirationTime=r,e.finishedWork=n)}}function Xo(e,t){for(var n=e.return;null!==n;){switch(n.tag){case 1:var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Fo||!Fo.has(r)))return Ka(n,e=xo(n,e=io(t,e),1073741823)),void Jo(n,1073741823);break;case 3:return Ka(n,e=wo(n,e=io(t,e),1073741823)),void Jo(n,1073741823)}n=n.return}3===e.tag&&(Ka(e,n=wo(e,n=io(t,e),1073741823)),Jo(e,1073741823))}function $o(e,t){var n=a.unstable_getCurrentPriorityLevel(),r=void 0;if(0==(1&t.mode))r=1073741823;else if(Ao&&!Io)r=Oo;else{switch(n){case a.unstable_ImmediatePriority:r=1073741823;break;case a.unstable_UserBlockingPriority:r=1073741822-10*(1+((1073741822-e+15)/10|0));break;case a.unstable_NormalPriority:r=1073741822-25*(1+((1073741822-e+500)/25|0));break;case a.unstable_LowPriority:case a.unstable_IdlePriority:r=1;break;default:o("313")}null!==ko&&r===Oo&&--r}return n===a.unstable_UserBlockingPriority&&(0===uu||r<uu)&&(uu=r),r}function Qo(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),null!==ko&&Oo===n?ko=null:(t=e.earliestSuspendedTime,r=e.latestSuspendedTime,0!==t&&n<=t&&n>=r&&(e.didError=!1,(0===(t=e.latestPingedTime)||t>n)&&(e.latestPingedTime=n),ni(n,e),0!==(n=e.expirationTime)&&Tu(e,n)))}function Ko(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return i}function Jo(e,t){null!==(e=Ko(e,t))&&(!Ao&&0!==Oo&&t>Oo&&Bo(),Zr(e,t),Ao&&!Io&&ko===e||Tu(e,e.expirationTime),gu>vu&&(gu=0,o("185")))}function Zo(e,t,n,r,i){return a.unstable_runWithPriority(a.unstable_ImmediatePriority,function(){return e(t,n,r,i)})}var eu=null,tu=null,nu=0,ru=void 0,iu=!1,au=null,ou=0,uu=0,su=!1,lu=null,cu=!1,fu=!1,du=null,pu=a.unstable_now(),hu=1073741822-(pu/10|0),mu=hu,vu=50,gu=0,yu=null;function bu(){hu=1073741822-((a.unstable_now()-pu)/10|0)}function _u(e,t){if(0!==nu){if(t<nu)return;null!==ru&&a.unstable_cancelCallback(ru)}nu=t,e=a.unstable_now()-pu,ru=a.unstable_scheduleCallback(Au,{timeout:10*(1073741822-t)-e})}function wu(e,t,n,r,i){e.expirationTime=r,0!==i||Mu()?0<i&&(e.timeoutHandle=br(function(e,t,n){e.pendingCommitExpirationTime=n,e.finishedWork=t,bu(),mu=hu,ku(e,n)}.bind(null,e,t,n),i)):(e.pendingCommitExpirationTime=n,e.finishedWork=t)}function xu(){return iu?mu:(Eu(),0!==ou&&1!==ou||(bu(),mu=hu),mu)}function Tu(e,t){null===e.nextScheduledRoot?(e.expirationTime=t,null===tu?(eu=tu=e,e.nextScheduledRoot=e):(tu=tu.nextScheduledRoot=e).nextScheduledRoot=eu):t>e.expirationTime&&(e.expirationTime=t),iu||(cu?fu&&(au=e,ou=1073741823,Ou(e,1073741823,!1)):1073741823===t?Cu(1073741823,!1):_u(e,t))}function Eu(){var e=0,t=null;if(null!==tu)for(var n=tu,r=eu;null!==r;){var i=r.expirationTime;if(0===i){if((null===n||null===tu)&&o("244"),r===r.nextScheduledRoot){eu=tu=r.nextScheduledRoot=null;break}if(r===eu)eu=i=r.nextScheduledRoot,tu.nextScheduledRoot=i,r.nextScheduledRoot=null;else{if(r===tu){(tu=n).nextScheduledRoot=eu,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if(i>e&&(e=i,t=r),r===tu)break;if(1073741823===e)break;n=r,r=r.nextScheduledRoot}}au=t,ou=e}var Su=!1;function Mu(){return!!Su||!!a.unstable_shouldYield()&&(Su=!0)}function Au(){try{if(!Mu()&&null!==eu){bu();var e=eu;do{var t=e.expirationTime;0!==t&&hu<=t&&(e.nextExpirationTimeToWorkOn=hu),e=e.nextScheduledRoot}while(e!==eu)}Cu(0,!0)}finally{Su=!1}}function Cu(e,t){if(Eu(),t)for(bu(),mu=hu;null!==au&&0!==ou&&e<=ou&&!(Su&&hu>ou);)Ou(au,ou,hu>ou),Eu(),bu(),mu=hu;else for(;null!==au&&0!==ou&&e<=ou;)Ou(au,ou,!1),Eu();if(t&&(nu=0,ru=null),0!==ou&&_u(au,ou),gu=0,yu=null,null!==du)for(e=du,du=null,t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(e){su||(su=!0,lu=e)}}if(su)throw e=lu,lu=null,su=!1,e}function ku(e,t){iu&&o("253"),au=e,ou=t,Ou(e,t,!1),Cu(1073741823,!1)}function Ou(e,t,n){if(iu&&o("245"),iu=!0,n){var r=e.finishedWork;null!==r?Nu(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,_r(r)),Yo(e,n),null!==(r=e.finishedWork)&&(Mu()?e.finishedWork=r:Nu(e,r,t)))}else null!==(r=e.finishedWork)?Nu(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,_r(r)),Yo(e,n),null!==(r=e.finishedWork)&&Nu(e,r,t));iu=!1}function Nu(e,t,n){var r=e.firstBatch;if(null!==r&&r._expirationTime>=n&&(null===du?du=[r]:du.push(r),r._defer))return e.finishedWork=t,void(e.expirationTime=0);e.finishedWork=null,e===yu?gu++:(yu=e,gu=0),a.unstable_runWithPriority(a.unstable_ImmediatePriority,function(){Go(e,t)})}function Ru(e){null===au&&o("246"),au.expirationTime=0,su||(su=!0,lu=e)}function Pu(e,t){var n=cu;cu=!0;try{return e(t)}finally{(cu=n)||iu||Cu(1073741823,!1)}}function Iu(e,t){if(cu&&!fu){fu=!0;try{return e(t)}finally{fu=!1}}return e(t)}function Du(e,t,n){cu||iu||0===uu||(Cu(uu,!1),uu=0);var r=cu;cu=!0;try{return a.unstable_runWithPriority(a.unstable_UserBlockingPriority,function(){return e(t,n)})}finally{(cu=r)||iu||Cu(1073741823,!1)}}function ju(e,t,n,r,i){var a=t.current;e:if(n){t:{2===tn(n=n._reactInternalFiber)&&1===n.tag||o("170");var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(Ir(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);o("171"),u=void 0}if(1===n.tag){var s=n.type;if(Ir(s)){n=Fr(n,s,u);break e}}n=u}else n=kr;return null===t.context?t.context=n:t.pendingContext=n,t=i,(i=$a(r)).payload={element:e},null!==(t=void 0===t?null:t)&&(i.callback=t),Ho(),Ka(a,i),Jo(a,r),r}function Lu(e,t,n,r){var i=t.current;return ju(e,t,n,i=$o(xu(),i),r)}function Fu(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Bu(e){var t=1073741822-25*(1+((1073741822-xu()+500)/25|0));t>=Mo&&(t=Mo-1),this._expirationTime=Mo=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Uu(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function zu(e,t,n){e={current:t=qr(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=t.stateNode=e}function Vu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Hu(e,t,n,r,i){var a=n._reactRootContainer;if(a){if("function"==typeof i){var o=i;i=function(){var e=Fu(a._internalRoot);o.call(e)}}null!=e?a.legacy_renderSubtreeIntoContainer(e,t,i):a.render(t,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new zu(e,!1,t)}(n,r),"function"==typeof i){var u=i;i=function(){var e=Fu(a._internalRoot);u.call(e)}}Iu(function(){null!=e?a.legacy_renderSubtreeIntoContainer(e,t,i):a.render(t,i)})}return Fu(a._internalRoot)}function Gu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Vu(t)||o("200"),function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Xe,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Me=function(e,t,n){switch(t){case"input":if(xt(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=F(r);i||o("90"),He(r),xt(r,i)}}}break;case"textarea":Kn(e,n);break;case"select":null!=(t=n.value)&&Xn(e,!!n.multiple,t,!1)}},Bu.prototype.render=function(e){this._defer||o("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new Uu;return ju(e,t,null,n,r._onCommit),r},Bu.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Bu.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||o("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,i=t;i!==this;)r=i,i=i._next;null===r&&o("251"),r._next=i._next,this._next=t,e.firstBatch=this}this._defer=!1,ku(e,n),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},Bu.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},Uu.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Uu.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!=typeof n&&o("191",n),n()}}},zu.prototype.render=function(e,t){var n=this._internalRoot,r=new Uu;return null!==(t=void 0===t?null:t)&&r.then(t),Lu(e,n,null,r._onCommit),r},zu.prototype.unmount=function(e){var t=this._internalRoot,n=new Uu;return null!==(e=void 0===e?null:e)&&n.then(e),Lu(null,t,null,n._onCommit),n},zu.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,i=new Uu;return null!==(n=void 0===n?null:n)&&i.then(n),Lu(t,r,e,i._onCommit),i},zu.prototype.createBatch=function(){var e=new Bu(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime>=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e},Re=Pu,Pe=Du,Ie=function(){iu||0===uu||(Cu(uu,!1),uu=0)};var qu={createPortal:Gu,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;return void 0===t&&("function"==typeof e.render?o("188"):o("268",Object.keys(e))),e=null===(e=rn(t))?null:e.stateNode},hydrate:function(e,t,n){return Vu(t)||o("200"),Hu(null,e,t,!0,n)},render:function(e,t,n){return Vu(t)||o("200"),Hu(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){return Vu(n)||o("200"),(null==e||void 0===e._reactInternalFiber)&&o("38"),Hu(e,t,n,!1,r)},unmountComponentAtNode:function(e){return Vu(e)||o("40"),!!e._reactRootContainer&&(Iu(function(){Hu(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Gu.apply(void 0,arguments)},unstable_batchedUpdates:Pu,unstable_interactiveUpdates:Du,flushSync:function(e,t){iu&&o("187");var n=cu;cu=!0;try{return Zo(e,t)}finally{cu=n,Cu(1073741823,!1)}},unstable_createRoot:function(e,t){return Vu(e)||o("299","unstable_createRoot"),new zu(e,!0,null!=t&&!0===t.hydrate)},unstable_flushControlled:function(e){var t=cu;cu=!0;try{Zo(e)}finally{(cu=t)||iu||Cu(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[j,L,F,k.injectEventPluginsByName,y,G,function(e){M(e,H)},Oe,Ne,Cn,N]}};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);zr=Hr(function(e){return t.onCommitFiberRoot(n,e)}),Vr=Hr(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}})(i({},e,{overrideProps:null,currentDispatcherRef:Ge.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rn(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}({findFiberByHostInstance:D,bundleType:0,version:"16.8.6",rendererPackageName:"react-dom"});var Wu={default:qu},Yu=Wu&&qu||Wu;e.exports=Yu.default||Yu},function(e,t,n){"use strict";e.exports=n(68)},function(e,t,n){"use strict";
/** @license React v0.13.6
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var r=null,i=!1,a=3,o=-1,u=-1,s=!1,l=!1;function c(){if(!s){var e=r.expirationTime;l?E():l=!0,T(p,e)}}function f(){var e=r,t=r.next;if(r===t)r=null;else{var n=r.previous;r=n.next=t,t.previous=n}e.next=e.previous=null,n=e.callback,t=e.expirationTime,e=e.priorityLevel;var i=a,o=u;a=e,u=t;try{var s=n()}finally{a=i,u=o}if("function"==typeof s)if(s={callback:s,priorityLevel:e,expirationTime:t,next:null,previous:null},null===r)r=s.next=s.previous=s;else{n=null,e=r;do{if(e.expirationTime>=t){n=e;break}e=e.next}while(e!==r);null===n?n=r:n===r&&(r=s,c()),(t=n.previous).next=n.previous=s,s.next=n,s.previous=t}}function d(){if(-1===o&&null!==r&&1===r.priorityLevel){s=!0;try{do{f()}while(null!==r&&1===r.priorityLevel)}finally{s=!1,null!==r?c():l=!1}}}function p(e){s=!0;var n=i;i=e;try{if(e)for(;null!==r;){var a=t.unstable_now();if(!(r.expirationTime<=a))break;do{f()}while(null!==r&&r.expirationTime<=a)}else if(null!==r)do{f()}while(null!==r&&!S())}finally{s=!1,i=n,null!==r?c():l=!1,d()}}var h,m,v=Date,g="function"==typeof setTimeout?setTimeout:void 0,y="function"==typeof clearTimeout?clearTimeout:void 0,b="function"==typeof requestAnimationFrame?requestAnimationFrame:void 0,_="function"==typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function w(e){h=b(function(t){y(m),e(t)}),m=g(function(){_(h),e(t.unstable_now())},100)}if("object"==typeof performance&&"function"==typeof performance.now){var x=performance;t.unstable_now=function(){return x.now()}}else t.unstable_now=function(){return v.now()};var T,E,S,M=null;if("undefined"!=typeof window?M=window:"undefined"!=typeof global&&(M=global),M&&M._schedMock){var A=M._schedMock;T=A[0],E=A[1],S=A[2],t.unstable_now=A[3]}else if("undefined"==typeof window||"function"!=typeof MessageChannel){var C=null,k=function(e){if(null!==C)try{C(e)}finally{C=null}};T=function(e){null!==C?setTimeout(T,0,e):(C=e,setTimeout(k,0,!1))},E=function(){C=null},S=function(){return!1}}else{"undefined"!=typeof console&&("function"!=typeof b&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof _&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var O=null,N=!1,R=-1,P=!1,I=!1,D=0,j=33,L=33;S=function(){return D<=t.unstable_now()};var F=new MessageChannel,B=F.port2;F.port1.onmessage=function(){N=!1;var e=O,n=R;O=null,R=-1;var r=t.unstable_now(),i=!1;if(0>=D-r){if(!(-1!==n&&n<=r))return P||(P=!0,w(U)),O=e,void(R=n);i=!0}if(null!==e){I=!0;try{e(i)}finally{I=!1}}};var U=function(e){if(null!==O){w(U);var t=e-D+L;t<L&&j<L?(8>t&&(t=8),L=t<j?j:t):j=t,D=e+L,N||(N=!0,B.postMessage(void 0))}else P=!1};T=function(e,t){O=e,R=t,I||0>t?B.postMessage(void 0):P||(P=!0,w(U))},E=function(){O=null,N=!1,R=-1}}t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=a,i=o;a=e,o=t.unstable_now();try{return n()}finally{a=r,o=i,d()}},t.unstable_next=function(e){switch(a){case 1:case 2:case 3:var n=3;break;default:n=a}var r=a,i=o;a=n,o=t.unstable_now();try{return e()}finally{a=r,o=i,d()}},t.unstable_scheduleCallback=function(e,n){var i=-1!==o?o:t.unstable_now();if("object"==typeof n&&null!==n&&"number"==typeof n.timeout)n=i+n.timeout;else switch(a){case 1:n=i+-1;break;case 2:n=i+250;break;case 5:n=i+1073741823;break;case 4:n=i+1e4;break;default:n=i+5e3}if(e={callback:e,priorityLevel:a,expirationTime:n,next:null,previous:null},null===r)r=e.next=e.previous=e,c();else{i=null;var u=r;do{if(u.expirationTime>n){i=u;break}u=u.next}while(u!==r);null===i?i=r:i===r&&(r=e,c()),(n=i.previous).next=i.previous=e,e.next=i,e.previous=n}return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(t===e)r=null;else{e===r&&(r=t);var n=e.previous;n.next=t,t.previous=n}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var n=a;return function(){var r=a,i=o;a=n,o=t.unstable_now();try{return e.apply(this,arguments)}finally{a=r,o=i,d()}}},t.unstable_getCurrentPriorityLevel=function(){return a},t.unstable_shouldYield=function(){return!i&&(null!==r&&r.expirationTime<u||S())},t.unstable_continueExecution=function(){null!==r&&c()},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return r}},function(e,t,n){"use strict";function r(e,t){var n=e.__state.conversionName.toString(),r=Math.round(e.r),i=Math.round(e.g),a=Math.round(e.b),o=e.a,u=Math.round(e.h),s=e.s.toFixed(1),l=e.v.toFixed(1);if(t||"THREE_CHAR_HEX"===n||"SIX_CHAR_HEX"===n){for(var c=e.hex.toString(16);c.length<6;)c="0"+c;return"#"+c}return"CSS_RGB"===n?"rgb("+r+","+i+","+a+")":"CSS_RGBA"===n?"rgba("+r+","+i+","+a+","+o+")":"HEX"===n?"0x"+e.hex.toString(16):"RGB_ARRAY"===n?"["+r+","+i+","+a+"]":"RGBA_ARRAY"===n?"["+r+","+i+","+a+","+o+"]":"RGB_OBJ"===n?"{r:"+r+",g:"+i+",b:"+a+"}":"RGBA_OBJ"===n?"{r:"+r+",g:"+i+",b:"+a+",a:"+o+"}":"HSV_OBJ"===n?"{h:"+u+",s:"+s+",v:"+l+"}":"HSVA_OBJ"===n?"{h:"+u+",s:"+s+",v:"+l+",a:"+o+"}":"unknown format"}n.r(t),n.d(t,"color",function(){return se}),n.d(t,"controllers",function(){return le}),n.d(t,"dom",function(){return ce}),n.d(t,"gui",function(){return fe}),n.d(t,"GUI",function(){return de});var i=Array.prototype.forEach,a=Array.prototype.slice,o={BREAK:{},extend:function(e){return this.each(a.call(arguments,1),function(t){(this.isObject(t)?Object.keys(t):[]).forEach(function(n){this.isUndefined(t[n])||(e[n]=t[n])}.bind(this))},this),e},defaults:function(e){return this.each(a.call(arguments,1),function(t){(this.isObject(t)?Object.keys(t):[]).forEach(function(n){this.isUndefined(e[n])&&(e[n]=t[n])}.bind(this))},this),e},compose:function(){var e=a.call(arguments);return function(){for(var t=a.call(arguments),n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},each:function(e,t,n){if(e)if(i&&e.forEach&&e.forEach===i)e.forEach(t,n);else if(e.length===e.length+0){var r,a=void 0;for(a=0,r=e.length;a<r;a++)if(a in e&&t.call(n,e[a],a)===this.BREAK)return}else for(var o in e)if(t.call(n,e[o],o)===this.BREAK)return},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var r=void 0;return function(){var i=this,a=arguments;var o=n||!r;clearTimeout(r),r=setTimeout(function(){r=null,n||e.apply(i,a)},t),o&&e.apply(i,a)}},toArray:function(e){return e.toArray?e.toArray():a.call(e)},isUndefined:function(e){return void 0===e},isNull:function(e){return null===e},isNaN:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return isNaN(e)}),isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return!1===e||!0===e},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)}},u=[{litmus:o.isString,conversions:{THREE_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString()+t[1].toString()+t[2].toString()+t[2].toString()+t[3].toString()+t[3].toString(),0)}},write:r},SIX_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9]{6})$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString(),0)}},write:r},CSS_RGB:{read:function(e){var t=e.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3])}},write:r},CSS_RGBA:{read:function(e){var t=e.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3]),a:parseFloat(t[4])}},write:r}}},{litmus:o.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:o.isArray,conversions:{RGB_ARRAY:{read:function(e){return 3===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return 4===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:o.isObject,conversions:{RGBA_OBJ:{read:function(e){return!!(o.isNumber(e.r)&&o.isNumber(e.g)&&o.isNumber(e.b)&&o.isNumber(e.a))&&{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return!!(o.isNumber(e.r)&&o.isNumber(e.g)&&o.isNumber(e.b))&&{space:"RGB",r:e.r,g:e.g,b:e.b}},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return!!(o.isNumber(e.h)&&o.isNumber(e.s)&&o.isNumber(e.v)&&o.isNumber(e.a))&&{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return!!(o.isNumber(e.h)&&o.isNumber(e.s)&&o.isNumber(e.v))&&{space:"HSV",h:e.h,s:e.s,v:e.v}},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}],s=void 0,l=void 0,c=function(){l=!1;var e=arguments.length>1?o.toArray(arguments):arguments[0];return o.each(u,function(t){if(t.litmus(e))return o.each(t.conversions,function(t,n){if(s=t.read(e),!1===l&&!1!==s)return l=s,s.conversionName=n,s.conversion=t,o.BREAK}),o.BREAK}),l},f=void 0,d={hsv_to_rgb:function(e,t,n){var r=Math.floor(e/60)%6,i=e/60-Math.floor(e/60),a=n*(1-t),o=n*(1-i*t),u=n*(1-(1-i)*t),s=[[n,u,a],[o,n,a],[a,n,u],[a,o,n],[u,a,n],[n,a,o]][r];return{r:255*s[0],g:255*s[1],b:255*s[2]}},rgb_to_hsv:function(e,t,n){var r=Math.min(e,t,n),i=Math.max(e,t,n),a=i-r,o=void 0;return 0===i?{h:NaN,s:0,v:0}:(o=e===i?(t-n)/a:t===i?2+(n-e)/a:4+(e-t)/a,(o/=6)<0&&(o+=1),{h:360*o,s:a/i,v:i/255})},rgb_to_hex:function(e,t,n){var r=this.hex_with_component(0,2,e);return r=this.hex_with_component(r,1,t),r=this.hex_with_component(r,0,n)},component_from_hex:function(e,t){return e>>8*t&255},hex_with_component:function(e,t,n){return n<<(f=8*t)|e&~(255<<f)}},p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},g=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},y=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},b=function(){function e(){if(h(this,e),this.__state=c.apply(this,arguments),!1===this.__state)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return m(e,[{key:"toString",value:function(){return r(this)}},{key:"toHexString",value:function(){return r(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),e}();function _(e,t,n){Object.defineProperty(e,t,{get:function(){return"RGB"===this.__state.space?this.__state[t]:(b.recalculateRGB(this,t,n),this.__state[t])},set:function(e){"RGB"!==this.__state.space&&(b.recalculateRGB(this,t,n),this.__state.space="RGB"),this.__state[t]=e}})}function w(e,t){Object.defineProperty(e,t,{get:function(){return"HSV"===this.__state.space?this.__state[t]:(b.recalculateHSV(this),this.__state[t])},set:function(e){"HSV"!==this.__state.space&&(b.recalculateHSV(this),this.__state.space="HSV"),this.__state[t]=e}})}b.recalculateRGB=function(e,t,n){if("HEX"===e.__state.space)e.__state[t]=d.component_from_hex(e.__state.hex,n);else{if("HSV"!==e.__state.space)throw new Error("Corrupted color state");o.extend(e.__state,d.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v))}},b.recalculateHSV=function(e){var t=d.rgb_to_hsv(e.r,e.g,e.b);o.extend(e.__state,{s:t.s,v:t.v}),o.isNaN(t.h)?o.isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=t.h},b.COMPONENTS=["r","g","b","h","s","v","hex","a"],_(b.prototype,"r",2),_(b.prototype,"g",1),_(b.prototype,"b",0),w(b.prototype,"h"),w(b.prototype,"s"),w(b.prototype,"v"),Object.defineProperty(b.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}}),Object.defineProperty(b.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=d.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}});var x=function(){function e(t,n){h(this,e),this.initialValue=t[n],this.domElement=document.createElement("div"),this.object=t,this.property=n,this.__onChange=void 0,this.__onFinishChange=void 0}return m(e,[{key:"onChange",value:function(e){return this.__onChange=e,this}},{key:"onFinishChange",value:function(e){return this.__onFinishChange=e,this}},{key:"setValue",value:function(e){return this.object[this.property]=e,this.__onChange&&this.__onChange.call(this,e),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),e}(),T={};o.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},function(e,t){o.each(e,function(e){T[e]=t})});var E=/(\d+(\.\d+)?)px/;function S(e){if("0"===e||o.isUndefined(e))return 0;var t=e.match(E);return o.isNull(t)?0:parseFloat(t[1])}var M={makeSelectable:function(e,t){void 0!==e&&void 0!==e.style&&(e.onselectstart=t?function(){return!1}:function(){},e.style.MozUserSelect=t?"auto":"none",e.style.KhtmlUserSelect=t?"auto":"none",e.unselectable=t?"on":"off")},makeFullscreen:function(e,t,n){var r=n,i=t;o.isUndefined(i)&&(i=!0),o.isUndefined(r)&&(r=!0),e.style.position="absolute",i&&(e.style.left=0,e.style.right=0),r&&(e.style.top=0,e.style.bottom=0)},fakeEvent:function(e,t,n,r){var i=n||{},a=T[t];if(!a)throw new Error("Event type "+t+" not supported.");var u=document.createEvent(a);switch(a){case"MouseEvents":var s=i.x||i.clientX||0,l=i.y||i.clientY||0;u.initMouseEvent(t,i.bubbles||!1,i.cancelable||!0,window,i.clickCount||1,0,0,s,l,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var c=u.initKeyboardEvent||u.initKeyEvent;o.defaults(i,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),c(t,i.bubbles||!1,i.cancelable,window,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.keyCode,i.charCode);break;default:u.initEvent(t,i.bubbles||!1,i.cancelable||!0)}o.defaults(u,r),e.dispatchEvent(u)},bind:function(e,t,n,r){var i=r||!1;return e.addEventListener?e.addEventListener(t,n,i):e.attachEvent&&e.attachEvent("on"+t,n),M},unbind:function(e,t,n,r){var i=r||!1;return e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent&&e.detachEvent("on"+t,n),M},addClass:function(e,t){if(void 0===e.className)e.className=t;else if(e.className!==t){var n=e.className.split(/ +/);-1===n.indexOf(t)&&(n.push(t),e.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return M},removeClass:function(e,t){if(t)if(e.className===t)e.removeAttribute("class");else{var n=e.className.split(/ +/),r=n.indexOf(t);-1!==r&&(n.splice(r,1),e.className=n.join(" "))}else e.className=void 0;return M},hasClass:function(e,t){return new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)").test(e.className)||!1},getWidth:function(e){var t=getComputedStyle(e);return S(t["border-left-width"])+S(t["border-right-width"])+S(t["padding-left"])+S(t["padding-right"])+S(t.width)},getHeight:function(e){var t=getComputedStyle(e);return S(t["border-top-width"])+S(t["border-bottom-width"])+S(t["padding-top"])+S(t["padding-bottom"])+S(t.height)},getOffset:function(e){var t=e,n={left:0,top:0};if(t.offsetParent)do{n.left+=t.offsetLeft,n.top+=t.offsetTop,t=t.offsetParent}while(t);return n},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}},A=function(e){function t(e,n){h(this,t);var r=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),i=r;return r.__prev=r.getValue(),r.__checkbox=document.createElement("input"),r.__checkbox.setAttribute("type","checkbox"),M.bind(r.__checkbox,"change",function(){i.setValue(!i.__prev)},!1),r.domElement.appendChild(r.__checkbox),r.updateDisplay(),r}return g(t,x),m(t,[{key:"setValue",value:function(e){var n=v(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),n}},{key:"updateDisplay",value:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),v(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(),C=function(e){function t(e,n,r){h(this,t);var i=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),a=r,u=i;if(i.__select=document.createElement("select"),o.isArray(a)){var s={};o.each(a,function(e){s[e]=e}),a=s}return o.each(a,function(e,t){var n=document.createElement("option");n.innerHTML=t,n.setAttribute("value",e),u.__select.appendChild(n)}),i.updateDisplay(),M.bind(i.__select,"change",function(){var e=this.options[this.selectedIndex].value;u.setValue(e)}),i.domElement.appendChild(i.__select),i}return g(t,x),m(t,[{key:"setValue",value:function(e){var n=v(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),n}},{key:"updateDisplay",value:function(){return M.isActive(this.__select)?this:(this.__select.value=this.getValue(),v(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this))}}]),t}(),k=function(e){function t(e,n){h(this,t);var r=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),i=r;function a(){i.setValue(i.__input.value)}return r.__input=document.createElement("input"),r.__input.setAttribute("type","text"),M.bind(r.__input,"keyup",a),M.bind(r.__input,"change",a),M.bind(r.__input,"blur",function(){i.__onFinishChange&&i.__onFinishChange.call(i,i.getValue())}),M.bind(r.__input,"keydown",function(e){13===e.keyCode&&this.blur()}),r.updateDisplay(),r.domElement.appendChild(r.__input),r}return g(t,x),m(t,[{key:"updateDisplay",value:function(){return M.isActive(this.__input)||(this.__input.value=this.getValue()),v(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}();function O(e){var t=e.toString();return t.indexOf(".")>-1?t.length-t.indexOf(".")-1:0}var N=function(e){function t(e,n,r){h(this,t);var i=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),a=r||{};return i.__min=a.min,i.__max=a.max,i.__step=a.step,o.isUndefined(i.__step)?0===i.initialValue?i.__impliedStep=1:i.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(i.initialValue))/Math.LN10))/10:i.__impliedStep=i.__step,i.__precision=O(i.__impliedStep),i}return g(t,x),m(t,[{key:"setValue",value:function(e){var n=e;return void 0!==this.__min&&n<this.__min?n=this.__min:void 0!==this.__max&&n>this.__max&&(n=this.__max),void 0!==this.__step&&n%this.__step!=0&&(n=Math.round(n/this.__step)*this.__step),v(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,n)}},{key:"min",value:function(e){return this.__min=e,this}},{key:"max",value:function(e){return this.__max=e,this}},{key:"step",value:function(e){return this.__step=e,this.__impliedStep=e,this.__precision=O(e),this}}]),t}();var R=function(e){function t(e,n,r){h(this,t);var i=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));i.__truncationSuspended=!1;var a=i,u=void 0;function s(){a.__onFinishChange&&a.__onFinishChange.call(a,a.getValue())}function l(e){var t=u-e.clientY;a.setValue(a.getValue()+t*a.__impliedStep),u=e.clientY}function c(){M.unbind(window,"mousemove",l),M.unbind(window,"mouseup",c),s()}return i.__input=document.createElement("input"),i.__input.setAttribute("type","text"),M.bind(i.__input,"change",function(){var e=parseFloat(a.__input.value);o.isNaN(e)||a.setValue(e)}),M.bind(i.__input,"blur",function(){s()}),M.bind(i.__input,"mousedown",function(e){M.bind(window,"mousemove",l),M.bind(window,"mouseup",c),u=e.clientY}),M.bind(i.__input,"keydown",function(e){13===e.keyCode&&(a.__truncationSuspended=!0,this.blur(),a.__truncationSuspended=!1,s())}),i.updateDisplay(),i.domElement.appendChild(i.__input),i}return g(t,N),m(t,[{key:"updateDisplay",value:function(){var e,n,r;return this.__input.value=this.__truncationSuspended?this.getValue():(e=this.getValue(),n=this.__precision,r=Math.pow(10,n),Math.round(e*r)/r),v(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}();function P(e,t,n,r,i){return r+(e-t)/(n-t)*(i-r)}var I=function(e){function t(e,n,r,i,a){h(this,t);var o=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,{min:r,max:i,step:a})),u=o;function s(e){e.preventDefault();var t=u.__background.getBoundingClientRect();return u.setValue(P(e.clientX,t.left,t.right,u.__min,u.__max)),!1}function l(){M.unbind(window,"mousemove",s),M.unbind(window,"mouseup",l),u.__onFinishChange&&u.__onFinishChange.call(u,u.getValue())}function c(e){var t=e.touches[0].clientX,n=u.__background.getBoundingClientRect();u.setValue(P(t,n.left,n.right,u.__min,u.__max))}function f(){M.unbind(window,"touchmove",c),M.unbind(window,"touchend",f),u.__onFinishChange&&u.__onFinishChange.call(u,u.getValue())}return o.__background=document.createElement("div"),o.__foreground=document.createElement("div"),M.bind(o.__background,"mousedown",function(e){document.activeElement.blur(),M.bind(window,"mousemove",s),M.bind(window,"mouseup",l),s(e)}),M.bind(o.__background,"touchstart",function(e){if(1!==e.touches.length)return;M.bind(window,"touchmove",c),M.bind(window,"touchend",f),c(e)}),M.addClass(o.__background,"slider"),M.addClass(o.__foreground,"slider-fg"),o.updateDisplay(),o.__background.appendChild(o.__foreground),o.domElement.appendChild(o.__background),o}return g(t,N),m(t,[{key:"updateDisplay",value:function(){var e=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*e+"%",v(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(),D=function(e){function t(e,n,r){h(this,t);var i=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),a=i;return i.__button=document.createElement("div"),i.__button.innerHTML=void 0===r?"Fire":r,M.bind(i.__button,"click",function(e){return e.preventDefault(),a.fire(),!1}),M.addClass(i.__button,"button"),i.domElement.appendChild(i.__button),i}return g(t,x),m(t,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),t}(),j=function(e){function t(e,n){h(this,t);var r=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));r.__color=new b(r.getValue()),r.__temp=new b(0);var i=r;r.domElement=document.createElement("div"),M.makeSelectable(r.domElement,!1),r.__selector=document.createElement("div"),r.__selector.className="selector",r.__saturation_field=document.createElement("div"),r.__saturation_field.className="saturation-field",r.__field_knob=document.createElement("div"),r.__field_knob.className="field-knob",r.__field_knob_border="2px solid ",r.__hue_knob=document.createElement("div"),r.__hue_knob.className="hue-knob",r.__hue_field=document.createElement("div"),r.__hue_field.className="hue-field",r.__input=document.createElement("input"),r.__input.type="text",r.__input_textShadow="0 1px 1px ",M.bind(r.__input,"keydown",function(e){13===e.keyCode&&p.call(this)}),M.bind(r.__input,"blur",p),M.bind(r.__selector,"mousedown",function(){M.addClass(this,"drag").bind(window,"mouseup",function(){M.removeClass(i.__selector,"drag")})}),M.bind(r.__selector,"touchstart",function(){M.addClass(this,"drag").bind(window,"touchend",function(){M.removeClass(i.__selector,"drag")})});var a,u=document.createElement("div");function s(e){v(e),M.bind(window,"mousemove",v),M.bind(window,"touchmove",v),M.bind(window,"mouseup",f),M.bind(window,"touchend",f)}function l(e){g(e),M.bind(window,"mousemove",g),M.bind(window,"touchmove",g),M.bind(window,"mouseup",d),M.bind(window,"touchend",d)}function f(){M.unbind(window,"mousemove",v),M.unbind(window,"touchmove",v),M.unbind(window,"mouseup",f),M.unbind(window,"touchend",f),m()}function d(){M.unbind(window,"mousemove",g),M.unbind(window,"touchmove",g),M.unbind(window,"mouseup",d),M.unbind(window,"touchend",d),m()}function p(){var e=c(this.value);!1!==e?(i.__color.__state=e,i.setValue(i.__color.toOriginal())):this.value=i.__color.toString()}function m(){i.__onFinishChange&&i.__onFinishChange.call(i,i.__color.toOriginal())}function v(e){-1===e.type.indexOf("touch")&&e.preventDefault();var t=i.__saturation_field.getBoundingClientRect(),n=e.touches&&e.touches[0]||e,r=n.clientX,a=n.clientY,o=(r-t.left)/(t.right-t.left),u=1-(a-t.top)/(t.bottom-t.top);return u>1?u=1:u<0&&(u=0),o>1?o=1:o<0&&(o=0),i.__color.v=u,i.__color.s=o,i.setValue(i.__color.toOriginal()),!1}function g(e){-1===e.type.indexOf("touch")&&e.preventDefault();var t=i.__hue_field.getBoundingClientRect(),n=1-((e.touches&&e.touches[0]||e).clientY-t.top)/(t.bottom-t.top);return n>1?n=1:n<0&&(n=0),i.__color.h=360*n,i.setValue(i.__color.toOriginal()),!1}return o.extend(r.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),o.extend(r.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:r.__field_knob_border+(r.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),o.extend(r.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),o.extend(r.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),o.extend(u.style,{width:"100%",height:"100%",background:"none"}),F(u,"top","rgba(0,0,0,0)","#000"),o.extend(r.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),(a=r.__hue_field).style.background="",a.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",a.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",a.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",a.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",a.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",o.extend(r.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:r.__input_textShadow+"rgba(0,0,0,0.7)"}),M.bind(r.__saturation_field,"mousedown",s),M.bind(r.__saturation_field,"touchstart",s),M.bind(r.__field_knob,"mousedown",s),M.bind(r.__field_knob,"touchstart",s),M.bind(r.__hue_field,"mousedown",l),M.bind(r.__hue_field,"touchstart",l),r.__saturation_field.appendChild(u),r.__selector.appendChild(r.__field_knob),r.__selector.appendChild(r.__saturation_field),r.__selector.appendChild(r.__hue_field),r.__hue_field.appendChild(r.__hue_knob),r.domElement.appendChild(r.__input),r.domElement.appendChild(r.__selector),r.updateDisplay(),r}return g(t,x),m(t,[{key:"updateDisplay",value:function(){var e=c(this.getValue());if(!1!==e){var t=!1;o.each(b.COMPONENTS,function(n){if(!o.isUndefined(e[n])&&!o.isUndefined(this.__color.__state[n])&&e[n]!==this.__color.__state[n])return t=!0,{}},this),t&&o.extend(this.__color.__state,e)}o.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var n=this.__color.v<.5||this.__color.s>.5?255:0,r=255-n;o.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+n+","+n+","+n+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,F(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),o.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+n+","+n+","+n+")",textShadow:this.__input_textShadow+"rgba("+r+","+r+","+r+",.7)"})}}]),t}(),L=["-moz-","-o-","-webkit-","-ms-",""];function F(e,t,n,r){e.style.background="",o.each(L,function(i){e.style.cssText+="background: "+i+"linear-gradient("+t+", "+n+" 0%, "+r+" 100%); "})}var B=function(e,t){var n=t||document,r=document.createElement("style");r.type="text/css",r.innerHTML=e;var i=n.getElementsByTagName("head")[0];try{i.appendChild(r)}catch(e){}},U=function(e,t){var n=e[t];return o.isArray(arguments[2])||o.isObject(arguments[2])?new C(e,t,arguments[2]):o.isNumber(n)?o.isNumber(arguments[2])&&o.isNumber(arguments[3])?o.isNumber(arguments[4])?new I(e,t,arguments[2],arguments[3],arguments[4]):new I(e,t,arguments[2],arguments[3]):o.isNumber(arguments[4])?new R(e,t,{min:arguments[2],max:arguments[3],step:arguments[4]}):new R(e,t,{min:arguments[2],max:arguments[3]}):o.isString(n)?new k(e,t):o.isFunction(n)?new D(e,t,""):o.isBoolean(n)?new A(e,t):null};var z=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},V=function(){function e(){h(this,e),this.backgroundElement=document.createElement("div"),o.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),M.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),o.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var t=this;M.bind(this.backgroundElement,"click",function(){t.hide()})}return m(e,[{key:"show",value:function(){var e=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),o.defer(function(){e.backgroundElement.style.opacity=1,e.domElement.style.opacity=1,e.domElement.style.webkitTransform="scale(1)"})}},{key:"hide",value:function(){var e=this,t=function t(){e.domElement.style.display="none",e.backgroundElement.style.display="none",M.unbind(e.domElement,"webkitTransitionEnd",t),M.unbind(e.domElement,"transitionend",t),M.unbind(e.domElement,"oTransitionEnd",t)};M.bind(this.domElement,"webkitTransitionEnd",t),M.bind(this.domElement,"transitionend",t),M.bind(this.domElement,"oTransitionEnd",t),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-M.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-M.getHeight(this.domElement)/2+"px"}}]),e}();B(function(e){if(e&&"undefined"!=typeof window){var t=document.createElement("style");return t.setAttribute("type","text/css"),t.innerHTML=e,document.head.appendChild(t),e}}(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n"));var H="Default",G=function(){try{return!!window.localStorage}catch(e){return!1}}(),q=void 0,W=!0,Y=void 0,X=!1,$=[],Q=function e(t){var n=this,r=t||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),M.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],r=o.defaults(r,{closeOnTop:!1,autoPlace:!0,width:e.DEFAULT_WIDTH}),r=o.defaults(r,{resizable:r.autoPlace,hideable:r.autoPlace}),o.isUndefined(r.load)?r.load={preset:H}:r.preset&&(r.load.preset=r.preset),o.isUndefined(r.parent)&&r.hideable&&$.push(this),r.resizable=o.isUndefined(r.parent)&&r.resizable,r.autoPlace&&o.isUndefined(r.scrollable)&&(r.scrollable=!0);var i,a=G&&"true"===localStorage.getItem(ne(this,"isLocal")),u=void 0,s=void 0;if(Object.defineProperties(this,{parent:{get:function(){return r.parent}},scrollable:{get:function(){return r.scrollable}},autoPlace:{get:function(){return r.autoPlace}},closeOnTop:{get:function(){return r.closeOnTop}},preset:{get:function(){return n.parent?n.getRoot().preset:r.load.preset},set:function(e){n.parent?n.getRoot().preset=e:r.load.preset=e,function(e){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].value===e.preset&&(e.__preset_select.selectedIndex=t)}(this),n.revert()}},width:{get:function(){return r.width},set:function(e){r.width=e,oe(n,e)}},name:{get:function(){return r.name},set:function(e){r.name=e,s&&(s.innerHTML=r.name)}},closed:{get:function(){return r.closed},set:function(t){r.closed=t,r.closed?M.addClass(n.__ul,e.CLASS_CLOSED):M.removeClass(n.__ul,e.CLASS_CLOSED),this.onResize(),n.__closeButton&&(n.__closeButton.innerHTML=t?e.TEXT_OPEN:e.TEXT_CLOSED)}},load:{get:function(){return r.load}},useLocalStorage:{get:function(){return a},set:function(e){G&&(a=e,e?M.bind(window,"unload",u):M.unbind(window,"unload",u),localStorage.setItem(ne(n,"isLocal"),e))}}}),o.isUndefined(r.parent)){if(this.closed=r.closed||!1,M.addClass(this.domElement,e.CLASS_MAIN),M.makeSelectable(this.domElement,!1),G&&a){n.useLocalStorage=!0;var l=localStorage.getItem(ne(this,"gui"));l&&(r.load=JSON.parse(l))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=e.TEXT_CLOSED,M.addClass(this.__closeButton,e.CLASS_CLOSE_BUTTON),r.closeOnTop?(M.addClass(this.__closeButton,e.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(M.addClass(this.__closeButton,e.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),M.bind(this.__closeButton,"click",function(){n.closed=!n.closed})}else{void 0===r.closed&&(r.closed=!0);var c=document.createTextNode(r.name);M.addClass(c,"controller-name"),s=K(n,c);M.addClass(this.__ul,e.CLASS_CLOSED),M.addClass(s,"title"),M.bind(s,"click",function(e){return e.preventDefault(),n.closed=!n.closed,!1}),r.closed||(this.closed=!1)}r.autoPlace&&(o.isUndefined(r.parent)&&(W&&(Y=document.createElement("div"),M.addClass(Y,"dg"),M.addClass(Y,e.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(Y),W=!1),Y.appendChild(this.domElement),M.addClass(this.domElement,e.CLASS_AUTO_PLACE)),this.parent||oe(n,r.width)),this.__resizeHandler=function(){n.onResizeDebounced()},M.bind(window,"resize",this.__resizeHandler),M.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),M.bind(this.__ul,"transitionend",this.__resizeHandler),M.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),r.resizable&&ae(this),u=function(){G&&"true"===localStorage.getItem(ne(n,"isLocal"))&&localStorage.setItem(ne(n,"gui"),JSON.stringify(n.getSaveObject()))},this.saveToLocalStorageIfPossible=u,r.parent||((i=n.getRoot()).width+=1,o.defer(function(){i.width-=1}))};function K(e,t,n){var r=document.createElement("li");return t&&r.appendChild(t),n?e.__ul.insertBefore(r,n):e.__ul.appendChild(r),e.onResize(),r}function J(e){M.unbind(window,"resize",e.__resizeHandler),e.saveToLocalStorageIfPossible&&M.unbind(window,"unload",e.saveToLocalStorageIfPossible)}function Z(e,t){var n=e.__preset_select[e.__preset_select.selectedIndex];n.innerHTML=t?n.value+"*":n.value}function ee(e,t){var n=e.getRoot(),r=n.__rememberedObjects.indexOf(t.object);if(-1!==r){var i=n.__rememberedObjectIndecesToControllers[r];if(void 0===i&&(i={},n.__rememberedObjectIndecesToControllers[r]=i),i[t.property]=t,n.load&&n.load.remembered){var a=n.load.remembered,o=void 0;if(a[e.preset])o=a[e.preset];else{if(!a[H])return;o=a[H]}if(o[r]&&void 0!==o[r][t.property]){var u=o[r][t.property];t.initialValue=u,t.setValue(u)}}}}function te(e,t,n,r){if(void 0===t[n])throw new Error('Object "'+t+'" has no property "'+n+'"');var i=void 0;if(r.color)i=new j(t,n);else{var a=[t,n].concat(r.factoryArgs);i=U.apply(e,a)}r.before instanceof x&&(r.before=r.before.__li),ee(e,i),M.addClass(i.domElement,"c");var u=document.createElement("span");M.addClass(u,"property-name"),u.innerHTML=i.property;var s=document.createElement("div");s.appendChild(u),s.appendChild(i.domElement);var l=K(e,s,r.before);return M.addClass(l,Q.CLASS_CONTROLLER_ROW),i instanceof j?M.addClass(l,"color"):M.addClass(l,p(i.getValue())),function(e,t,n){if(n.__li=t,n.__gui=e,o.extend(n,{options:function(t){if(arguments.length>1){var r=n.__li.nextElementSibling;return n.remove(),te(e,n.object,n.property,{before:r,factoryArgs:[o.toArray(arguments)]})}if(o.isArray(t)||o.isObject(t)){var i=n.__li.nextElementSibling;return n.remove(),te(e,n.object,n.property,{before:i,factoryArgs:[t]})}},name:function(e){return n.__li.firstElementChild.firstElementChild.innerHTML=e,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}}),n instanceof I){var r=new R(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});o.each(["updateDisplay","onChange","onFinishChange","step","min","max"],function(e){var t=n[e],i=r[e];n[e]=r[e]=function(){var e=Array.prototype.slice.call(arguments);return i.apply(r,e),t.apply(n,e)}}),M.addClass(t,"has-slider"),n.domElement.insertBefore(r.domElement,n.domElement.firstElementChild)}else if(n instanceof R){var i=function(t){if(o.isNumber(n.__min)&&o.isNumber(n.__max)){var r=n.__li.firstElementChild.firstElementChild.innerHTML,i=n.__gui.__listening.indexOf(n)>-1;n.remove();var a=te(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]});return a.name(r),i&&a.listen(),a}return t};n.min=o.compose(i,n.min),n.max=o.compose(i,n.max)}else n instanceof A?(M.bind(t,"click",function(){M.fakeEvent(n.__checkbox,"click")}),M.bind(n.__checkbox,"click",function(e){e.stopPropagation()})):n instanceof D?(M.bind(t,"click",function(){M.fakeEvent(n.__button,"click")}),M.bind(t,"mouseover",function(){M.addClass(n.__button,"hover")}),M.bind(t,"mouseout",function(){M.removeClass(n.__button,"hover")})):n instanceof j&&(M.addClass(t,"color"),n.updateDisplay=o.compose(function(e){return t.style.borderLeftColor=n.__color.toString(),e},n.updateDisplay),n.updateDisplay());n.setValue=o.compose(function(t){return e.getRoot().__preset_select&&n.isModified()&&Z(e.getRoot(),!0),t},n.setValue)}(e,l,i),e.__controllers.push(i),i}function ne(e,t){return document.location.href+"."+t}function re(e,t,n){var r=document.createElement("option");r.innerHTML=t,r.value=t,e.__preset_select.appendChild(r),n&&(e.__preset_select.selectedIndex=e.__preset_select.length-1)}function ie(e,t){t.style.display=e.useLocalStorage?"block":"none"}function ae(e){var t=void 0;function n(n){return n.preventDefault(),e.width+=t-n.clientX,e.onResize(),t=n.clientX,!1}function r(){M.removeClass(e.__closeButton,Q.CLASS_DRAG),M.unbind(window,"mousemove",n),M.unbind(window,"mouseup",r)}function i(i){return i.preventDefault(),t=i.clientX,M.addClass(e.__closeButton,Q.CLASS_DRAG),M.bind(window,"mousemove",n),M.bind(window,"mouseup",r),!1}e.__resize_handle=document.createElement("div"),o.extend(e.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),M.bind(e.__resize_handle,"mousedown",i),M.bind(e.__closeButton,"mousedown",i),e.domElement.insertBefore(e.__resize_handle,e.domElement.firstElementChild)}function oe(e,t){e.domElement.style.width=t+"px",e.__save_row&&e.autoPlace&&(e.__save_row.style.width=t+"px"),e.__closeButton&&(e.__closeButton.style.width=t+"px")}function ue(e,t){var n={};return o.each(e.__rememberedObjects,function(r,i){var a={},u=e.__rememberedObjectIndecesToControllers[i];o.each(u,function(e,n){a[n]=t?e.initialValue:e.getValue()}),n[i]=a}),n}Q.toggleHide=function(){X=!X,o.each($,function(e){e.domElement.style.display=X?"none":""})},Q.CLASS_AUTO_PLACE="a",Q.CLASS_AUTO_PLACE_CONTAINER="ac",Q.CLASS_MAIN="main",Q.CLASS_CONTROLLER_ROW="cr",Q.CLASS_TOO_TALL="taller-than-window",Q.CLASS_CLOSED="closed",Q.CLASS_CLOSE_BUTTON="close-button",Q.CLASS_CLOSE_TOP="close-top",Q.CLASS_CLOSE_BOTTOM="close-bottom",Q.CLASS_DRAG="drag",Q.DEFAULT_WIDTH=245,Q.TEXT_CLOSED="Close Controls",Q.TEXT_OPEN="Open Controls",Q._keydownHandler=function(e){"text"===document.activeElement.type||72!==e.which&&72!==e.keyCode||Q.toggleHide()},M.bind(window,"keydown",Q._keydownHandler,!1),o.extend(Q.prototype,{add:function(e,t){return te(this,e,t,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(e,t){return te(this,e,t,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.splice(this.__controllers.indexOf(e),1);var t=this;o.defer(function(){t.onResize()})},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&Y.removeChild(this.domElement);var e=this;o.each(this.__folders,function(t){e.removeFolder(t)}),M.unbind(window,"keydown",Q._keydownHandler,!1),J(this)},addFolder:function(e){if(void 0!==this.__folders[e])throw new Error('You already have a folder in this GUI by the name "'+e+'"');var t={name:e,parent:this};t.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(t.closed=this.load.folders[e].closed,t.load=this.load.folders[e]);var n=new Q(t);this.__folders[e]=n;var r=K(this,n.domElement);return M.addClass(r,"folder"),n},removeFolder:function(e){this.__ul.removeChild(e.domElement.parentElement),delete this.__folders[e.name],this.load&&this.load.folders&&this.load.folders[e.name]&&delete this.load.folders[e.name],J(e);var t=this;o.each(e.__folders,function(t){e.removeFolder(t)}),o.defer(function(){t.onResize()})},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var e=this.getRoot();if(e.scrollable){var t=M.getOffset(e.__ul).top,n=0;o.each(e.__ul.childNodes,function(t){e.autoPlace&&t===e.__save_row||(n+=M.getHeight(t))}),window.innerHeight-t-20<n?(M.addClass(e.domElement,Q.CLASS_TOO_TALL),e.__ul.style.height=window.innerHeight-t-20+"px"):(M.removeClass(e.domElement,Q.CLASS_TOO_TALL),e.__ul.style.height="auto")}e.__resize_handle&&o.defer(function(){e.__resize_handle.style.height=e.__ul.offsetHeight+"px"}),e.__closeButton&&(e.__closeButton.style.width=e.width+"px")},onResizeDebounced:o.debounce(function(){this.onResize()},50),remember:function(){if(o.isUndefined(q)&&((q=new V).domElement.innerHTML='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>'),this.parent)throw new Error("You can only call remember on a top level GUI.");var e=this;o.each(Array.prototype.slice.call(arguments),function(t){0===e.__rememberedObjects.length&&function(e){var t=e.__save_row=document.createElement("li");M.addClass(e.domElement,"has-save"),e.__ul.insertBefore(t,e.__ul.firstChild),M.addClass(t,"save-row");var n=document.createElement("span");n.innerHTML="&nbsp;",M.addClass(n,"button gears");var r=document.createElement("span");r.innerHTML="Save",M.addClass(r,"button"),M.addClass(r,"save");var i=document.createElement("span");i.innerHTML="New",M.addClass(i,"button"),M.addClass(i,"save-as");var a=document.createElement("span");a.innerHTML="Revert",M.addClass(a,"button"),M.addClass(a,"revert");var u=e.__preset_select=document.createElement("select");e.load&&e.load.remembered?o.each(e.load.remembered,function(t,n){re(e,n,n===e.preset)}):re(e,H,!1);if(M.bind(u,"change",function(){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].innerHTML=e.__preset_select[t].value;e.preset=this.value}),t.appendChild(u),t.appendChild(n),t.appendChild(r),t.appendChild(i),t.appendChild(a),G){var s=document.getElementById("dg-local-explain"),l=document.getElementById("dg-local-storage"),c=document.getElementById("dg-save-locally");c.style.display="block","true"===localStorage.getItem(ne(e,"isLocal"))&&l.setAttribute("checked","checked"),ie(e,s),M.bind(l,"change",function(){e.useLocalStorage=!e.useLocalStorage,ie(e,s)})}var f=document.getElementById("dg-new-constructor");M.bind(f,"keydown",function(e){!e.metaKey||67!==e.which&&67!==e.keyCode||q.hide()}),M.bind(n,"click",function(){f.innerHTML=JSON.stringify(e.getSaveObject(),void 0,2),q.show(),f.focus(),f.select()}),M.bind(r,"click",function(){e.save()}),M.bind(i,"click",function(){var t=prompt("Enter a new preset name.");t&&e.saveAs(t)}),M.bind(a,"click",function(){e.revert()})}(e),-1===e.__rememberedObjects.indexOf(t)&&e.__rememberedObjects.push(t)}),this.autoPlace&&oe(this,this.width)},getRoot:function(){for(var e=this;e.parent;)e=e.parent;return e},getSaveObject:function(){var e=this.load;return e.closed=this.closed,this.__rememberedObjects.length>0&&(e.preset=this.preset,e.remembered||(e.remembered={}),e.remembered[this.preset]=ue(this)),e.folders={},o.each(this.__folders,function(t,n){e.folders[n]=t.getSaveObject()}),e},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=ue(this),Z(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered[H]=ue(this,!0)),this.load.remembered[e]=ue(this),this.preset=e,re(this,e,!0),this.saveToLocalStorageIfPossible()},revert:function(e){o.each(this.__controllers,function(t){this.getRoot().load.remembered?ee(e||this.getRoot(),t):t.setValue(t.initialValue),t.__onFinishChange&&t.__onFinishChange.call(t,t.getValue())},this),o.each(this.__folders,function(e){e.revert(e)}),e||Z(this.getRoot(),!1)},listen:function(e){var t=0===this.__listening.length;this.__listening.push(e),t&&function e(t){0!==t.length&&z.call(window,function(){e(t)});o.each(t,function(e){e.updateDisplay()})}(this.__listening)},updateDisplay:function(){o.each(this.__controllers,function(e){e.updateDisplay()}),o.each(this.__folders,function(e){e.updateDisplay()})}});var se={Color:b,math:d,interpret:c},le={Controller:x,BooleanController:A,OptionController:C,StringController:k,NumberController:N,NumberControllerBox:R,NumberControllerSlider:I,FunctionController:D,ColorController:j},ce={dom:M},fe={GUI:Q},de=Q,pe={color:se,controllers:le,dom:ce,gui:fe,GUI:de};t.default=pe},function(e,t,n){var r;"undefined"!=typeof self&&self,r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=7)}([function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t,n,i,a,o,u,s){if(r(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,a,o,u,s],f=0;(l=new Error(t.replace(/%s/g,function(){return c[f++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,o,u=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),s=1;s<arguments.length;s++){for(var l in n=Object(arguments[s]))i.call(n,l)&&(u[l]=n[l]);if(r){o=r(n);for(var c=0;c<o.length;c++)a.call(n,o[c])&&(u[o[c]]=n[o[c]])}}return u}},function(e,t,n){"use strict";var r=n(1);e.exports=r},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";e.exports={}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(8),o=l(a),u=l(n(11)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(14));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={delayed:r.props.delay>0},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),i(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.delay;this.state.delayed&&(this.timeout=setTimeout(function(){e.setState({delayed:!1})},t))}},{key:"componentWillUnmount",value:function(){var e=this.timeout;e&&clearTimeout(e)}},{key:"render",value:function(){var e=this.props,t=e.color,n=(e.delay,e.type),i=e.height,a=e.width,u=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","delay","type","height","width"]),l=this.state.delayed?"blank":n,c=s[l],f={fill:t,height:i,width:a};return o.default.createElement("div",r({style:f,dangerouslySetInnerHTML:{__html:c}},u))}}]),t}();f.propTypes={color:u.default.string,delay:u.default.number,type:u.default.string,height:u.default.oneOfType([u.default.string,u.default.number]),width:u.default.oneOfType([u.default.string,u.default.number])},f.defaultProps={color:"#fff",delay:0,type:"balls",height:64,width:64},t.default=f},function(e,t,n){"use strict";e.exports=n(9)},function(e,t,n){"use strict";
/** @license React v16.3.2
 * react.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(2),i=n(0),a=n(5),o=n(1),u="function"==typeof Symbol&&Symbol.for,s=u?Symbol.for("react.element"):60103,l=u?Symbol.for("react.portal"):60106,c=u?Symbol.for("react.fragment"):60107,f=u?Symbol.for("react.strict_mode"):60108,d=u?Symbol.for("react.provider"):60109,p=u?Symbol.for("react.context"):60110,h=u?Symbol.for("react.async_mode"):60111,m=u?Symbol.for("react.forward_ref"):60112,v="function"==typeof Symbol&&Symbol.iterator;function g(e){for(var t=arguments.length-1,n="http://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);i(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};function b(e,t,n){this.props=e,this.context=t,this.refs=a,this.updater=n||y}function _(){}function w(e,t,n){this.props=e,this.context=t,this.refs=a,this.updater=n||y}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&g("85"),this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=b.prototype;var x=w.prototype=new _;x.constructor=w,r(x,b.prototype),x.isPureReactComponent=!0;var T={current:null},E=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function M(e,t,n){var r=void 0,i={},a=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,r)&&!S.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:s,type:e,key:a,ref:o,props:i,_owner:T.current}}function A(e){return"object"==typeof e&&null!==e&&e.$$typeof===s}var C=/\/+/g,k=[];function O(e,t,n,r){if(k.length){var i=k.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function N(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>k.length&&k.push(e)}function R(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var a=!1;if(null===e)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case s:case l:a=!0}}if(a)return n(r,e,""===t?"."+P(e,0):t),1;if(a=0,t=""===t?".":t+":",Array.isArray(e))for(var o=0;o<e.length;o++){var u=t+P(i=e[o],o);a+=R(i,u,n,r)}else if(null==e?u=null:u="function"==typeof(u=v&&e[v]||e["@@iterator"])?u:null,"function"==typeof u)for(e=u.call(e),o=0;!(i=e.next()).done;)a+=R(i=i.value,u=t+P(i,o++),n,r);else"object"===i&&g("31","[object Object]"===(n=""+e)?"object with keys {"+Object.keys(e).join(", ")+"}":n,"");return a}function P(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function I(e,t){e.func.call(e.context,t,e.count++)}function D(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?j(e,r,n,o.thatReturnsArgument):null!=e&&(A(e)&&(t=i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(C,"$&/")+"/")+n,e={$$typeof:s,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}),r.push(e))}function j(e,t,n,r,i){var a="";null!=n&&(a=(""+n).replace(C,"$&/")+"/"),t=O(t,a,r,i),null==e||R(e,"",D,t),N(t)}var L={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return j(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;t=O(null,null,t,n),null==e||R(e,"",I,t),N(t)},count:function(e){return null==e?0:R(e,"",o.thatReturnsNull,null)},toArray:function(e){var t=[];return j(e,t,null,o.thatReturnsArgument),t},only:function(e){return A(e)||g("143"),e}},createRef:function(){return{current:null}},Component:b,PureComponent:w,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:p,_calculateChangedBits:t,_defaultValue:e,_currentValue:e,_changedBits:0,Provider:null,Consumer:null}).Provider={$$typeof:d,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:m,render:e}},Fragment:c,StrictMode:f,unstable_AsyncMode:h,createElement:M,cloneElement:function(e,t,n){null==e&&g("267",e);var i=void 0,a=r({},e.props),o=e.key,u=e.ref,l=e._owner;if(null!=t){void 0!==t.ref&&(u=t.ref,l=T.current),void 0!==t.key&&(o=""+t.key);var c=void 0;for(i in e.type&&e.type.defaultProps&&(c=e.type.defaultProps),t)E.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=void 0===t[i]&&void 0!==c?c[i]:t[i])}if(1===(i=arguments.length-2))a.children=n;else if(1<i){c=Array(i);for(var f=0;f<i;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:s,type:e.type,key:o,ref:u,props:a,_owner:l}},createFactory:function(e){var t=M.bind(null,e);return t.type=e,t},isValidElement:A,version:"16.3.2",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:T,assign:r}},F=Object.freeze({default:L}),B=F&&L||F;e.exports=B.default?B.default:B},function(e,t,n){"use strict";
/** @license React v16.3.2
 * react.development.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */},function(e,t,n){e.exports=n(13)()},function(e,t,n){"use strict";var r=n(1),i=n(0),a=n(3),o=n(2),u=n(4),s=n(6);e.exports=function(e,t){var n="function"==typeof Symbol&&Symbol.iterator,l="@@iterator";var c="<<anonymous>>",f={array:m("array"),bool:m("boolean"),func:m("function"),number:m("number"),object:m("object"),string:m("string"),symbol:m("symbol"),any:h(r.thatReturnsNull),arrayOf:function(e){return h(function(t,n,r,i,a){if("function"!=typeof e)return new p("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var o=t[n];if(!Array.isArray(o)){var s=g(o);return new p("Invalid "+i+" `"+a+"` of type `"+s+"` supplied to `"+r+"`, expected an array.")}for(var l=0;l<o.length;l++){var c=e(o,l,r,i,a+"["+l+"]",u);if(c instanceof Error)return c}return null})},element:function(){return h(function(t,n,r,i,a){var o=t[n];if(!e(o)){var u=g(o);return new p("Invalid "+i+" `"+a+"` of type `"+u+"` supplied to `"+r+"`, expected a single ReactElement.")}return null})}(),instanceOf:function(e){return h(function(t,n,r,i,a){if(!(t[n]instanceof e)){var o=e.name||c,u=function(e){if(!e.constructor||!e.constructor.name)return c;return e.constructor.name}(t[n]);return new p("Invalid "+i+" `"+a+"` of type `"+u+"` supplied to `"+r+"`, expected instance of `"+o+"`.")}return null})},node:function(){return h(function(e,t,n,r,i){if(!v(e[t]))return new p("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.");return null})}(),objectOf:function(e){return h(function(t,n,r,i,a){if("function"!=typeof e)return new p("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var o=t[n],s=g(o);if("object"!==s)return new p("Invalid "+i+" `"+a+"` of type `"+s+"` supplied to `"+r+"`, expected an object.");for(var l in o)if(o.hasOwnProperty(l)){var c=e(o,l,r,i,a+"."+l,u);if(c instanceof Error)return c}return null})},oneOf:function(e){if(!Array.isArray(e))return r.thatReturnsNull;return h(function(t,n,r,i,a){for(var o=t[n],u=0;u<e.length;u++)if(d(o,e[u]))return null;var s=JSON.stringify(e);return new p("Invalid "+i+" `"+a+"` of value `"+o+"` supplied to `"+r+"`, expected one of "+s+".")})},oneOfType:function(e){if(!Array.isArray(e))return r.thatReturnsNull;for(var t=0;t<e.length;t++){var n=e[t];if("function"!=typeof n)return a(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",b(n),t),r.thatReturnsNull}return h(function(t,n,r,i,a){for(var o=0;o<e.length;o++){var s=e[o];if(null==s(t,n,r,i,a,u))return null}return new p("Invalid "+i+" `"+a+"` supplied to `"+r+"`.")})},shape:function(e){return h(function(t,n,r,i,a){var o=t[n],s=g(o);if("object"!==s)return new p("Invalid "+i+" `"+a+"` of type `"+s+"` supplied to `"+r+"`, expected `object`.");for(var l in e){var c=e[l];if(c){var f=c(o,l,r,i,a+"."+l,u);if(f)return f}}return null})},exact:function(e){return h(function(t,n,r,i,a){var s=t[n],l=g(s);if("object"!==l)return new p("Invalid "+i+" `"+a+"` of type `"+l+"` supplied to `"+r+"`, expected `object`.");var c=o({},t[n],e);for(var f in c){var d=e[f];if(!d)return new p("Invalid "+i+" `"+a+"` key `"+f+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var h=d(s,f,r,i,a+"."+f,u);if(h)return h}return null})}};function d(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function p(e){this.message=e,this.stack=""}function h(e){function n(n,r,a,o,s,l,f){(o=o||c,l=l||a,f!==u)&&(t&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types"));return null==r[a]?n?null===r[a]?new p("The "+s+" `"+l+"` is marked as required in `"+o+"`, but its value is `null`."):new p("The "+s+" `"+l+"` is marked as required in `"+o+"`, but its value is `undefined`."):null:e(r,a,o,s,l)}var r=n.bind(null,!1);return r.isRequired=n.bind(null,!0),r}function m(e){return h(function(t,n,r,i,a,o){var u=t[n];return g(u)!==e?new p("Invalid "+i+" `"+a+"` of type `"+y(u)+"` supplied to `"+r+"`, expected `"+e+"`."):null})}function v(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(v);if(null===t||e(t))return!0;var r=function(e){var t=e&&(n&&e[n]||e[l]);if("function"==typeof t)return t}(t);if(!r)return!1;var i,a=r.call(t);if(r!==t.entries){for(;!(i=a.next()).done;)if(!v(i.value))return!1}else for(;!(i=a.next()).done;){var o=i.value;if(o&&!v(o[1]))return!1}return!0;default:return!1}}function g(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}(t,e)?"symbol":t}function y(e){if(null==e)return""+e;var t=g(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function b(e){var t=y(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return p.prototype=Error.prototype,f.checkPropTypes=s,f.PropTypes=f,f}},function(e,t,n){"use strict";var r=n(1),i=n(0),a=n(4);e.exports=function(){function e(e,t,n,r,o,u){u!==a&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(15);Object.defineProperty(t,"blank",{enumerable:!0,get:function(){return d(r).default}});var i=n(16);Object.defineProperty(t,"balls",{enumerable:!0,get:function(){return d(i).default}});var a=n(17);Object.defineProperty(t,"bars",{enumerable:!0,get:function(){return d(a).default}});var o=n(18);Object.defineProperty(t,"bubbles",{enumerable:!0,get:function(){return d(o).default}});var u=n(19);Object.defineProperty(t,"cubes",{enumerable:!0,get:function(){return d(u).default}});var s=n(20);Object.defineProperty(t,"cylon",{enumerable:!0,get:function(){return d(s).default}});var l=n(21);Object.defineProperty(t,"spin",{enumerable:!0,get:function(){return d(l).default}});var c=n(22);Object.defineProperty(t,"spinningBubbles",{enumerable:!0,get:function(){return d(c).default}});var f=n(23);function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"spokes",{enumerable:!0,get:function(){return d(f).default}})},function(e,t){e.exports='<svg class="icon-blank" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"></svg>\n'},function(e,t){e.exports='<svg class="icon-loading" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  <path transform="translate(-8 0)" d="M4 12 A4 4 0 0 0 4 20 A4 4 0 0 0 4 12"> \n    <animateTransform attributeName="transform" type="translate" values="-8 0; 2 0; 2 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.25;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />\n  </path>\n  <path transform="translate(2 0)" d="M4 12 A4 4 0 0 0 4 20 A4 4 0 0 0 4 12"> \n    <animateTransform attributeName="transform" type="translate" values="2 0; 12 0; 12 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.35;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />\n  </path>\n  <path transform="translate(12 0)" d="M4 12 A4 4 0 0 0 4 20 A4 4 0 0 0 4 12"> \n    <animateTransform attributeName="transform" type="translate" values="12 0; 22 0; 22 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.45;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />\n  </path>\n  <path transform="translate(24 0)" d="M4 12 A4 4 0 0 0 4 20 A4 4 0 0 0 4 12"> \n    <animateTransform attributeName="transform" type="translate" values="22 0; 32 0; 32 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.55;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />\n  </path>\n</svg>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  <path transform="translate(2)" d="M0 12 V20 H4 V12z"> \n    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline"  />\n  </path>\n  <path transform="translate(8)" d="M0 12 V20 H4 V12z">\n    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.2" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline"  />\n  </path>\n  <path transform="translate(14)" d="M0 12 V20 H4 V12z">\n    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.4" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline" />\n  </path>\n  <path transform="translate(20)" d="M0 12 V20 H4 V12z">\n    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.6" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline" />\n  </path>\n  <path transform="translate(26)" d="M0 12 V20 H4 V12z">\n    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.8" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline" />\n  </path>\n</svg>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  <circle transform="translate(8 0)" cx="0" cy="16" r="0"> \n    <animate attributeName="r" values="0; 4; 0; 0" dur="1.2s" repeatCount="indefinite" begin="0"\n      keytimes="0;0.2;0.7;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline" />\n  </circle>\n  <circle transform="translate(16 0)" cx="0" cy="16" r="0"> \n    <animate attributeName="r" values="0; 4; 0; 0" dur="1.2s" repeatCount="indefinite" begin="0.3"\n      keytimes="0;0.2;0.7;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline" />\n  </circle>\n  <circle transform="translate(24 0)" cx="0" cy="16" r="0"> \n    <animate attributeName="r" values="0; 4; 0; 0" dur="1.2s" repeatCount="indefinite" begin="0.6"\n      keytimes="0;0.2;0.7;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline" />\n  </circle>\n</svg>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  <path transform="translate(-8 0)" d="M0 12 V20 H8 V12z"> \n    <animateTransform attributeName="transform" type="translate" values="-8 0; 2 0; 2 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.25;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />\n  </path>\n  <path transform="translate(2 0)" d="M0 12 V20 H8 V12z"> \n    <animateTransform attributeName="transform" type="translate" values="2 0; 12 0; 12 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.35;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />\n  </path>\n  <path transform="translate(12 0)" d="M0 12 V20 H8 V12z"> \n    <animateTransform attributeName="transform" type="translate" values="12 0; 22 0; 22 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.45;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />\n  </path>\n  <path transform="translate(24 0)" d="M0 12 V20 H8 V12z"> \n    <animateTransform attributeName="transform" type="translate" values="22 0; 32 0; 32 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.55;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />\n  </path>\n</svg>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  <path transform="translate(0 0)" d="M0 12 V20 H4 V12z">\n    <animateTransform attributeName="transform" type="translate" values="0 0; 28 0; 0 0; 0 0" dur="1.5s" begin="0" repeatCount="indefinite" keytimes="0;0.3;0.6;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </path>\n  <path opacity="0.5" transform="translate(0 0)" d="M0 12 V20 H4 V12z">\n    <animateTransform attributeName="transform" type="translate" values="0 0; 28 0; 0 0; 0 0" dur="1.5s" begin="0.1s" repeatCount="indefinite" keytimes="0;0.3;0.6;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </path>\n  <path opacity="0.25" transform="translate(0 0)" d="M0 12 V20 H4 V12z">\n    <animateTransform attributeName="transform" type="translate" values="0 0; 28 0; 0 0; 0 0" dur="1.5s" begin="0.2s" repeatCount="indefinite" keytimes="0;0.3;0.6;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </path>\n</svg>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  <path opacity=".25" d="M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"/>\n  <path d="M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z">\n    <animateTransform attributeName="transform" type="rotate" from="0 16 16" to="360 16 16" dur="0.8s" repeatCount="indefinite" />\n  </path>\n</svg>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  <circle cx="16" cy="3" r="0">\n    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </circle>\n  <circle transform="rotate(45 16 16)" cx="16" cy="3" r="0">\n    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.125s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </circle>\n  <circle transform="rotate(90 16 16)" cx="16" cy="3" r="0">\n    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.25s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </circle>\n  <circle transform="rotate(135 16 16)" cx="16" cy="3" r="0">\n    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.375s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </circle>\n  <circle transform="rotate(180 16 16)" cx="16" cy="3" r="0">\n    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.5s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </circle>\n  <circle transform="rotate(225 16 16)" cx="16" cy="3" r="0">\n    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.625s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </circle>\n  <circle transform="rotate(270 16 16)" cx="16" cy="3" r="0">\n    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.75s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </circle>\n  <circle transform="rotate(315 16 16)" cx="16" cy="3" r="0">\n    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.875s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </circle>\n  <circle transform="rotate(180 16 16)" cx="16" cy="3" r="0">\n    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.5s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </circle>\n</svg>\n'},function(e,t){e.exports='<svg id="loading" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(0 16 16)">\n    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0"/>\n  </path>\n  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(45 16 16)">\n    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.125s"/>\n  </path>\n  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(90 16 16)">\n    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.25s"/>\n  </path>\n  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(135 16 16)">\n    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.375s"/>\n  </path>\n  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(180 16 16)">\n    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.5s"/>\n  </path>\n  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(225 16 16)">\n    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.675s"/>\n  </path>\n  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(270 16 16)">\n    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.75s"/>\n  </path>\n  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(315 16 16)">\n    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.875s"/>\n  </path>\n</svg>\n'}])},e.exports=r()},function(e,t,n){var r=n(72);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(74)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(73)(!1)).push([e.i,".app {\n  color: grey;\n}\n\n/* dat.ui */\n.dg.ac {\n  z-index: 1;\n}\n\n#viewer-container {\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n",""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=(o=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),a=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(a).concat([i]).join("\n")}var o;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var a=this[i][0];"number"==typeof a&&(r[a]=!0)}for(i=0;i<e.length;i++){var o=e[i];"number"==typeof o[0]&&r[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),t.push(o))}},t}},function(e,t,n){var r,i,a={},o=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),u=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var r=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}}(),s=null,l=0,c=[],f=n(75);function d(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=a[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(y(r.parts[o],t))}else{var u=[];for(o=0;o<r.parts.length;o++)u.push(y(r.parts[o],t));a[r.id]={id:r.id,refs:1,parts:u}}}}function p(e,t){for(var n=[],r={},i=0;i<e.length;i++){var a=e[i],o=t.base?a[0]+t.base:a[0],u={css:a[1],media:a[2],sourceMap:a[3]};r[o]?r[o].parts.push(u):n.push(r[o]={id:o,parts:[u]})}return n}function h(e,t){var n=u(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=c[c.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),c.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=u(e.insertAt.before,n);n.insertBefore(t,i)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=c.indexOf(e);t>=0&&c.splice(t,1)}function v(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var r=function(){0;return n.nc}();r&&(e.attrs.nonce=r)}return g(t,e.attrs),h(e,t),t}function g(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function y(e,t){var n,r,i,a;if(t.transform&&e.css){if(!(a="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=a}if(t.singleton){var o=l++;n=s||(s=v(t)),r=w.bind(null,n,o,!1),i=w.bind(null,n,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",g(t,e.attrs),h(e,t),t}(t),r=function(e,t,n){var r=n.css,i=n.sourceMap,a=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||a)&&(r=f(r));i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var o=new Blob([r],{type:"text/css"}),u=e.href;e.href=URL.createObjectURL(o),u&&URL.revokeObjectURL(u)}.bind(null,n,t),i=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){m(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=o()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=p(e,t);return d(n,t),function(e){for(var r=[],i=0;i<n.length;i++){var o=n[i];(u=a[o.id]).refs--,r.push(u)}e&&d(p(e,t),t);for(i=0;i<r.length;i++){var u;if(0===(u=r[i]).refs){for(var s=0;s<u.parts.length;s++)u.parts[s]();delete a[u.id]}}}};var b,_=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function w(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=_(t,i);else{var a=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i,a=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?e:(i=0===a.indexOf("//")?a:0===a.indexOf("/")?n+a:r+a.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}}]);